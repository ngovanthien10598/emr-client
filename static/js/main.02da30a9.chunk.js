(this["webpackJsonpemr-client-js"]=this["webpackJsonpemr-client-js"]||[]).push([[0],{321:function(e,t,n){e.exports={circle:"Circle_circle__3fC-i","circle--success":"Circle_circle--success__1IfvS"}},495:function(e,t,n){},742:function(e,t,n){},746:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n(46),i=n.n(r),s=(n(495),n(8)),l=n.n(s),o=n(11),u=n(38),j=n(67),d=n(800),b=n(804),h=n(64),p=n(793),O=function(){return Object(a.jsxs)("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512.002 512.002",fill:"currentColor",xmlSpace:"preserve",children:[Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsxs)("g",{children:[Object(a.jsx)("circle",{cx:"338",cy:"346.001",r:"20"}),Object(a.jsx)("path",{d:"M238,472.001H80c-22.056,0-40-17.944-40-40v-164c0-22.056,17.944-40,40-40h288c22.056,0,40,17.944,40,40v40     c0,11.046,8.954,20,20,20c11.046,0,20-8.954,20-20v-40c0-44.112-35.888-80-80-80h-24.037v-70.534     c0-64.771-53.832-117.466-120-117.466s-120,52.695-120,117.466v70.534H80c-44.112,0-80,35.888-80,80v164     c0,44.112,35.888,80,80,80h158c11.046,0,20-8.954,20-20S249.046,472.001,238,472.001z M143.963,117.467     c0-42.715,35.888-77.466,80-77.466s80,34.751,80,77.466v70.534h-160V117.467z"}),Object(a.jsx)("path",{d:"M503.643,325.739c-8.982-6.431-21.477-4.362-27.904,4.62l-98.581,137.7c-2.692,3.122-6.066,3.796-7.874,3.916     c-1.854,0.123-5.424-0.112-8.567-3.061l-63.708-62.171c-7.906-7.716-20.568-7.559-28.282,0.345     c-7.715,7.905-7.561,20.567,0.345,28.282l63.82,62.281c0.06,0.058,0.119,0.116,0.18,0.173C342.639,506.933,355.41,512,368.55,512     c1.129,0,2.261-0.037,3.393-0.113c14.314-0.954,27.679-7.915,36.666-19.097c0.232-0.29,0.456-0.585,0.673-0.887l98.981-138.26     C514.692,344.662,512.624,332.168,503.643,325.739z"}),Object(a.jsx)("circle",{cx:"262",cy:"346.001",r:"20"}),Object(a.jsx)("circle",{cx:"112",cy:"346.001",r:"20"}),Object(a.jsx)("circle",{cx:"187",cy:"346.001",r:"20"})]})})}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{}),Object(a.jsx)("g",{})]})},m=n(54),x="LOGIN_PENDING",f="LOGIN_SUCCESS",g="LOGIN_FAILURE",v="LOGOUT",y="FETCH_DASHBOARD_PENDING",_="FETCH_DASHBOARD_SUCCESS",k="FETCH_DASHBOARD_FAILURE",w="CREATE_DRUG_CATEGORY_PENDING",C="CREATE_DRUG_CATEGORY_SUCCESS",S="CREATE_DRUG_CATEGORY_FAILURE",I="FETCH_DRUG_CATEGORIES_PENDING",T="FETCH_DRUG_CATEGORIES_SUCCESS",N="FETCH_DRUG_CATEGORIES_FAILURE",E="FETCH_DRUG_CATEGORY_DETAILS_PENDING",L="FETCH_DRUG_CATEGORY_DETAILS_SUCCESS",D="FETCH_DRUG_CATEGORY_DETAILS_FAILURE",F="UPDATE_DRUG_CATEGORY_PENDING",R="UPDATE_DRUG_CATEGORY_SUCCESS",H="UPDATE_DRUG_CATEGORY_FAILURE",B="DELETE_DRUG_CATEGORY_PENDING",M="DELETE_DRUG_CATEGORY_SUCCESS",Y="DELETE_DRUG_CATEGORY_FAILURE",V="GET_PROFILE_PENDING",P="GET_PROFILE_SUCCESS",A="GET_PROFILE_FAILURE",G="FETCH_DISEASE_CATEGORIES_PENDING",U="FETCH_DISEASE_CATEGORIES_SUCCESS",K="FETCH_DISEASE_CATEGORIES_FAILURE",z="FETCH_DISEASES_PENDING",X="FETCH_DISEASES_SUCCESS",Q="FETCH_DISEASES_FAILURE",q=n(10),W="https://emr-2020.wl.r.appspot.com/api",Z="https://api.emr-client.tech/api",J=W+"/auth/login/",$=W+"/admin/manage-drug-category",ee=W+"/user/drug-category",te=n(12),ne=n.n(te),ae="".concat(W,"/auth");function ce(e,t){var n,a="".concat(ae,"/login/");return ne.a.post(a,(n={},Object(q.a)(n,e.includes("+84")?"phone":"email",e),Object(q.a)(n,"password",t),n))}function re(e){var t="".concat(ae,"/refresh-token/");return ne.a.post(t,{refresh_token:e})}function ie(e){var t="".concat(ae,"/verify-email/").concat(e,"/");return ne.a.get(t)}function se(e){var t="".concat(ae,"/change-password/");return ne.a.put(t,e)}var le=n(65),oe=n.n(le),ue="".concat(W,"/user");function je(){var e="".concat(ue,"/profile/");return ne.a.get(e)}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";if("user"!==t&&"patient"!==t)return Promise.reject(new Error("Unknown role"));var n="".concat(Z,"/register-").concat(t);return ne.a.post(n,Object(q.a)({},"".concat(t,"_id"),e))}function be(e){var t="".concat(ue,"/profile/");return ne.a.put(t,e)}function he(e){return{type:P,payload:e}}function pe(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),e.next=4,je();case 4:n=e.sent,a=n.data,t(he(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t({type:A});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}function Oe(){return oe.a.remove("EMR_token"),oe.a.remove("EMR_refresh"),function(e){e({type:v})}}var me=function(){var e=Object(j.g)(),t=Object(m.c)(),n=Object(m.d)((function(e){return e.authState})),r=Object(m.d)((function(e){return e.userState})),i=r.user;return Object(c.useEffect)((function(){if(i&&i.role){var t=function(e){if(!e)return"/login";switch(e.id){case 1:return"/admin";case 2:return"/physician";case 3:return"/receptionist";case 4:return"/patient";default:return""}}(i.role);console.log(t),e.replace(t)}}),[i,e]),Object(a.jsxs)(d.a,{className:"auth",layout:"vertical",autoComplete:"off",noValidate:!0,onFinish:function(e){var n,a;t((n=e.email,a=e.password,function(){var e=Object(o.a)(l.a.mark((function e(t){var c,r,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:x}),e.next=4,ce(n,a);case 4:c=e.sent,r=c.data,i=r.access_token,s=r.refresh_token,oe.a.set("EMR_token",i,{expires:3/24}),oe.a.set("EMR_refresh",s,{expires:7}),t({type:f}),t(pe()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t({type:g});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(a.jsxs)("div",{className:"auth__header text-center",children:[Object(a.jsx)(p.a,{component:O}),Object(a.jsx)("h1",{className:"text-3xl",children:"\u0110\u0103ng nh\u1eadp"})]}),Object(a.jsx)(d.a.Item,{name:"email",children:Object(a.jsx)(b.a,{type:"email",placeholder:"Email/\u0110i\u1ec7n tho\u1ea1i"})}),Object(a.jsx)(d.a.Item,{name:"password",className:"m-0",children:Object(a.jsx)(b.a.Password,{placeholder:"M\u1eadt kh\u1ea9u"})}),Object(a.jsx)("div",{className:"mt-2 mb-6"}),Object(a.jsx)(d.a.Item,{children:Object(a.jsx)(h.a,{loading:n.loginLoading||r.getProfileLoading,block:!0,type:"primary",size:"large",htmlType:"submit",children:"\u0110\u0103ng nh\u1eadp"})})]})},xe=function(e){return Object(a.jsx)("main",{className:"login-page",children:Object(a.jsx)(me,{})})},fe=n(172),ge=n(796),ve=n(108),ye=n(826),_e=n(827),ke=n(828),we=n(829),Ce=n(830),Se=n(831),Ie=n(814),Te=n(2),Ne=n(188),Ee=n(103),Le=n(441),De=n(809),Fe=n(807),Re=n(812),He=n(145);var Be=n(815),Me=n(816),Ye=n(429),Ve=Object(m.b)((function(e){return{statistic:e.dashboardState.statistic,fetchLoading:e.dashboardState.fetchLoading}}),(function(e){return{fetchDashboard:function(){return e(function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),e.next=4,ne.a.get("https://api.emr-client.tech/api/admin/statistic");case 4:return n=e.sent,e.abrupt("return",t((a=n.data,{type:_,payload:a})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",t({type:k}));case 11:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=Object(c.useState)({total:0,completed:0,unCompleted:0}),n=Object(Te.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)({total:0,completed:0,unCompleted:0}),l=Object(Te.a)(s,2),o=l[0],u=l[1],j=Object(c.useState)([]),d=Object(Te.a)(j,2),b=d[0],h=d[1],p=Object(c.useState)("T\u1ea5t c\u1ea3"),O=Object(Te.a)(p,2),m=O[0],x=O[1],f=Object(c.useState)([{month:1,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:2,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:3,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:4,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:5,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:6,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:7,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:8,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:9,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:10,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:11,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:12,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0}]),g=Object(Te.a)(f,2),v=g[0],y=g[1],_=e.fetchDashboard,k=e.statistic,w=e.fetchLoading;return Object(c.useEffect)((function(){_()}),[]),Object(c.useEffect)((function(){if(k){var e=0,t=0,n=0,a=[];Object.keys(k.emr).map((function(t){e+=k.emr[t];var n=t.split("/"),c=Object(Te.a)(n,2),r=(c[0],c[1]);a[r]||a.push(r)})),Object.keys(k.completed_emr).map((function(e){t+=k.completed_emr[e]})),Object.keys(k.uncompleted_emr).map((function(e){n+=k.uncompleted_emr[e]})),x(a[a.length-1]),i({total:e,completed:t,unCompleted:n}),h(a)}}),[k]),Object(c.useEffect)((function(){m&&k&&function(){var e=[{month:1,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:2,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:3,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:4,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:5,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:6,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:7,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:8,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:9,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:10,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:11,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0},{month:12,"\u0110\xe3 \u0111\xf3ng":0,"Ch\u01b0a \u0111\xf3ng":0}],t=0,n=0;Object.keys(k.completed_emr).map((function(n){var a=n.split("/"),c=Object(Te.a)(a,2),r=c[0];c[1]==m&&(e[r-1]["\u0110\xe3 \u0111\xf3ng"]=k.completed_emr[n],t+=k.completed_emr[n])})),Object.keys(k.uncompleted_emr).map((function(t){var a=t.split("/"),c=Object(Te.a)(a,2),r=c[0];c[1]==m&&(e[r-1]["Ch\u01b0a \u0111\xf3ng"]=k.uncompleted_emr[t],n+=k.uncompleted_emr[t])})),y(e),u({total:t+n,completed:t,unCompleted:n})}()}),[m]),Object(c.useEffect)((function(){console.log(v)}),[v]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"text-xl mb-5",children:"Th\u1ed1ng k\xea"}),Object(a.jsxs)(Ne.a,{gutter:60,className:"mb-5",children:[Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(Le.a,{spinning:w,children:Object(a.jsx)(De.a,{children:Object(a.jsx)(Fe.a,{title:"T\u1ed5ng s\u1ed1 b\u1ec7nh \xe1n",value:r.total,valueStyle:{color:"#1890ff"},prefix:Object(a.jsx)(Ie.a,{})})})})}),Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(Le.a,{spinning:w,children:Object(a.jsx)(De.a,{children:Object(a.jsx)(Fe.a,{title:"B\u1ec7nh \xe1n \u0111\xe3 \u0111\xf3ng",value:r.completed,valueStyle:{color:"#3f8600"},prefix:Object(a.jsx)(Be.a,{})})})})}),Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(Le.a,{spinning:w,children:Object(a.jsx)(De.a,{children:Object(a.jsx)(Fe.a,{title:"B\u1ec7nh \xe1n ch\u01b0a \u0111\xf3ng",value:r.unCompleted,valueStyle:{color:"#cf1322"},prefix:Object(a.jsx)(Me.a,{})})})})})]}),Object(a.jsxs)(Ne.a,{justify:"space-between",align:"middle",gutter:30,children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h2",{children:"B\u1ec7nh \xe1n"})}),Object(a.jsx)(Ee.a,{className:"ml-auto",children:Object(a.jsxs)(Re.b,{size:"large",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("strong",{children:"T\u1ed5ng:"})," ",o.total]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("strong",{children:"\u0110\xf3ng:"})," ",o.completed]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("strong",{children:"Ch\u01b0a \u0111\xf3ng:"})," ",o.unCompleted]})]})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(He.a,{style:{width:100},value:m,onChange:function(e){x(e)},children:b.map((function(e){return Object(a.jsx)(He.a.Option,{value:e,children:e},e)}))})})]}),Object(a.jsx)("div",{style:{height:400,width:"100%"},children:Object(a.jsx)(Ye.a,{data:v,margin:{top:50,right:130,bottom:50,left:60},padding:.3,keys:["\u0110\xe3 \u0111\xf3ng","Ch\u01b0a \u0111\xf3ng"],colors:["#3f8600","#cf1322"],labelTextColor:"#fff",tooltip:function(e){return Object(a.jsxs)("span",{children:[e.id,": ",e.value]})},indexBy:"month",legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,itemHeight:24,itemWidth:40,translateX:70}]})})]})})),Pe=n(795),Ae=n(798),Ge=n(803),Ue=n(817),Ke=n(818),ze=n(819),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Vui l\xf2ng \u0111i\u1ec1n v\xe0o tr\u01b0\u1eddng n\xe0y";return{required:!0,message:e}},Qe=function(e){var t=e.form,n=e.onFinish,c=e.defaultCategory;return Object(a.jsx)(d.a,{layout:"vertical",form:t,onFinish:n,children:Object(a.jsx)(d.a.Item,{label:"Nh\xf3m thu\u1ed1c",name:"name",initialValue:null===c||void 0===c?void 0:c.name,rules:[Xe("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c")],children:Object(a.jsx)(b.a,{autoFocus:!0})})})},qe="".concat(W,"/admin/manage-drug-category");function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(qe,"/?search=").concat(e);return ne.a.get(t)}var Ze="CREATE",Je="UPDATE";function $e(e){return e?Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"):""}var et=Object(m.b)((function(e){return{categories:e.drugCategoryState.drugCategories,createLoading:e.drugCategoryState.createLoading,fetchLoading:e.drugCategoryState.fetchLoading,updateLoading:e.drugCategoryState.updateLoading,deleteLoading:e.drugCategoryState.deleteLoading}}),(function(e){return{createDrugCategory:function(t){return e(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:w}),t.next=4,ne.a.post("https://emr-2020.wl.r.appspot.com/api/admin/manage-drug-category/",e);case 4:n({type:C}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:S});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchDrugCategories:function(t,n){return e(function(e,t){var n;return n="admin"===e?$+"/":ee+"/",t&&(n+=$e(t)),function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:I}),e.next=4,ne.a.get(n);case 4:a=e.sent,t((c=a.data,{type:T,payload:c})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:N});case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(t,n))},updateDrugCategory:function(t,n){return e(function(e,t){var n=$+"/".concat(e,"/");return function(){var e=Object(o.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:F}),e.next=4,ne.a.put(n,t);case 4:a({type:R}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:H});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(t,n))},deleteDrugCategory:function(t){return e(function(e){var t=$+"/".concat(e,"/");return function(){var e=Object(o.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:B}),e.next=4,ne.a.delete(t);case 4:return e.abrupt("return",n({type:M}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n({type:Y}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.categories,n=e.createDrugCategory,r=e.fetchDrugCategories,i=e.updateDrugCategory,s=e.deleteDrugCategory,u=e.createLoading,j=e.fetchLoading,b=e.updateLoading,p=e.deleteLoading,O=Object(c.useState)(!1),m=Object(Te.a)(O,2),x=m[0],f=m[1],g=Object(c.useState)(Ze),v=Object(Te.a)(g,2),y=v[0],_=v[1],k=Object(c.useState)(null),w=Object(Te.a)(k,2),C=w[0],S=w[1],I=d.a.useForm(),T=Object(Te.a)(I,1)[0];Object(c.useEffect)((function(){console.log(p)}),[p]);var N=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"T\xean",key:"name",dataIndex:"name"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,_(Je),S(e),void f(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okButtonProps:{loading:p},okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function E(){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(l.a.mark((function e(){var t,a,c,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.validateFields();case 3:if(t=e.sent,a=t.name,c=a.indexOf(". "),s=a.substr(c>-1?c+2:0),-1===s.indexOf("Nh\xf3m")&&(s="Nh\xf3m "+s),o=s.charAt(0).toUpperCase()+s.substr(1).toLowerCase(),y!==Ze){e.next=13;break}return e.next=13,n({name:o});case 13:if(y!==Je){e.next=16;break}return e.next=16,i(C.id,{name:o});case 16:return f(!1),e.next=19,r("admin");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0),f(!1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t.id);case 3:return e.next=5,r("admin");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){r("admin")}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd nh\xf3m thu\u1ed1c"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){_(Ze),f(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:N,dataSource:t,pagination:!1,loading:j}),Object(a.jsx)(Ge.a,{visible:x,title:y===Ze?"Th\xeam nh\xf3m thu\u1ed1c":"C\u1eadp nh\u1eadt nh\xf3m thu\u1ed1c",onCancel:function(){f(!1)},confirmLoading:y===Je&&b||y===Ze&&u,destroyOnClose:!0,afterClose:function(){T.resetFields(),S(null)},onOk:E,children:Object(a.jsx)(Qe,{onFinish:E,form:T,defaultCategory:C})})]})})),tt=function(e){var t=e.form,n=e.onFinish,c=e.defaultUnit;return Object(a.jsx)(d.a,{layout:"vertical",form:t,onFinish:n,children:Object(a.jsx)(d.a.Item,{label:"\u0110\u01a1n v\u1ecb t\xednh",name:"name",initialValue:null===c||void 0===c?void 0:c.name,children:Object(a.jsx)(b.a,{autoFocus:!0})})})},nt="".concat(W,"/admin/manage-drug-unit");function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(nt,"/?search=").concat(e);return ne.a.get(t)}function ct(e){var t="".concat(nt,"/");return ne.a.post(t,{name:e})}function rt(e,t){var n="".concat(nt,"/").concat(e,"/");return ne.a.put(n,{name:t})}function it(e){var t="".concat(nt,"/").concat(e,"/");return ne.a.delete(t)}var st=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"\u0110\u01a1n v\u1ecb t\xednh",key:"name",dataIndex:"name"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,at();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,k!==Ze){e.next=8;break}return e.next=8,ct(t.name);case 8:if(k!==Je){e.next=11;break}return e.next=11,rt(I.id,t.name);case 11:D(),r(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd \u0111\u01a1n v\u1ecb t\xednh"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,loading:O,pagination:!1}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam \u0111\u01a1n v\u1ecb t\xednh":"C\u1eadp nh\u1eadt \u0111\u01a1n v\u1ecb t\xednh",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(tt,{onFinish:R,form:E,defaultUnit:I})})]})},lt=function(e){var t=e.form,n=e.onFinish,c=e.defaultRoute;return Object(a.jsx)(d.a,{layout:"vertical",form:t,onFinish:n,children:Object(a.jsx)(d.a.Item,{label:"\u0110\u01b0\u1eddng d\xf9ng thu\u1ed1c",name:"name",initialValue:null===c||void 0===c?void 0:c.name,children:Object(a.jsx)(b.a,{autoFocus:!0})})})},ot="".concat(W,"/admin/manage-drug-route");function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(ot,"/?search=").concat(e);return ne.a.get(t)}function jt(e){var t="".concat(ot,"/");return ne.a.post(t,{name:e})}function dt(e,t){var n="".concat(ot,"/").concat(e,"/");return ne.a.put(n,{name:t})}function bt(e){var t="".concat(ot,"/").concat(e,"/");return ne.a.delete(t)}var ht=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"T\xean",key:"name",dataIndex:"name"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,ut();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,k!==Ze){e.next=8;break}return e.next=8,jt(t.name);case 8:if(k!==Je){e.next=11;break}return e.next=11,dt(I.id,t.name);case 11:D(),r(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd \u0111\u01b0\u1eddng d\xf9ng thu\u1ed1c"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,pagination:!1,loading:O}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam \u0111\u01b0\u1eddng d\xf9ng thu\u1ed1c":"C\u1eadp nh\u1eadt \u0111\u01b0\u1eddng d\xf9ng thu\u1ed1c",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(lt,{onFinish:R,form:E,defaultRoute:I})})]})},pt=n(14),Ot="".concat(W,"/admin/manage-drug");function mt(e){var t="".concat(Ot,"/");return e?ne.a.get("".concat(t,"?").concat($e(e))):ne.a.get(t)}function xt(e){var t="".concat(Ot,"/").concat(e,"/");return ne.a.get(t)}function ft(e){var t="".concat(Ot,"/");return ne.a.post(t,e)}function gt(e,t){var n="".concat(Ot,"/").concat(e,"/");return ne.a.put(n,t)}function vt(e){var t="".concat(Ot,"/").concat(e,"/");return ne.a.delete(t)}var yt="".concat(W,"/admin/manage-drug-dosage-form");function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(yt,"/?search=").concat(e);return ne.a.get(t)}function kt(e){var t="".concat(yt,"/");return ne.a.post(t,{name:e})}function wt(e,t){var n="".concat(yt,"/").concat(e,"/");return ne.a.put(n,{name:t})}function Ct(e){var t="".concat(yt,"/").concat(e,"/");return ne.a.delete(t)}var St=function(e){var t=e.form,n=e.onFinish,r=e.defaultDrug,i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],h=Object(c.useState)([]),p=Object(Te.a)(h,2),O=p[0],m=p[1],x=Object(c.useState)([]),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)([]),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=Object(c.useState)(!1),E=Object(Te.a)(N,2),L=E[0],D=E[1],F=Object(c.useState)(!1),R=Object(Te.a)(F,2),H=R[0],B=R[1],M=Object(c.useState)(!1),Y=Object(Te.a)(M,2),V=Y[0],P=Y[1],A=Object(c.useState)(!1),G=Object(Te.a)(A,2),U=G[0],K=G[1],z=Object(c.useState)(!1),X=Object(Te.a)(z,2),Q=X[0],q=X[1];function W(){return Z.apply(this,arguments)}function Z(){return(Z=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,We();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,D(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function J(){return $.apply(this,arguments)}function $(){return($=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,at();case 4:t=e.sent,m(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,B(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,ut();case 4:t=e.sent,v(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,P(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function ne(){return ae.apply(this,arguments)}function ae(){return(ae=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),e.next=4,_t();case 4:t=e.sent,w(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,K(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function ce(e){return re.apply(this,arguments)}function re(){return(re=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,xt(t);case 4:n=e.sent,a=n.data,T(a),j((function(e){var t=e.findIndex((function(e){return e.id===r.drug_category.id}));return t>-1?(e[t]=a.drug_category,e):[a.drug_category].concat(Object(pt.a)(e))})),m((function(e){var t=e.findIndex((function(e){return e.id===r.drug_unit.id}));return t>-1?(e[t]=a.drug_unit,e):[a.drug_unit].concat(Object(pt.a)(e))})),v((function(e){var t=e.findIndex((function(e){return e.id===r.drug_route.id}));return t>-1?(e[t]=a.drug_route,e):[a.drug_route].concat(Object(pt.a)(e))})),w((function(e){var t=e.findIndex((function(e){return e.id===r.drug_dosage_form.id}));return t>-1?(e[t]=a.drug_dosage_form,e):[a.drug_dosage_form].concat(Object(pt.a)(e))})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:return e.prev=16,q(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))).apply(this,arguments)}function ie(){return(ie=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===r||void 0===r?void 0:r.id)){e.next=5;break}return e.next=3,Promise.all([ce(r.id),W(),J(),ee(),ne()]);case 3:e.next=7;break;case 5:return e.next=7,Promise.all([W(),J(),ee(),ne()]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){ie.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){I&&t.setFieldsValue({code:I.code,name:I.name,price:I.price||0,drug_category_id:I.drug_category.id,drug_unit_id:I.drug_unit.id,drug_dosage_form_id:I.drug_dosage_form.id,drug_route_id:I.drug_route.id,strength:I.strength})}),[I,r,t]),Object(a.jsx)(Le.a,{spinning:Q,children:Object(a.jsxs)(d.a,{layout:"vertical",form:t,onFinish:n,children:[Object(a.jsx)(d.a.Item,{label:"M\xe3 thu\u1ed1c",name:"code",initialValue:null===I||void 0===I?void 0:I.code,rules:[Xe()],children:Object(a.jsx)(b.a,{})}),Object(a.jsx)(d.a.Item,{label:"T\xean thu\u1ed1c",name:"name",initialValue:null===I||void 0===I?void 0:I.name,rules:[Xe()],children:Object(a.jsx)(b.a,{})}),Object(a.jsx)(d.a.Item,{label:"Gi\xe1",name:"price",initialValue:0,hidden:!0,children:Object(a.jsx)(b.a,{type:"number",suffix:"VN\u0110",value:0})}),Object(a.jsx)(d.a.Item,{label:"Nh\xf3m thu\u1ed1c",name:"drug_category_id",initialValue:null===I||void 0===I?void 0:I.drug_category.id,rules:[Xe()],children:Object(a.jsx)(He.a,{loading:L,children:u.map((function(e){return Object(a.jsx)(He.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(a.jsx)(d.a.Item,{label:"\u0110\u01a1n v\u1ecb t\xednh",name:"drug_unit_id",initialValue:null===I||void 0===I?void 0:I.drug_unit.id,rules:[Xe()],children:Object(a.jsx)(He.a,{loading:H,children:O.map((function(e){return Object(a.jsx)(He.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(a.jsx)(d.a.Item,{label:"\u0110\u01b0\u1eddng d\xf9ng",name:"drug_route_id",initialValue:null===I||void 0===I?void 0:I.drug_route.id,rules:[Xe()],children:Object(a.jsx)(He.a,{loading:V,children:g.map((function(e){return Object(a.jsx)(He.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(a.jsx)(d.a.Item,{label:"D\u1ea1ng b\xe0o ch\u1ebf",name:"drug_dosage_form_id",initialValue:null===I||void 0===I?void 0:I.drug_dosage_form.id,rules:[Xe()],children:Object(a.jsx)(He.a,{loading:U,children:k.map((function(e){return Object(a.jsx)(He.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(a.jsx)(d.a.Item,{label:"H\xe0m l\u01b0\u1ee3ng/n\u1ed3ng \u0111\u1ed9",name:"strength",initialValue:null===I||void 0===I?void 0:I.strength,rules:[Xe()],children:Object(a.jsx)(b.a,{})})]})})},It=n(229),Tt=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"M\xe3 thu\u1ed1c",key:"code",dataIndex:"code"},{title:"T\xean thu\u1ed1c",key:"name",dataIndex:"name"},{title:"H\xe0m l\u01b0\u1ee3ng/n\u1ed3ng \u0111\u1ed9",key:"strength",dataIndex:"strength"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,mt();case 4:t=e.sent,j(t.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,console.log(t),{code:t.code,name:t.name,price:t.price,drug_category:t.drug_category,drug_unit:t.drug_unit,drug_route:t.drug_route,drug_dosage_form:t.drug_dosage_form,strength:t.strength},k!==Ze){e.next=10;break}return e.next=10,ft(t);case 10:if(k!==Je){e.next=13;break}return e.next=13,gt(I.id,t);case 13:D(),r(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:return e.prev=20,v(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,17,20,23]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd thu\u1ed1c"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,loading:O,pagination:!1}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam thu\u1ed1c":"C\u1eadp nh\u1eadt thu\u1ed1c",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(St,{onFinish:R,form:E,defaultDrug:I})})]})},Nt=function(e){var t=e.form,n=e.onFinish,c=e.defaultInstruction;return Object(a.jsx)(d.a,{layout:"vertical",form:t,onFinish:n,children:Object(a.jsx)(d.a.Item,{label:"H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng",name:"instruction",initialValue:null===c||void 0===c?void 0:c.instruction,children:Object(a.jsx)(b.a,{autoFocus:!0})})})},Et="".concat(W,"/admin/manage-drug-instruction");function Lt(){var e="".concat(Et,"/");return ne.a.get(e)}function Dt(e){var t="".concat(Et,"/");return ne.a.post(t,{instruction:e})}function Ft(e,t){var n="".concat(Et,"/").concat(e,"/");return ne.a.put(n,{instruction:t})}function Rt(e){var t="".concat(Et,"/").concat(e,"/");return ne.a.delete(t)}var Ht=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng",key:"instruction",dataIndex:"instruction"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Lt();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,k!==Ze){e.next=8;break}return e.next=8,Dt(t.instruction);case 8:if(k!==Je){e.next=11;break}return e.next=11,Ft(I.id,t.instruction);case 11:D(),r(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,loading:O,pagination:!1}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng":"C\u1eadp nh\u1eadt h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(Nt,{onFinish:R,form:E,defaultInstruction:I})})]})},Bt=function(e){var t=e.form,n=e.onFinish,c=e.defaultCategory;return Object(a.jsx)(d.a,{layout:"vertical",form:t,onFinish:n,children:Object(a.jsx)(d.a.Item,{label:"Lo\u1ea1i b\u1ec7nh",name:"name",initialValue:null===c||void 0===c?void 0:c.name,children:Object(a.jsx)(b.a,{autoFocus:!0})})})},Mt="".concat(W,"/admin/manage-disease-category");function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(Mt,"/?search=").concat(e);return ne.a.get(t)}function Vt(e){var t="".concat(Mt,"/");return ne.a.post(t,{name:e})}function Pt(e,t){var n="".concat(Mt,"/").concat(e,"/");return ne.a.put(n,{name:t})}function At(e){var t="".concat(Mt,"/").concat(e,"/");return ne.a.delete(t)}var Gt=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"T\xean",key:"name",dataIndex:"name"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Yt();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,k!==Ze){e.next=8;break}return e.next=8,Vt(t.name);case 8:if(k!==Je){e.next=11;break}return e.next=11,Pt(I.id,t.name);case 11:D(),r(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,At(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd nh\xf3m b\u1ec7nh"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,pagination:!1,loading:O}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam lo\u1ea1i b\u1ec7nh":"C\u1eadp nh\u1eadt lo\u1ea1i b\u1ec7nh",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(Bt,{onFinish:R,form:E,defaultCategory:I})})]})},Ut="".concat(W,"/admin/manage-disease");function Kt(){var e="".concat(Ut,"/");return ne.a.get(e)}function zt(e){var t="".concat(Ut,"/").concat(e,"/");return ne.a.get(t)}function Xt(e){var t=e.code,n=e.name,a=e.disease_category,c="".concat(Ut,"/");return ne.a.post(c,{code:t,name:n,disease_category:a})}function Qt(e,t){var n=t.code,a=t.name,c=t.disease_category,r="".concat(Ut,"/").concat(e,"/");return ne.a.put(r,{code:n,name:a,disease_category:c})}function qt(e){var t="".concat(Ut,"/").concat(e,"/");return ne.a.delete(t)}var Wt=function(e){var t=e.form,n=e.onFinish,r=e.defaultDisease,i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],h=Object(c.useState)(null),p=Object(Te.a)(h,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(!1),_=Object(Te.a)(y,2),k=_[0],w=_[1];function C(){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Yt();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,v(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,zt(t);case 4:n=e.sent,a=n.data,m(a),j((function(e){var t=e.findIndex((function(e){return e.id===r.disease_category}));return t>-1?(e[t]=a.disease_category,e):[a.disease_category].concat(Object(pt.a)(e))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))).apply(this,arguments)}function N(){return(N=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===r||void 0===r?void 0:r.id)){e.next=5;break}return e.next=3,Promise.all([I(r.id),C()]);case 3:e.next=7;break;case 5:return e.next=7,Promise.all([C()]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){O&&t.setFieldsValue({code:O.code,name:O.name,disease_category:O.disease_category.id})}),[O,r,t]),Object(a.jsx)(Le.a,{spinning:k,children:Object(a.jsxs)(d.a,{layout:"vertical",form:t,onFinish:n,children:[Object(a.jsx)(d.a.Item,{label:"M\xe3 b\u1ec7nh",name:"code",initialValue:null===O||void 0===O?void 0:O.code,children:Object(a.jsx)(b.a,{})}),Object(a.jsx)(d.a.Item,{label:"T\xean b\u1ec7nh",name:"name",initialValue:null===O||void 0===O?void 0:O.name,children:Object(a.jsx)(b.a,{})}),Object(a.jsx)(d.a.Item,{label:"Lo\u1ea1i b\u1ec7nh",name:"disease_category",initialValue:null===O||void 0===O?void 0:O.disease_category.id,children:Object(a.jsx)(He.a,{loading:g,children:u.map((function(e){return Object(a.jsx)(He.a.Option,{value:e.id,children:e.name},e.id)}))})})]})})},Zt=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"M\xe3 b\u1ec7nh",key:"code",dataIndex:"code"},{title:"T\xean b\u1ec7nh",key:"name",dataIndex:"name"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Kt();case 4:t=e.sent,j(t.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,n={code:t.code,name:t.name,disease_category:t.disease_category},k!==Ze){e.next=9;break}return e.next=9,Xt(n);case 9:if(k!==Je){e.next=12;break}return e.next=12,Qt(I.id,n);case 12:D(),r(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,v(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd b\u1ec7nh"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,loading:O}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam b\u1ec7nh":"C\u1eadp nh\u1eadt b\u1ec7nh",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(Wt,{onFinish:R,form:E,defaultDisease:I})})]})},Jt=function(){return Object(a.jsx)("div",{children:"Notification Page"})};var $t=n(47),en=n.n($t),tn="".concat(W,"/user/room");function nn(){var e="".concat(tn,"/");return ne.a.get(e)}var an="".concat(W,"/admin/manage-room");function cn(){var e="".concat(an,"/");return ne.a.get(e)}function rn(e){var t=e.number,n=e.name,a="".concat(an,"/");return ne.a.post(a,{number:Number(t),name:n})}function sn(e,t){var n=t.name,a=t.number,c="".concat(an,"/").concat(e,"/");return ne.a.put(c,{number:Number(a),name:n})}function ln(e){var t="".concat(an,"/").concat(e,"/");return ne.a.delete(t)}var on="".concat(W,"/user/visit");function un(e){var t="".concat(on,"/");return e?ne.a.get("".concat(t,"?").concat($e(e))):ne.a.get(t)}function jn(e){var t=e.patientId,n=e.roomId,a="".concat(on,"/");return ne.a.post(a,{room_id:n,patient_id:t})}function dn(e){var t="".concat(on,"/").concat(e,"/");return ne.a.delete(t)}var bn="".concat(W,"/admin/manage-visit");function hn(e){var t="".concat(bn,"/");return e?ne.a.get("".concat(t,"?").concat($e(e))):ne.a.get(t)}var pn="".concat(Z);function On(e){var t="".concat(pn,"/physician/emrs/");return e?ne.a.get("".concat(t,"?").concat($e(e))):ne.a.get(t)}function mn(e){var t="".concat(pn,"/physician/emrs/");return ne.a.post(t,e)}function xn(e){var t="".concat(pn,"/physician/emrs/").concat(e);return ne.a.get(t)}function fn(e,t){var n="".concat(pn,"/physician/emrs/").concat(e);return ne.a.put(n,t)}function gn(e){var t="".concat(pn,"/physician/emrs/").concat(e,"/complete");return ne.a.get(t)}var vn=Object(m.b)((function(e){return{user:e.userState.user}}))((function(e){var t=e.user,n=Object(j.h)().pathname,r=Object(j.g)(),i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],d=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(null),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(!1),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)([]),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=Object(c.useState)(""),E=Object(Te.a)(N,2),L=E[0],D=E[1],F=null===g||void 0===g?void 0:g.results.filter((function(e){var t=new Date(e.created_at),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()&&e.room.id===L})),R=[{title:"S\u1ed1 th\u1ee9 t\u1ef1",key:"#",dataIndex:"visit_number"},{title:"H\u1ecd v\xe0 t\xean",key:"fullname",render:function(e,t){return t.patient.first_name+" "+t.patient.last_name}},{title:"Gi\u1edbi t\xednh",key:"gender",render:function(e,t){return t.patient.gender}},{title:"Ng\xe0y sinh",key:"DOB",render:function(e,t){return en()(t.patient.DOB).format("DD/MM/YYYY")}},{ken:"action",render:function(e,t){return Object(a.jsx)(h.a,{onClick:function(){return function(e){return K.apply(this,arguments)}(t)},loading:I.includes(t.id),children:"Kh\xe1m b\u1ec7nh"})}}];function H(){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(!0),"admin"!==t.role.name){e.next=8;break}return e.next=5,cn();case 5:a=e.sent,e.next=12;break;case 8:if("physician"!==t.role.name&&"receptionist"!==(null===t||void 0===t||null===(n=t.role)||void 0===n?void 0:n.name)){e.next=12;break}return e.next=11,nn();case 11:a=e.sent;case 12:d(a.data),(c=localStorage.getItem("selectedRoom"))&&(D(c),M(c)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:return e.prev=20,m(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,17,20,23]])})))).apply(this,arguments)}function M(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(o.a)(l.a.mark((function e(n){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),"admin"!==t.role.name){e.next=8;break}return e.next=5,hn({room_id:n});case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,un({room_id:n});case 10:a=e.sent;case 11:c=a.data,v(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,w(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function V(){return(V=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([H()]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T((function(e){return[].concat(Object(pt.a)(e),[t.visit_id])})),e.next=4,mn(t);case 4:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0));case 12:return e.prev=12,T((function(e){var n=Object(pt.a)(e);return n.splice(n.indexOf(t.visit_id),1),n})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})))).apply(this,arguments)}function G(e){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(l.a.mark((function e(t){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T((function(e){return[].concat(Object(pt.a)(e),[t])})),e.next=4,xn(t);case 4:return n=e.sent,a=n.data.data,c=a.find((function(e){return e.id===t&&null===e.completed_at})),e.abrupt("return",!!c);case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.prev=12,T((function(e){var n=Object(pt.a)(e);return n.splice(n.indexOf(t),1),n})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,10,12,15]])})))).apply(this,arguments)}function K(){return(K=Object(o.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.patient,e.next=3,G(a.id);case 3:if(e.sent){e.next=17;break}return c={visit_id:a.id,patient:a.patient,physician:t,room:a.room,medical_record:{administrative:{fullname:null,dayOfBirth:null,gender:null,job:null,ethnicity:null,expatriate:null,address:null,workplace:null,object:null,insurance_expirity:null,insurance_number:null,family_member_and_address:null,phone:null,checkin_at:null,previous_diagnose:null,come_from:null},present_complaint:null,ask:{pathological_process:null,self_medical_history:null,family_medical_history:null},examination:{heartbeat:null,temperature:null,blood_pressure:null,breathing:null,weight:null,body:null,partials:null,subclinical_summary:null,initial_diagnose:{category:null,disease:null},drugs:null,processed:null,diagnose:{category:null,disease:null},from_date:null,to_date:null},summary:{pathological_process_and_clinical_course:null,valuable_subclinical_summary:null,primary_disease:{category:null,disease:null},sub_disease:{category:null,disease:null},treatment_method:null,patient_status:null,direction_of_treatment:null,services:null,attachments:[]}}},e.prev=6,e.next=9,P(c);case 9:r.push("".concat(n,"/").concat(a.id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:e.next=18;break;case 17:r.push("".concat(n,"/").concat(a.id));case 18:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function z(e){D(e),M(e)}return Object(c.useEffect)((function(){t&&function(){V.apply(this,arguments)}()}),[t]),Object(c.useEffect)((function(){L&&localStorage.setItem("selectedRoom",L)}),[L]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Ne.a,{className:"flex-no-wrap",children:[Object(a.jsx)(Ee.a,{style:{width:350},className:"flex-shrink-0",children:Object(a.jsxs)("div",{className:"mb-5",children:[Object(a.jsx)("h3",{className:"text-xl",children:"Ph\xf2ng kh\xe1m"}),Object(a.jsx)(He.a,{loading:O,style:{width:"100%"},value:L,onChange:z,children:u.map((function(e){return Object(a.jsx)(He.a.Option,{value:e.id,onChange:z,children:e.name},e.id)}))})]})}),Object(a.jsx)(Ee.a,{flex:"0 0 45px"}),Object(a.jsxs)(Ee.a,{flex:1,children:[Object(a.jsx)("h3",{className:"text-xl",children:"B\u1ec7nh nh\xe2n \u0111ang ch\u1edd kh\xe1m"}),Object(a.jsx)(Ae.a,{dataSource:F,columns:R,rowKey:"id",loading:k,pagination:!1})]})]})})})),yn=n(805),_n=n(820),kn="".concat(W,"/user/patient");function wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(kn,"/?search=").concat(e);return ne.a.get(t)}function Cn(e){var t="".concat(kn,"/").concat(e,"/");return ne.a.get(t)}function Sn(e){var t="".concat(kn,"/");return ne.a.post(t,e)}var In=Object(a.jsx)("span",{className:"text-gray-600 font-serif italic",children:"Ch\u01b0a c\u1eadp nh\u1eadt"});var Tn=Object(m.b)((function(e){return{user:e.userState.user}}))((function(e){e.user;var t=Object(j.j)().path,n=Object(c.useState)(null),r=Object(Te.a)(n,2),i=r[0],s=r[1],d=Object(c.useState)(!1),b=Object(Te.a)(d,2),p=b[0],O=b[1],m=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"H\u1ecd v\xe0 t\xean",key:"fullname",render:function(e,t){return t.first_name+" "+t.last_name}},{title:"Gi\u1edbi t\xednh",key:"gender",dataIndex:"gender"},{title:"Ng\xe0y sinh",key:"DOB",render:function(e,t){return en()(t.DOB).format("DD/MM/YYYY")}},{title:"\u0110\u1ecba ch\u1ec9",key:"address",render:function(e,t){return t.address||In}},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,n){return Object(a.jsx)(Re.b,{children:Object(a.jsx)(u.b,{to:"".concat(t,"/").concat(n.id),children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(_n.a,{}),children:"Xem chi ti\u1ebft"})})})}}];function x(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,wn();case 4:t=e.sent,n=t.data,s(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.prev=11,O(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,9,11,14]])})))).apply(this,arguments)}function g(){return(g=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([x()]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(yn.a,{title:"B\u1ec7nh nh\xe2n"}),Object(a.jsx)(Ae.a,{columns:m,dataSource:null===i||void 0===i?void 0:i.results,loading:p,rowKey:"id"})]})})),Nn=(n(810),"".concat(W,"/admin/manage-service"));function En(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(Nn,"/?search=").concat(e);return ne.a.get(t)}function Ln(e){var t="".concat(Nn,"/").concat(e,"/");return ne.a.get(t)}function Dn(e){var t=e.name,n=e.price,a="".concat(Nn,"/");return ne.a.post(a,{name:t,price:Number(n)})}function Fn(e,t){var n=t.name,a=t.price,c="".concat(Nn,"/").concat(e,"/");return ne.a.put(c,{name:n,price:Number(a)})}function Rn(e){var t="".concat(Nn,"/").concat(e,"/");return ne.a.delete(t)}var Hn=function(e){var t=e.form,n=e.onFinish,r=e.defaultService,i=Object(c.useState)(null),s=Object(Te.a)(i,2),u=s[0],j=s[1],h=Object(c.useState)(!1),p=Object(Te.a)(h,2),O=p[0],m=p[1];function x(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Ln(t);case 4:n=e.sent,a=n.data,j(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}function g(){return(g=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===r||void 0===r?void 0:r.id)){e.next=3;break}return e.next=3,Promise.all([x(r.id)]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){u&&t.setFieldsValue({name:u.name,price:u.price})}),[u,r,t]),Object(a.jsx)(Le.a,{spinning:O,children:Object(a.jsxs)(d.a,{layout:"vertical",form:t,onFinish:n,children:[Object(a.jsx)(d.a.Item,{label:"T\xean d\u1ecbch v\u1ee5",name:"name",initialValue:null===u||void 0===u?void 0:u.name,children:Object(a.jsx)(b.a,{})}),Object(a.jsx)(d.a.Item,{label:"Gi\xe1",name:"price",initialValue:null===u||void 0===u?void 0:u.price,children:Object(a.jsx)(b.a,{type:"number",suffix:"VN\u0110"})})]})})},Bn=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"T\xean d\u1ecbch v\u1ee5",key:"name",dataIndex:"name"},{title:"Gi\xe1",key:"price",dataIndex:"price",render:function(e,t,n){return Object(a.jsx)(It.a,{thousandSeparator:" ",suffix:" VN\u0110",value:e,displayType:"text"})}},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,En();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,n={name:t.name,price:t.price},k!==Ze){e.next=9;break}return e.next=9,Dn(n);case 9:if(k!==Je){e.next=12;break}return e.next=12,Fn(I.id,n);case 12:D(),r(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.prev=19,v(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd thu\u1ed1c"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,loading:O}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam thu\u1ed1c":"C\u1eadp nh\u1eadt thu\u1ed1c",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(Hn,{onFinish:R,form:E,defaultService:I})})]})};n(813),"".concat(W,"/admin/manage-working-hours");var Mn=function(e){var t=e.form,n=e.onFinish,c=e.defaultRoom;return Object(a.jsxs)(d.a,{layout:"vertical",form:t,onFinish:n,children:[Object(a.jsx)(d.a.Item,{label:"M\xe3",name:"number",initialValue:null===c||void 0===c?void 0:c.number,children:Object(a.jsx)(b.a,{type:"number",autoFocus:!0})}),Object(a.jsx)(d.a.Item,{label:"T\xean ph\xf2ng",name:"name",initialValue:null===c||void 0===c?void 0:c.name,children:Object(a.jsx)(b.a,{})})]})},Yn=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"M\xe3 ph\xf2ng",key:"number",dataIndex:"number",width:"150px"},{title:"T\xean ph\xf2ng",key:"name",dataIndex:"name"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",width:"150px",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,cn();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,k!==Ze){e.next=8;break}return e.next=8,rn(t);case 8:if(k!==Je){e.next=11;break}return e.next=11,sn(I.id,t);case 11:D(),r(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ln(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd ph\xf2ng"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,loading:O}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam ph\xf2ng":"C\u1eadp nh\u1eadt ph\xf2ng",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(Mn,{onFinish:R,form:E,defaultRoom:I})})]})},Vn=n(821),Pn=n(822),An=n(801),Gn=n(196),Un=n(456),Kn=n.n(Un),zn="".concat(W,"/admin/manage-user");function Xn(e){var t="".concat(zn,"/?").concat(Kn.a.stringify(e));return ne.a.get(t)}function Qn(e){var t="".concat(zn,"/").concat(e,"/");return ne.a.get(t)}function qn(e){var t=e.email,n=e.password,a=e.first_name,c=e.last_name,r=e.phone,i=e.DOB,s=e.gender,l=e.role_id,o="".concat(zn,"/");return ne.a.post(o,{email:t,password:n,first_name:a,last_name:c,phone:r,DOB:i.format("yyyy-MM-DD"),gender:s,role_id:l})}function Wn(e,t){var n=t.email,a=t.password,c=t.first_name,r=t.last_name,i=t.phone,s=t.DOB,l=t.gender,o=t.role_id,u="".concat(zn,"/").concat(e,"/");return a?ne.a.put(u,{email:n,password:a,first_name:c,last_name:r,phone:i,DOB:s.format("yyyy-MM-DD"),gender:l,role_id:o}):ne.a.put(u,{email:n,first_name:c,last_name:r,phone:i,DOB:s.format("yyyy-MM-DD"),gender:l,role_id:o})}function Zn(e){var t="".concat(zn,"/").concat(e,"/");return ne.a.delete(t)}function Jn(e){var t="".concat(zn,"/").concat(e,"/block/");return ne.a.get(t)}function $n(e){var t="".concat(zn,"/").concat(e,"/unblock/");return ne.a.get(t)}var ea={1:{name:"admin",display:"Qu\u1ea3n tr\u1ecb vi\xean"},2:{name:"physician",display:"B\xe1c s\u0129"},3:{name:"receptionist",display:"L\u1ec5 t\xe2n"},4:{name:"patient",display:"B\u1ec7nh nh\xe2n"}},ta=[1,2,3,4],na=function(e){var t=e.form,n=e.onFinish,r=e.defaultUser,i=Object(c.useState)(null),s=Object(Te.a)(i,2),u=s[0],j=s[1],h=Object(c.useState)(!1),p=Object(Te.a)(h,2),O=p[0],m=p[1];function x(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Qn(t);case 4:n=e.sent,a=n.data,j(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}function g(){return(g=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===r||void 0===r?void 0:r.id)){e.next=3;break}return e.next=3,Promise.all([x(r.id)]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){u&&t.setFieldsValue({email:u.email,first_name:u.first_name,last_name:u.last_name,phone:u.phone,DOB:en()(u.DOB),gender:u.gender,role_id:u.role.id})}),[u,r,t]),Object(a.jsx)(Le.a,{spinning:O,children:Object(a.jsxs)(d.a,{layout:"vertical",form:t,autoComplete:"new-password",onFinish:n,children:[Object(a.jsx)(d.a.Item,{label:"Email",name:"email",initialValue:null===u||void 0===u?void 0:u.email,rules:[{required:!u||u&&4!=u.role.id,message:"Vui l\xf2ng \u0111i\u1ec1n v\xe0o tr\u01b0\u1eddng n\xe0y"}],children:Object(a.jsx)(b.a,{type:"email"})}),Object(a.jsx)(d.a.Item,{label:"M\u1eadt kh\u1ea9u",name:"password",rules:[{required:!(null===u||void 0===u?void 0:u.id),message:"Vui l\xf2ng \u0111i\u1ec1n v\xe0o tr\u01b0\u1eddng n\xe0y"}],children:Object(a.jsx)(b.a.Password,{autoComplete:"new-password",placeholder:u?"Nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi":""})}),Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"H\u1ecd",name:"first_name",rules:[Xe()],children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)("div",{style:{width:20}}),Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"T\xean",name:"last_name",rules:[Xe()],children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsx)(d.a.Item,{label:"\u0110i\u1ec7n tho\u1ea1i",name:"phone",initialValue:null===u||void 0===u?void 0:u.phone,rules:[Xe()],children:Object(a.jsx)(b.a,{type:"tel"})}),Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)(d.a.Item,{label:"Ng\xe0y sinh",name:"DOB",rules:[Xe()],children:Object(a.jsx)(An.a,{placeholder:"Ch\u1ecdn ng\xe0y"})})}),Object(a.jsx)("div",{style:{width:15}}),Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"Gi\u1edbi t\xednh",name:"gender",rules:[Xe()],children:Object(a.jsxs)(Gn.a.Group,{children:[Object(a.jsx)(Gn.a,{value:"Nam",children:"Nam"}),Object(a.jsx)(Gn.a,{value:"N\u1eef",children:"N\u1eef"}),Object(a.jsx)(Gn.a,{value:"Kh\xe1c",children:"Kh\xe1c"})]})})})]}),Object(a.jsx)(d.a.Item,{label:"Vai tr\xf2",name:"role_id",initialValue:null===u||void 0===u?void 0:u.role_id,rules:[Xe()],children:Object(a.jsx)(He.a,{children:ta.map((function(e){return Object(a.jsx)(He.a.Option,{value:e,children:ea[e].display},e)}))})})]})})},aa=n(6),ca=n.n(aa),ra=n(321),ia=n.n(ra),sa=function(e){var t=ca()(ia.a.circle,Object(q.a)({},ia.a["circle--success"],"success"===e.color));return Object(a.jsx)("div",{className:t})},la=function(){var e=Object(j.g)(),t=Object(j.h)(),n=t.pathname,r=t.search,i=new URLSearchParams(r),s=Number(i.get("page")),u=Object(c.useState)(s||1),b=Object(Te.a)(u,2),p=b[0],O=b[1],m=Object(c.useState)(!1),x=Object(Te.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(),y=Object(Te.a)(v,2),_=y[0],k=y[1],w=Object(c.useState)(!1),C=Object(Te.a)(w,2),S=C[0],I=C[1],T=Object(c.useState)(!1),N=Object(Te.a)(T,2),E=N[0],L=N[1],D=Object(c.useState)(Ze),F=Object(Te.a)(D,2),R=F[0],H=F[1],B=Object(c.useState)(null),M=Object(Te.a)(B,2),Y=M[0],V=M[1],P=d.a.useForm(),A=Object(Te.a)(P,1)[0],G=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"H\u1ecd v\xe0 t\xean",key:"fullname",render:function(e,t){return t.first_name+" "+t.last_name}},{title:"Email",key:"email",dataIndex:"email",render:function(e,t){return Object(a.jsxs)(Re.b,{children:[Object(a.jsx)(sa,{color:t.is_verified_email?"success":""}),Object(a.jsx)("span",{children:t.email||"Kh\xf4ng"})]})}},{title:"Vai tr\xf2",key:"role",render:function(e,t){return Object(a.jsx)("span",{children:ea[t.role.id].display})}},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,H(Je),V(e),void g(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return q.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return Q.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n ".concat(t.is_active?"kh\xf3a":"m\u1edf kh\xf3a"," t\xe0i kho\u1ea3n n\xe0y kh\xf4ng?"),okText:t.is_active?"Kh\xf3a":"M\u1edf kh\xf3a",okType:t.is_active?"danger":"primary",cancelText:"H\u1ee7y b\u1ecf",children:t.is_active?Object(a.jsx)(h.a,{danger:!0,type:"link",icon:Object(a.jsx)(Vn.a,{}),children:"Kh\xf3a"}):Object(a.jsx)(h.a,{type:"link",icon:Object(a.jsx)(Pn.a,{}),children:"M\u1edf kh\xf3a"})})]})}}];function U(e){return K.apply(this,arguments)}function K(){return(K=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,Xn({page:t});case 4:n=e.sent,k(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,I(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function z(){return X.apply(this,arguments)}function X(){return(X=Object(o.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,A.validateFields();case 4:if(t=e.sent,R!==Ze){e.next=13;break}return e.next=8,qn(t);case 8:return n=e.sent,a=n.data,c=a.id,e.next=13,de(c,"user");case 13:if(R!==Je){e.next=17;break}return t.password||delete t.password,e.next=17,Wn(Y.id,t);case 17:U(p),g(!1),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:return e.prev=24,L(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})))).apply(this,arguments)}function Q(){return(Q=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I(!0),!t.is_active){e.next=7;break}return e.next=5,Jn(t.id);case 5:e.next=9;break;case 7:return e.next=9,$n(t.id);case 9:U(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function q(){return(q=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn(t.id);case 3:U(p),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){U(p)}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){H(Ze),g(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:G,dataSource:null===_||void 0===_?void 0:_.results,pagination:{defaultCurrent:p,current:p,pageSize:10,total:null===_||void 0===_?void 0:_.count,onChange:function(t){U(t),O(t),e.push({pathname:n,search:"page=".concat(t)})}},loading:S}),Object(a.jsx)(Ge.a,{visible:f,title:R===Ze?"Th\xeam t\xe0i kho\u1ea3n":"C\u1eadp nh\u1eadt t\xe0i kho\u1ea3n",onCancel:function(){g(!1)},confirmLoading:E,destroyOnClose:!0,afterClose:function(){A.resetFields(),V(null)},onOk:z,children:Object(a.jsx)(na,{onFinish:z,form:A,defaultUser:Y})})]})},oa=n(3),ua=n(475),ja=function(e,t){return function(n){var r=Object(m.c)(),i=oe.a.get("EMR_token"),s=Object(m.d)((function(e){return e.userState.user}));Object(c.useEffect)((function(){s&&s.role&&(function(e){var n=null===e||void 0===e?void 0:e.role.name;return t.includes(n)}(s)||(ua.a.error({message:"L\u1ed7i",description:"Trang b\u1ea1n y\xeau c\u1ea7u kh\xf4ng h\u1ee3p l\u1ec7",type:"error"}),r(Oe())))}),[s,r]);try{return i&&0!==i.length&&Object(fe.a)(i)?Object(a.jsx)(e,Object(oa.a)({},n)):Object(a.jsx)(j.a,{to:"/login"})}catch(l){console.log(l)}}},da=n(470),ba=n(823),ha=n(824),pa=ge.a.Header,Oa=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.userState.user}));return Object(a.jsxs)(pa,{className:"header flex items-center",children:[Object(a.jsx)("div",{className:"text-2xl text-white",children:"EMR"}),Object(a.jsx)("div",{className:"ml-auto"}),Object(a.jsxs)("div",{className:"text-white",children:[t?Object(a.jsxs)(Re.b,{children:[t.avatar?Object(a.jsx)(da.a,{src:t.avatar}):Object(a.jsx)(da.a,{style:{backgroundColor:"#1890ff"},children:t.last_name.charAt(0)}),Object(a.jsxs)("span",{children:[t.first_name," ",t.last_name," (",ea[t.role.id].display,")"]})]}):"\u0110ang t\u1ea3i...",Object(a.jsx)("span",{className:"ml-3",children:"|"})]}),Object(a.jsx)(h.a,{type:"default",ghost:!0,icon:Object(a.jsx)(ha.a,{}),className:"border-none",onClick:function(){Ge.a.confirm({title:"\u0110\u0103ng xu\u1ea5t",icon:Object(a.jsx)(ba.a,{}),content:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u0103ng xu\u1ea5t kh\xf4ng?",onOk:function(){e(Oe())}})},children:"\u0110\u0103ng xu\u1ea5t"})]})},ma=function(e){var t=e.form,n=e.onFinish,c=e.defaultDosageForm;return Object(a.jsx)(d.a,{layout:"vertical",form:t,onFinish:n,children:Object(a.jsx)(d.a.Item,{label:"D\u1ea1ng b\xe0o ch\u1ebf",name:"name",initialValue:null===c||void 0===c?void 0:c.name,children:Object(a.jsx)(b.a,{autoFocus:!0})})})},xa=function(){var e=Object(c.useState)(!1),t=Object(Te.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(Te.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(Te.a)(b,2),O=p[0],m=p[1],x=Object(c.useState)(!1),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(Ze),_=Object(Te.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(null),S=Object(Te.a)(C,2),I=S[0],T=S[1],N=d.a.useForm(),E=Object(Te.a)(N,1)[0],L=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"T\xean",key:"name",dataIndex:"name"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t,n){return Object(a.jsxs)(Re.b,{size:10,children:[Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),onClick:function(){return e=t,w(Je),T(e),void r(!0);var e}}),Object(a.jsx)(Pe.a,{onConfirm:function(){return function(e){return B.apply(this,arguments)}(t)},title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kh\xf4ng?",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y b\u1ecf",children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{})})})]})}}];function D(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,_t();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,E.validateFields();case 4:if(t=e.sent,k!==Ze){e.next=8;break}return e.next=8,kt(t.name);case 8:if(k!==Je){e.next=11;break}return e.next=11,wt(I.id,t.name);case 11:D(),r(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct(t.id);case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){D()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ne.a,{justify:"space-between",children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)("h1",{className:"text-xl",children:"Qu\u1ea3n l\xfd \u0111\u01b0\u1eddng d\xf9ng thu\u1ed1c"})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{type:"primary",icon:Object(a.jsx)(ze.a,{}),onClick:function(){w(Ze),r(!0)},children:"T\u1ea1o m\u1edbi"})})]}),Object(a.jsx)(Ae.a,{rowKey:"id",columns:L,dataSource:u,pagination:!1,loading:O}),Object(a.jsx)(Ge.a,{visible:n,title:k===Ze?"Th\xeam \u0111\u01b0\u1eddng d\xf9ng thu\u1ed1c":"C\u1eadp nh\u1eadt \u0111\u01b0\u1eddng d\xf9ng thu\u1ed1c",onCancel:function(){r(!1)},confirmLoading:g,destroyOnClose:!0,afterClose:function(){E.resetFields(),T(null)},onOk:R,children:Object(a.jsx)(ma,{onFinish:R,form:E,defaultDosageForm:I})})]})},fa=n(476),ga=n(799),va=n(825);function ya(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}var _a=d.a.Item,ka=d.a.useForm,wa=Object(m.b)((function(e){return{user:e.userState.user,getProfileLoading:e.userState.getProfileLoading}}),(function(e){return{getProfile:function(){return e(pe())},logout:function(){return e(Oe())}}}))((function(e){var t=e.user,n=e.getProfileLoading,r=e.getProfile,i=e.logout,s=oe.a.get("EMR_token"),u=Object(c.useState)(!1),j=Object(Te.a)(u,2),p=j[0],O=j[1],m=Object(c.useState)(!1),x=Object(Te.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(!1),y=Object(Te.a)(v,2),_=y[0],k=y[1],w=Object(c.useState)(null===t||void 0===t?void 0:t.avatar),C=Object(Te.a)(w,2),S=C[0],I=C[1],T=ka(),N=Object(Te.a)(T,1)[0];Object(c.useEffect)((function(){t&&t.avatar&&I(t.avatar)}),[t]);var E=Object(a.jsxs)("div",{children:[p?Object(a.jsx)(va.a,{}):Object(a.jsx)(ze.a,{}),Object(a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});function L(){return(L=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return en.a.isMoment(t.DOB)&&(t.DOB=t.DOB.format("YYYY-MM-DD")),e.prev=1,g(!0),e.next=5,be(t);case 5:return e.next=7,r();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))).apply(this,arguments)}function D(){return(D=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,se(t);case 4:fa.b.success("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng, vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i."),N.resetFields(),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}return t?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Ne.a,{gutter:60,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsxs)(Le.a,{spinning:f||n,children:[Object(a.jsx)("h3",{className:"text-xl mb-3",children:"H\u1ed3 s\u01a1 c\xe1 nh\xe2n"}),Object(a.jsx)(ga.a,{name:"image",action:"".concat(W,"/user/profile/avatar/"),headers:{Authorization:"Bearer ".concat(s)},method:"PATCH",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(I(e.file.response.avatar),O(!1),r()):O(!0)},children:S?Object(a.jsx)("img",{src:S,alt:"avatar",style:{width:"100%"}}):E}),Object(a.jsxs)(d.a,{layout:"vertical",onFinish:function(e){return L.apply(this,arguments)},children:[Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"H\u1ecd",name:"first_name",initialValue:t.first_name,rules:[Xe()],children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"T\xean",name:"last_name",initialValue:t.last_name,rules:[Xe()],children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"Gi\u1edbi t\xednh",name:"gender",initialValue:t.gender,rules:[Xe()],children:Object(a.jsxs)(He.a,{children:[Object(a.jsx)(He.a.Option,{value:"Nam",children:"Nam"}),Object(a.jsx)(He.a.Option,{value:"N\u1eef",children:"N\u1eef"}),Object(a.jsx)(He.a.Option,{value:"Kh\xe1c",children:"Kh\xe1c"})]})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"Ng\xe0y sinh",name:"DOB",initialValue:en()(t.DOB),rules:[Xe()],children:Object(a.jsx)(An.a,{style:{width:"100%"},format:"DD/MM/YYYY"})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"\u0110\u1ecba ch\u1ec9 email",children:Object(a.jsx)(b.a,{value:t.email,readOnly:!0})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"\u0110i\u1ec7n tho\u1ea1i",name:"phone",initialValue:t.phone,children:Object(a.jsx)(b.a,{readOnly:"patient"===t.role.name})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"Ngh\u1ec1 nghi\u1ec7p",name:"job",initialValue:t.job,children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"N\u01a1i l\xe0m vi\u1ec7c",name:"workplace",initialValue:t.workplace,children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"D\xe2n t\u1ed9c",name:"ethnicity",initialValue:t.ethnicity,children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(_a,{label:"Ngo\u1ea1i ki\u1ec1u",name:"expatriate",initialValue:t.expatriate,children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsx)(d.a.Item,{label:"H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi nh\xe0",name:"family_member_name",initialValue:t.family_member_name,children:Object(a.jsx)(b.a,{})}),Object(a.jsx)(d.a.Item,{label:"\u0110\u1ecba ch\u1ec9",name:"address",initialValue:t.address,children:Object(a.jsx)(b.a.TextArea,{autoSize:{minRows:2,maxRows:4}})}),Object(a.jsx)(d.a.Item,{label:"\u0110\u1ecba ch\u1ec9 ng\u01b0\u1eddi nh\xe0",name:"family_member_address",initialValue:t.family_member_address,children:Object(a.jsx)(b.a.TextArea,{autoSize:{minRows:2,maxRows:4}})}),Object(a.jsx)(h.a,{type:"primary",htmlType:"submit",children:"C\u1eadp nh\u1eadt"})]})]})}),Object(a.jsxs)(Ee.a,{flex:"0 0 50%",children:[Object(a.jsx)("h3",{className:"text-xl mb-3",children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),Object(a.jsx)(Le.a,{spinning:_,children:Object(a.jsxs)(d.a,{layout:"vertical",onFinish:function(e){return D.apply(this,arguments)},autoComplete:"new-password",form:N,children:[Object(a.jsx)(_a,{label:"M\u1eadt kh\u1ea9u c\u0169",name:"old_password",rules:[Xe()],children:Object(a.jsx)(b.a.Password,{})}),Object(a.jsx)(_a,{label:"M\u1eadt kh\u1ea9u m\u1edbi",name:"new_password",rules:[Xe()],children:Object(a.jsx)(b.a.Password,{})}),Object(a.jsx)(_a,{label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi",name:"confirm_password",rules:[Xe()],children:Object(a.jsx)(b.a.Password,{})}),Object(a.jsx)(h.a,{type:"primary",htmlType:"submit",children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"})]})})]})]})}):Object(a.jsx)(Le.a,{spinning:!0})})),Ca=ge.a.Sider,Sa=ge.a.Content,Ia=ve.a.SubMenu,Ta=ja((function(){var e=Object(j.j)(),t=Object(j.h)(),n=e.path;return Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Oa,{}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Ca,{width:200,className:"site-layout-background",children:Object(a.jsxs)(ve.a,{mode:"inline",style:{height:"100%",borderRight:0},selectedKeys:[t.pathname],children:[Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(ye.a,{}),children:Object(a.jsx)(u.b,{to:"/admin/dashboard",children:"Th\u1ed1ng k\xea"})},"/admin/dashboard"),Object(a.jsxs)(Ia,{icon:Object(a.jsx)(_e.a,{}),title:"Qu\u1ea3n l\xfd thu\u1ed1c",children:[Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/drug/category",children:"Lo\u1ea1i thu\u1ed1c"})},"/admin/drug/category"),Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/drug/unit",children:"\u0110\u01a1n v\u1ecb t\xednh"})},"/admin/drug/unit"),Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/drug/route",children:"\u0110\u01b0\u1eddng d\xf9ng"})},"/admin/drug/route"),Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/drug/dosage-form",children:"D\u1ea1ng b\xe0o ch\u1ebf"})},"/admin/drug/dosage-form"),Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/drug",children:"Thu\u1ed1c"})},"/admin/drug"),Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/drug/instruction",children:"H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng"})},"/admin/drug/instruction")]},"drug"),Object(a.jsxs)(Ia,{icon:Object(a.jsx)(ke.a,{}),title:"Qu\u1ea3n l\xfd b\u1ec7nh",children:[Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/disease/category",children:"Nh\xf3m b\u1ec7nh"})},"/admin/disease/category"),Object(a.jsx)(ve.a.Item,{children:Object(a.jsx)(u.b,{to:"/admin/disease",children:"B\u1ec7nh"})},"/admin/disease")]},"disease"),Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(we.a,{}),children:Object(a.jsx)(u.b,{to:"/admin/service",children:"D\u1ecbch v\u1ee5"})},"/admin/service"),Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(Ce.a,{}),children:Object(a.jsx)(u.b,{to:"/admin/room",children:"Ph\xf2ng kh\xe1m"})},"/admin/room"),Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(Se.a,{}),children:Object(a.jsx)(u.b,{to:"/admin/account",children:"T\xe0i kho\u1ea3n"})},"/admin/account"),Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(Ie.a,{}),children:Object(a.jsx)(u.b,{to:"/admin/profile",children:"H\u1ed3 s\u01a1"})},"/admin/profile")]})}),Object(a.jsx)(ge.a,{style:{padding:"0 24px 24px"},children:Object(a.jsx)(Sa,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"".concat(n,"/dashboard"),children:Object(a.jsx)(Ve,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/drug/category"),children:Object(a.jsx)(et,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/drug/unit"),children:Object(a.jsx)(st,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/drug/route"),children:Object(a.jsx)(ht,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/drug/dosage-form"),children:Object(a.jsx)(xa,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/drug"),exact:!0,children:Object(a.jsx)(Tt,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/drug/instruction"),children:Object(a.jsx)(Ht,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/disease/category"),children:Object(a.jsx)(Gt,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/disease"),children:Object(a.jsx)(Zt,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/notification"),children:Object(a.jsx)(Jt,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/visit"),children:Object(a.jsx)(vn,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/service"),children:Object(a.jsx)(Bn,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/room"),children:Object(a.jsx)(Yn,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/account"),children:Object(a.jsx)(la,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/profile"),children:Object(a.jsx)(wa,{})}),Object(a.jsx)(j.a,{to:"/admin/dashboard"})]})})})]})]})}),["admin"]),Na=n(834),Ea=n(835),La=n(811),Da=function(e){e.emrId;var t=Object(c.useState)(!1),n=Object(Te.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(""),u=Object(Te.a)(s,2),j=u[0],d=u[1],b=Object(c.useState)(""),h=Object(Te.a)(b,2),p=h[0],O=h[1],m=Object(c.useState)(Object(pt.a)(e.fileList)),x=Object(Te.a)(m,2),f=x[0],g=x[1],v=oe.a.get("EMR_token"),y=Object(a.jsxs)("div",{children:[Object(a.jsx)(ze.a,{}),Object(a.jsx)("div",{style:{marginTop:8},children:"T\u1ea3i l\xean"})]});function _(){return(_=Object(o.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.event,n.file,a=n.fileList,g(a),e.onChange(n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,ya(t.originFileObj);case 3:t.preview=e.sent;case 4:d(t.url||t.preview),i(!0),O(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ga.a,{onChange:function(e){return _.apply(this,arguments)},listType:"picture-card",fileList:f,action:"".concat(W,"/user/emr/image/"),name:"image",headers:{Authorization:"Bearer ".concat(v)},onPreview:function(e){return k.apply(this,arguments)},children:y}),Object(a.jsx)(Ge.a,{visible:r,title:p,footer:null,onCancel:function(){i(!1)},children:Object(a.jsx)("img",{src:j,alt:"",style:{width:"100%"}})})]})},Fa=n(97),Ra=n.n(Fa),Ha=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]],Ba="".concat(W,"/user/service");function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(Ba,"/?search=").concat(e);return ne.a.get(t)}var Ya="".concat(W,"/user/drug-category");function Va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(Ya,"/?search=").concat(e);return ne.a.get(t)}var Pa="".concat(W,"/user/drug-instruction");function Aa(){var e="".concat(Pa,"/");return ne.a.get(e)}var Ga="".concat(W,"/user/drug");function Ua(e){var t="".concat(Ga,"/");return e?ne.a.get("".concat(t,"?").concat($e(e))):ne.a.get(t)}var Ka=n(19),za=function(e){var t=e.value,n=void 0===t?{category:null,disease:null}:t,r=e.onChange,i=Object(Ka.a)(e,["value","onChange"]),s=i.label,l=i.diseaseCategories,o=i.diseases,u=i.clearable,j=Object(c.useState)(""),d=Object(Te.a)(j,2),b=d[0],p=d[1];return Object(a.jsxs)(Ne.a,{align:"middle",gutter:15,className:"flex-no-wrap",children:[s&&Object(a.jsx)(Ee.a,{flex:"0 0 150px",children:s}),Object(a.jsx)(Ee.a,{flex:"0 0 300px",style:{maxWidth:300},children:Object(a.jsx)(He.a,{placeholder:"Nh\xf3m b\u1ec7nh",onChange:function(e){p(e),r(Object(oa.a)(Object(oa.a)({},n),{},{category:e}))},value:null===n||void 0===n?void 0:n.category,showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},children:l.map((function(e){return Object(a.jsx)(He.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(a.jsx)(Ee.a,{flex:"1 1 auto",children:Object(a.jsx)(He.a,{placeholder:"B\u1ec7nh",onChange:function(e){r(Object(oa.a)(Object(oa.a)({},n),{},{disease:e}))},value:null===n||void 0===n?void 0:n.disease,showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},children:null===o||void 0===o?void 0:o.filter((function(e){return""===b||e.disease_category===b})).map((function(e){return Object(a.jsx)(He.a.Option,{value:e.name,children:e.name},e.id)}))})}),u&&Object(a.jsx)(Ee.a,{children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ke.a,{}),onClick:function(){return r({category:null,disease:null})}})})]})},Xa=n(802),Qa=n(797),qa=n(832),Wa=n(833),Za=He.a.Option,Ja=function(e){var t=e.emrForm,n=e.emr,c=e.diseaseCategories,r=e.diseases,i=e.drugCategories,s=e.drugLoading,l=e.drugInstructions,o=e.services,u=e.drugs,j=e.finishLoading;return Object(a.jsxs)(d.a,{layout:"vertical",form:t,initialValues:(n.medical_record.examination.drugs,{services:n.medical_record.summary.services}),children:[Object(a.jsx)(Ne.a,{gutter:15,children:Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"Ph\xf2ng kh\xe1m",name:"room",initialValue:n.room.name,children:Object(a.jsx)(b.a,{readOnly:!0})})})}),Object(a.jsxs)(Xa.a,{defaultActiveKey:["administrative","present-complaint","ask","examination","summary"],children:[Object(a.jsxs)(Xa.a.Panel,{header:Object(a.jsx)("strong",{className:"uppercase",children:"i. H\xe0nh ch\xednh"}),children:[Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 33.33%",children:Object(a.jsx)(d.a.Item,{label:"1. H\u1ecd v\xe0 t\xean",name:"fullname",initialValue:(n.patient.first_name+" "+n.patient.last_name).toUpperCase(),children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 33.33%",children:Object(a.jsx)(d.a.Item,{label:"2. Sinh ng\xe0y",name:"dayOfBirth",initialValue:en()(n.patient.DOB),children:Object(a.jsx)(An.a,{format:"DD/MM/YYYY",style:{width:"100%"}})})}),Object(a.jsx)(Ee.a,{flex:"0 0 33.33%",children:Object(a.jsx)(d.a.Item,{label:"3. Gi\u1edbi t\xednh",name:"gender",initialValue:n.patient.gender,children:Object(a.jsxs)(He.a,{children:[Object(a.jsx)(He.a.Option,{value:"Nam",children:"Nam"}),Object(a.jsx)(He.a.Option,{value:"N\u1eef",children:"N\u1eef"})]})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 33.33%",children:Object(a.jsx)(d.a.Item,{label:"4. Ngh\u1ec1 nghi\u1ec7p",name:"job",children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 33.33%",children:Object(a.jsx)(d.a.Item,{label:"5. D\xe2n t\u1ed9c",name:"ethnicity",children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 33.33%",children:Object(a.jsx)(d.a.Item,{label:"6. Ngo\u1ea1i ki\u1ec1u",name:"expatriate",children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsx)(d.a.Item,{label:"7. \u0110\u1ecba ch\u1ec9",name:"address",children:Object(a.jsx)(b.a,{})}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{label:"8. N\u01a1i l\xe0m vi\u1ec7c",name:"workplace",children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(d.a.Item,{label:"9. \u0110\u1ed1i t\u01b0\u1ee3ng",name:"object",initialValue:"Kh\xe1c",children:Object(a.jsxs)(Gn.a.Group,{children:[Object(a.jsx)(Gn.a,{value:"BHYT",children:"1. BHYT"}),Object(a.jsx)(Gn.a,{value:"Thu ph\xed",children:"2. Thu ph\xed"}),Object(a.jsx)(Gn.a,{value:"Mi\u1ec5n ph\xed",children:"3. Mi\u1ec5n ph\xed"}),Object(a.jsx)(Gn.a,{value:"Kh\xe1c",children:"4. Kh\xe1c"})]})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{label:"10. Gi\xe1 tr\u1ecb BHYT",name:"insurance_expirity",children:Object(a.jsx)(An.a,{style:{width:"100%"},format:"DD/MM/YYYY"})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{label:"S\u1ed1 th\u1ebb BHYT",name:"insurance_number",children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{label:"11. H\u1ecd t\xean, \u0111\u1ecba ch\u1ec9 ng\u01b0\u1eddi nh\xe0 khi c\u1ea7n b\xe1o tin",name:"family_member_and_address",children:Object(a.jsx)(b.a.TextArea,{rows:2})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{label:"\u0110i\u1ec7n tho\u1ea1i",initialValue:n.patient.phone,name:"phone",children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsx)(d.a.Item,{label:"12. \u0110\u1ebfn kh\xe1m b\u1ec7nh l\xfac",initialValue:function(e){var t=en()(e);return"".concat(t.hour()," gi\u1edd ").concat(t.minute()," ph\xfat ng\xe0y ").concat(t.date()," th\xe1ng ").concat(t.month()+1," n\u0103m ").concat(t.year())}(n.created_at),name:"checkin",children:Object(a.jsx)(b.a,{readOnly:!0})}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"13. Ch\u1ea9n \u0111o\xe1n c\u1ee7a n\u01a1i gi\u1edbi thi\u1ec7u",name:"previous_diagnose",initialValue:n.medical_record.administrative.previous_diagnose,children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(d.a.Item,{label:"N\u01a1i gi\u1edbi thi\u1ec7u",name:"come_from",initialValue:n.medical_record.administrative.come_from||"T\u1ef1 \u0111\u1ebfn",children:Object(a.jsxs)(Gn.a.Group,{children:[Object(a.jsx)(Gn.a,{value:"Y t\u1ebf",children:"1. Y t\u1ebf"}),Object(a.jsx)(Gn.a,{value:"T\u1ef1 \u0111\u1ebfn",children:"2. T\u1ef1 \u0111\u1ebfn"})]})})})]})]},"administrative"),Object(a.jsx)(Xa.a.Panel,{header:Object(a.jsx)("strong",{className:"uppercase",children:"II. L\xfd do v\xe0o vi\u1ec7n"}),children:Object(a.jsx)(d.a.Item,{label:"L\xfd do v\xe0o vi\u1ec7n",name:"present_complaint",initialValue:n.medical_record.present_complaint,children:Object(a.jsx)(b.a,{})})},"present-complaint"),Object(a.jsxs)(Xa.a.Panel,{header:Object(a.jsx)("strong",{className:"uppercase",children:"iii. h\u1ecfi b\u1ec7nh"}),children:[Object(a.jsx)(d.a.Item,{label:"1. Qu\xe1 tr\xecnh b\u1ec7nh l\xfd",name:"pathological_process",initialValue:n.medical_record.ask.pathological_process,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsx)(d.a.Item,{label:"2. Ti\u1ec1n s\u1eed b\u1ec7nh",name:"self_medical_history",className:"mb-3",initialValue:n.medical_record.ask.self_medical_history,children:Object(a.jsx)(b.a,{placeholder:"B\u1ea3n th\xe2n"})}),Object(a.jsx)(d.a.Item,{name:"family_medical_history",initialValue:n.medical_record.ask.family_medical_history,children:Object(a.jsx)(b.a,{placeholder:"Gia \u0111\xecnh"})})]},"ask"),Object(a.jsxs)(Xa.a.Panel,{header:Object(a.jsx)("strong",{className:"uppercase",children:"iv. kh\xe1m b\u1ec7nh"}),children:[Object(a.jsxs)(Ne.a,{gutter:15,className:"flex-no-wrap",children:[Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"1. To\xe0n th\xe2n",name:"body",initialValue:n.medical_record.examination.body,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})})}),Object(a.jsx)(Ee.a,{flex:"0 0 auto",children:Object(a.jsxs)(d.a.Item,{label:"D\u1ea5u hi\u1ec7u sinh t\u1ed3n",children:[Object(a.jsx)(d.a.Item,{className:"mb-2",name:"heartbeat",initialValue:n.medical_record.examination.heartbeat,children:Object(a.jsx)(b.a,{addonBefore:Object(a.jsx)("div",{style:{width:80},children:"M\u1ea1ch"}),suffix:"l\u1ea7n/ph"})}),Object(a.jsx)(d.a.Item,{className:"mb-2",name:"temperature",initialValue:n.medical_record.examination.temperature,children:Object(a.jsx)(b.a,{addonBefore:Object(a.jsx)("div",{style:{width:80},children:"Nhi\u1ec7t \u0111\u1ed9"}),suffix:"\xb0C"})}),Object(a.jsx)(d.a.Item,{className:"mb-2",name:"blood_pressure",initialValue:n.medical_record.examination.blood_pressure,children:Object(a.jsx)(b.a,{addonBefore:Object(a.jsx)("div",{style:{width:80},children:"Huy\u1ebft \xe1p"}),suffix:"mmHg"})}),Object(a.jsx)(d.a.Item,{className:"mb-2",name:"breathing",initialValue:n.medical_record.examination.breathing,children:Object(a.jsx)(b.a,{addonBefore:Object(a.jsx)("div",{style:{width:80},children:"Nh\u1ecbp th\u1edf"}),suffix:"l\u1ea7n/ph"})}),Object(a.jsx)(d.a.Item,{className:"mb-0",name:"weight",initialValue:n.medical_record.examination.weight,children:Object(a.jsx)(b.a,{addonBefore:Object(a.jsx)("div",{style:{width:80},children:"C\xe2ng n\u1eb7ng"}),suffix:"kg"})})]})})]}),Object(a.jsx)(d.a.Item,{label:"2. C\xe1c b\u1ed9 ph\u1eadn",name:"partials",initialValue:n.medical_record.examination.partials,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsx)(d.a.Item,{label:"3. T\xf3m t\u1eaft k\u1ebft qu\u1ea3 c\u1eadn l\xe2m s\xe0ng",name:"subclinical_summary",initialValue:n.medical_record.examination.subclinical_summary,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsx)(d.a.Item,{label:"4. Ch\u1ea9n \u0111o\xe1n ban \u0111\u1ea7u",name:"initial_diagnose",initialValue:n.medical_record.examination.initial_diagnose,children:Object(a.jsx)(za,{diseaseCategories:c,diseases:r})}),Object(a.jsx)("div",{className:"mb-3",children:"5. \u0110\xe3 x\u1eed l\xfd (thu\u1ed1c, ch\u0103m s\xf3c)"}),Object(a.jsx)(d.a.List,{name:"drugs",children:function(t,n){var c=n.add,r=n.remove;return Object(a.jsxs)(a.Fragment,{children:[t.map((function(t,n){return Object(a.jsxs)(Ne.a,{gutter:15,align:"middle",children:[Object(a.jsx)(Ee.a,{children:n+1}),Object(a.jsx)(Ee.a,{flex:"0 0 220px",children:Object(a.jsx)(d.a.Item,Object(oa.a)(Object(oa.a)({},t),{},{label:"Nh\xf3m thu\u1ed1c",name:[t.name,"drugCategory"],fieldKey:[t.fieldKey,"drugCategory"],rules:[{required:!0,message:"Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"}],children:Object(a.jsx)(He.a,{onChange:e.handleChangeDrugCategory,showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},children:i.map((function(e){return Object(a.jsx)(Za,{value:e.id,children:e.name},e.id)}))})}))}),Object(a.jsx)(Ee.a,{flex:"1 0 220px",children:Object(a.jsx)(d.a.Item,Object(oa.a)(Object(oa.a)({},t),{},{label:"Thu\u1ed1c",name:[t.name,"drug"],fieldKey:[t.fieldKey,"drug"],rules:[{required:!0,message:"Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"}],children:Object(a.jsx)(He.a,{loading:s,showSearch:!0,filterOption:function(e,t){return t.value.toLowerCase().includes(e.toLowerCase())},children:u.map((function(e){return Object(a.jsxs)(Za,{value:"".concat(e.name," ").concat(e.strength),children:[e.name," ",e.strength]},e.id)}))})}))}),Object(a.jsx)(Ee.a,{flex:"0 0 120px",children:Object(a.jsx)(d.a.Item,Object(oa.a)(Object(oa.a)({},t),{},{name:[t.name,"drugInstruction"],fieldKey:[t.fieldKey,"drugInstruction"],rules:[{required:!0,message:"Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"}],label:"C\xe1ch d\xf9ng",style:{minWidth:200},children:Object(a.jsx)(He.a,{showSearch:!0,filterOption:function(e,t){var n;return null===(n=t.children)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())},children:l.map((function(e){return Object(a.jsx)(Za,{value:e.instruction,children:e.instruction},e.id)}))})}))}),Object(a.jsx)(Ee.a,{flex:"0 0 80px",children:Object(a.jsx)(d.a.Item,Object(oa.a)(Object(oa.a)({},t),{},{label:"S\u1ed1 l\u01b0\u1ee3ng",name:[t.name,"total"],fieldKey:[t.fieldKey,"total"],children:Object(a.jsx)(b.a,{type:"number"})}))}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(qa.a,{onClick:function(){return r(t.name)}})})]},t.key)})),Object(a.jsx)(d.a.Item,{children:Object(a.jsx)(h.a,{type:"dashed",block:!0,onClick:function(){return c()},icon:Object(a.jsx)(ze.a,{}),children:"Th\xeam thu\u1ed1c"})})]})}}),Object(a.jsx)(d.a.Item,{name:"processed",initialValue:n.medical_record.examination.processed,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsx)(d.a.Item,{label:"6. Ch\u1ea9n \u0111o\xe1n khi ra vi\u1ec7n",name:"diagnose",initialValue:n.medical_record.examination.diagnose,children:Object(a.jsx)(za,{diseaseCategories:c,diseases:r})}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)(d.a.Item,{label:"7. \u0110i\u1ec1u tr\u1ecb ngo\u1ea1i tr\xfa t\u1eeb ng\xe0y",initialValue:en()(n.created_at),name:"from_date",children:Object(a.jsx)(An.a,{format:"DD/MM/YYYY"})})}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(d.a.Item,{label:"\u0110\u1ebfn ng\xe0y",name:"to_date",initialValue:en()(n.medical_record.examination.to_date||new Date,"DD/MM/YYYY"),children:Object(a.jsx)(An.a,{format:"DD/MM/YYYY"})})})]})]},"examination"),Object(a.jsxs)(Xa.a.Panel,{header:Object(a.jsx)("strong",{className:"uppercase",children:"t\u1ed5ng k\u1ebft b\u1ec7nh \xe1n"}),children:[Object(a.jsx)(d.a.Item,{label:"1. Qu\xe1 tr\xecnh b\u1ec7nh l\xfd v\xe0 di\u1ec5n bi\u1ebfn l\xe2m s\xe0ng",name:"pathological_process_and_clinical_course",initialValue:n.medical_record.summary.pathological_process_and_clinical_course,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsx)(d.a.Item,{label:"2. T\xf3m t\u1eaft k\u1ebft qu\u1ea3 x\xe9t nghi\u1ec7m c\u1eadn l\xe2m s\xe0ng c\xf3 gi\xe1 tr\u1ecb ch\u1ea9n \u0111o\xe1n",name:"valuable_subclinical_summary",initialValue:n.medical_record.summary.valuable_subclinical_summary,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsxs)(d.a.Item,{label:"3. Ch\u1ea9n \u0111o\xe1n khi ra vi\u1ec7n",className:"mb-3",children:[Object(a.jsx)(d.a.Item,{name:"primary_disease",initialValue:n.medical_record.summary.primary_disease,children:Object(a.jsx)(za,{label:"B\u1ec7nh ch\xednh",diseaseCategories:c,diseases:r})}),Object(a.jsx)(d.a.Item,{name:"sub_disease",initialValue:n.medical_record.summary.sub_disease,children:Object(a.jsx)(za,{label:"B\u1ec7nh ph\u1ee5 (n\u1ebfu c\xf3)",diseaseCategories:c,diseases:r,clearable:!0})})]}),Object(a.jsx)(d.a.Item,{label:"4. Ph\u01b0\u01a1ng ph\xe1p \u0111i\u1ec1u tr\u1ecb",name:"treatment_method",initialValue:n.medical_record.summary.treatment_method,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsx)(d.a.Item,{label:"5. T\xecnh tr\u1ea1ng ng\u01b0\u1eddi b\u1ec7nh ra vi\u1ec7n",name:"patient_status",initialValue:n.medical_record.summary.patient_status,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsx)(d.a.Item,{label:"6. H\u01b0\u1edbng \u0111i\u1ec1u tr\u1ecb v\xe0 c\xe1c ch\u1ebf \u0111\u1ed9 ti\u1ebfp theo",name:"direction_of_treatment",initialValue:n.medical_record.summary.direction_of_treatment,children:Object(a.jsx)(Ra.a,{theme:"snow",modules:{toolbar:Ha}})}),Object(a.jsxs)(Ne.a,{gutter:15,className:"mb-5",children:[Object(a.jsxs)(Ee.a,{flex:"0 0 50%",children:[Object(a.jsx)("div",{className:"mb-3",children:"Ch\u1ec9 \u0111\u1ecbnh d\u1ecbch v\u1ee5"}),Object(a.jsx)(d.a.List,{name:"services",children:function(e,t){var n=t.add,c=t.remove;return Object(a.jsxs)(a.Fragment,{children:[e.map((function(e,t){return Object(a.jsxs)(Ne.a,{gutter:15,align:"middle",className:"mb-5",children:[Object(a.jsx)(Ee.a,{children:t+1}),Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,Object(oa.a)(Object(oa.a)({},e),{},{name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],style:{margin:0},rules:[{required:!0,message:"Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"}],children:Object(a.jsx)(He.a,{placeholder:"Ch\u1ecdn d\u1ecbch v\u1ee5",showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},children:o.map((function(e,t){return Object(a.jsx)(Za,{value:e.name,children:e.name},e.id)}))})}))}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(qa.a,{onClick:function(){return c(e.name)}})})]},e.key)})),Object(a.jsx)(d.a.Item,{children:Object(a.jsx)(h.a,{type:"dashed",block:!0,onClick:function(){return n()},icon:Object(a.jsx)(ze.a,{}),children:"Th\xeam d\u1ecbch v\u1ee5"})})]})}})]}),Object(a.jsxs)(Ee.a,{flex:"0 0 50%",children:[Object(a.jsx)("div",{className:"mb-3",children:"T\u1ec7p \u0111\xednh k\xe8m"}),Object(a.jsx)(Da,{onChange:function(t){return e.handleUploadChange(t,n.id)},fileList:n.medical_record.summary.attachments||[]})]})]})]},"summary")]}),Object(a.jsx)(Qa.a,{}),Object(a.jsx)("div",{className:"text-right",children:Object(a.jsxs)(Re.b,{children:[Object(a.jsx)(h.a,{type:"default",size:"large",onClick:e.handleSaveEmr,icon:Object(a.jsx)(Wa.a,{}),children:"L\u01b0u l\u1ea1i"}),Object(a.jsx)(h.a,{type:"primary",size:"large",onClick:function(){return e.handleFinishExamination(n.id)},loading:j,icon:Object(a.jsx)(Be.a,{}),children:"K\u1ebft th\xfac kh\xe1m"})]})})]})},$a=(He.a.Option,d.a.useForm),ec=Object(m.b)((function(e){return{user:e.userState.user,diseaseCategories:e.diseaseCategoryState.diseaseCategories,fetchDiseaseCategoryLoading:e.diseaseCategoryState.fetchLoading,diseases:e.diseaseState.diseases,fetchDiseaseLoading:e.diseaseState.fetchLoading}}),(function(e){return{fetchDiseaseCategory:function(t,n){return e(function(e,t){var n="";return n="admin"===e?"https://emr-2020.wl.r.appspot.com/api/admin/manage-disease-category/":"https://emr-2020.wl.r.appspot.com/api/user/disease-category/",t&&(n+=$e(t)),function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:G}),e.next=4,ne.a.get(n);case 4:return a=e.sent,e.abrupt("return",t((c=a.data,{type:U,payload:c})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",t({type:K}));case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(t,n))},fetchDisease:function(t,n){return e(function(e,t){var n="";return n="admin"===e?"https://emr-2020.wl.r.appspot.com/api/admin/manage-disease/":"https://emr-2020.wl.r.appspot.com/api/user/disease/",t&&(n+=$e(t)),function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:z}),e.next=4,ne.a.get(n);case 4:return a=e.sent,e.abrupt("return",t((c=a.data,{type:X,payload:c})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",t({type:Q}));case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.user,n=e.diseaseCategories,r=e.diseases,i=e.fetchDiseaseCategory,s=e.fetchDisease,u=Object(j.g)(),h=Object(j.i)(),p=Object(c.useState)([]),O=Object(Te.a)(p,2),m=O[0],x=O[1],f=Object(c.useState)([]),g=Object(Te.a)(f,2),v=g[0],y=g[1],_=Object(c.useState)([]),k=Object(Te.a)(_,2),w=k[0],C=k[1],S=Object(c.useState)([]),I=Object(Te.a)(S,2),T=I[0],N=I[1],E=Object(c.useState)(!0),L=Object(Te.a)(E,2),D=L[0],F=L[1],R=Object(c.useState)(null),H=Object(Te.a)(R,2),B=H[0],M=H[1],Y=Object(c.useState)(!1),V=Object(Te.a)(Y,2),P=V[0],A=V[1],G=Object(c.useState)(!1),U=Object(Te.a)(G,2),K=U[0],z=U[1],X=Object(c.useState)(!1),Q=Object(Te.a)(X,2),q=Q[0],W=Q[1],Z=Object(c.useState)(!1),$=Object(Te.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(!1),ce=Object(Te.a)(ae,2),re=ce[0],ie=ce[1],se=$a(),le=Object(Te.a)(se,1)[0],oe=$a(),ue=Object(Te.a)(oe,1)[0];function je(){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==t.role.name){e.next=7;break}return e.next=4,En();case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,Ma();case 9:n=e.sent;case 10:a=n.data,x(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function be(){return he.apply(this,arguments)}function he(){return(he=Object(o.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==t.role.name){e.next=7;break}return e.next=4,We();case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,Va();case 9:n=e.sent;case 10:a=n.data,y(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function pe(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(o.a)(l.a.mark((function e(n){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A(!0),"admin"!==t.role.name){e.next=8;break}return e.next=5,mt({drug_category:n});case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,Ua({drug_category:n});case 10:a=e.sent;case 11:c=a.data,C(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,A(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})))).apply(this,arguments)}function me(){return xe.apply(this,arguments)}function xe(){return(xe=Object(o.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==t.role.name){e.next=7;break}return e.next=4,Lt();case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,Aa();case 9:n=e.sent;case 10:a=n.data,N(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function fe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),e.next=4,xn(t);case 4:n=e.sent,(a=n.data.data)[0]&&M(a[0]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,F(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}function ve(){return(ve=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.emr,e.next=3,Promise.all([fe(t),je(),be(),me(),s(),i()]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return(ye=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(o.a)(l.a.mark((function e(n){var a,c,r,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.validateFields();case 3:return a=e.sent,c=t.email,r=a.password,ie(!0),e.next=9,ne.a.post(J,{email:c,password:r});case 9:if(i=e.sent,!(s=i.data).access_token||!s.refresh_token){e.next=16;break}return ie(!1),te(!1),e.next=16,we(n);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),ie(!1);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function we(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,gn(t);case 4:return e.sent,e.next=7,dn(t);case 7:e.sent,u.goBack(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,z(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))).apply(this,arguments)}function Se(){return(Se=Object(o.a)(l.a.mark((function e(){var n,a,c,r,i,s,o,u,j,d,b,h,p,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.validateFields();case 2:return p=e.sent,O={patient:B.patient,physician:t,room:B.room,medical_record:{administrative:{fullname:p.fullname||null,dayOfBirth:(null===(n=p.dayOfBirth)||void 0===n?void 0:n.format("DD/MM/YYYY"))||null,gender:p.gender||null,job:p.job||null,ethnicity:p.ethnicity||null,expatriate:p.expatriate||null,address:p.address||null,workplace:p.workplace||null,object:p.object||null,insurance_expirity:(null===(a=p.insurance_expirity)||void 0===a?void 0:a.format("DD/MM/YYYY"))||null,insurance_number:p.insurance_number||null,family_member_and_address:p.family_member_and_address||null,phone:p.phone||null,checkin_at:p.checkin||null,previous_diagnose:p.previous_diagnose||null,come_from:p.come_from||null},present_complaint:p.present_complaint||null,ask:{pathological_process:p.pathological_process||null,self_medical_history:p.self_medical_history||null,family_medical_history:p.family_medical_history||null},examination:{heartbeat:p.heartbeat||null,temperature:p.temperature||null,blood_pressure:p.blood_pressure||null,breathing:p.breathing||null,weight:p.weight||null,body:p.body||null,partials:p.partials||null,subclinical_summary:p.subclinical_summary||null,initial_diagnose:{category:(null===(c=p.initial_diagnose)||void 0===c?void 0:c.category)||null,disease:(null===(r=p.initial_diagnose)||void 0===r?void 0:r.disease)||null},drugs:p.drugs||null,processed:p.processed||null,diagnose:{category:(null===(i=p.diagnose)||void 0===i?void 0:i.category)||null,disease:(null===(s=p.diagnose)||void 0===s?void 0:s.disease)||null},from_date:(null===(o=p.from_date)||void 0===o?void 0:o.format("DD/MM/YYYY"))||null,to_date:(null===(u=p.to_date)||void 0===u?void 0:u.format("DD/MM/YYYY"))||null},summary:{pathological_process_and_clinical_course:p.pathological_process_and_clinical_course||null,valuable_subclinical_summary:p.valuable_subclinical_summary||null,primary_disease:{category:(null===(j=p.primary_disease)||void 0===j?void 0:j.category)||null,disease:(null===(d=p.primary_disease)||void 0===d?void 0:d.disease)||null},sub_disease:{category:(null===(b=p.sub_disease)||void 0===b?void 0:b.category)||null,disease:(null===(h=p.sub_disease)||void 0===h?void 0:h.disease)||null},treatment_method:p.treatment_method||null,patient_status:p.patient_status||null,direction_of_treatment:p.direction_of_treatment||null,services:p.services||null,attachments:B.medical_record.summary.attachments||null}}},e.prev=4,W(!0),e.next=8,fn(B.id,O);case 8:fa.b.success("L\u01b0u b\u1ec7nh \xe1n th\xe0nh c\xf4ng"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:return e.prev=14,W(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})))).apply(this,arguments)}function Ie(){return(Ie=Object(o.a)(l.a.mark((function e(t,n){var a,c,r,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.event,a=t.file,c=t.fileList,a&&"done"===a.status)try{r=a.response,i={uid:r.url,id:r.url,url:r.url},(s=Object(oa.a)({},B)).medical_record.summary.attachments=[].concat(Object(pt.a)(s.medical_record.summary.attachments),[i]),M(s),fa.b.success({content:"L\u01b0u th\xe0nh c\xf4ng"})}catch(n){console.log(n)}if(a&&"removed"===a.status)try{(o=Object(oa.a)({},B)).medical_record.summary.attachments=c,M(o),fa.b.success({content:"L\u01b0u th\xe0nh c\xf4ng"})}catch(n){console.log(n)}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){t&&function(){ve.apply(this,arguments)}()}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(yn.a,{title:"B\u1ec7nh \xe1n ngo\u1ea1i tr\xfa",onBack:function(){return u.goBack()}}),B?null===B.completed_at?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Le.a,{spinning:q||K,children:Object(a.jsx)(Ja,{emrForm:le,emr:B,diseases:r,diseaseCategories:n,handleChangeDrugCategory:function(e){return ye.apply(this,arguments)},drugCategories:v,drugLoading:P,drugInstructions:T,services:m,drugs:w,handleUploadChange:function(e,t){return Ie.apply(this,arguments)},handleSaveEmr:function(){return Se.apply(this,arguments)},handleFinishExamination:function(){te(!0)},finishLoading:K})}),Object(a.jsx)(Ge.a,{visible:ee,onCancel:function(){return te(!1)},onOk:function(){return _e(B.id)},destroyOnClose:!0,confirmLoading:re,title:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",children:Object(a.jsx)(d.a,{onFinish:function(){return _e(B.id)},form:ue,children:Object(a.jsx)(d.a.Item,{name:"password",label:"M\u1eadt kh\u1ea9u",rules:[Xe()],children:Object(a.jsx)(b.a.Password,{})})})})]}):Object(a.jsx)(La.a,{message:"L\u1ed7i",description:"B\u1ec7nh \xe1n n\xe0y \u0111\xe3 \u0111\xf3ng v\xe0o ".concat(en()(B.created_at).format("DD/MM/YYYY HH:mm:ss")),type:"error",showIcon:!0}):D?Object(a.jsx)("div",{className:"py-10 text-center",children:Object(a.jsx)(Le.a,{spinning:D,tip:"\u0110ang t\u1ea3i b\u1ec7nh \xe1n..."})}):Object(a.jsx)(La.a,{message:"L\u1ed7i",description:"Kh\xf4ng t\xecm th\u1ea5y b\u1ec7nh \xe1n",type:"error",showIcon:!0})]})})),tc=n(808),nc=tc.a.Item,ac=function(e){var t=Object(j.g)().goBack,n=Object(j.j)(),r=n.params,i=n.url,s=r.patientId,d=Object(c.useState)(null),b=Object(Te.a)(d,2),p=b[0],O=b[1],m=Object(c.useState)(!1),x=Object(Te.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(null),y=Object(Te.a)(v,2),_=y[0],k=y[1],w=Object(c.useState)(!1),C=Object(Te.a)(w,2),S=C[0],I=C[1],T=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"Ng\xe0y kh\xe1m b\u1ec7nh",key:"date",render:function(e,t){return en()(t.Record.created_at).format("DD/MM/YYYY")}},{title:"B\xe1c s\u0129 kh\xe1m b\u1ec7nh",key:"physician",render:function(e,t){return t.Record.physician.first_name+" "+t.Record.physician.last_name}},{title:"Ph\xf2ng kh\xe1m",key:"room",render:function(e,t){return t.Record.room.name}},{title:"Tr\u1ea1ng th\xe1i",key:"status",render:function(e,t){return Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(sa,{color:null!==t.Record.completed_at?"success":""}),Object(a.jsx)("span",{className:"ml-2",children:null!==t.Record.completed_at?" \u0110\xe3 \u0111\xf3ng":" Ch\u01b0a \u0111\xf3ng"})]})}},{title:"H\xe0nh \u0111\u1ed9ng",key:"actions",render:function(e,t){return Object(a.jsxs)(Re.b,{children:[Object(a.jsx)(u.b,{to:"".concat(i,"/").concat(t.Key),children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(_n.a,{}),children:"Xem"})}),i.includes("/physician")&&null===t.Record.completed_at&&Object(a.jsx)(u.b,{to:"/physician/visit/".concat(t.Record.id),children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(Ue.a,{}),children:"C\u1eadp nh\u1eadt"})})]})}}];function N(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,Cn(t);case 4:n=e.sent,O(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function L(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,On({patient_id:t});case 4:n=e.sent,k(n.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,I(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function F(){return(F=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([N(s),L(s)]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){F.apply(this,arguments)}()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(yn.a,{onBack:t,title:p?p.first_name+" "+p.last_name:"Chi ti\u1ebft b\u1ec7nh nh\xe2n"}),Object(a.jsx)(Le.a,{spinning:f,children:Object(a.jsxs)(tc.a,{title:"Th\xf4ng tin c\xe1 nh\xe2n",colon:!0,children:[Object(a.jsx)(nc,{label:"H\u1ecd v\xe0 t\xean",children:p?p.first_name+" "+p.last_name:In}),Object(a.jsx)(nc,{label:"Gi\u1edbi t\xednh",children:(null===p||void 0===p?void 0:p.gender)||"\u0110ang t\u1ea3i"}),Object(a.jsx)(nc,{label:"Ng\xe0y sinh",children:p?en()(p.DOB).format("DD/MM/YYYY"):In}),Object(a.jsx)(nc,{label:"\u0110i\u1ec7n tho\u1ea1i",children:(null===p||void 0===p?void 0:p.phone)||In}),Object(a.jsx)(nc,{label:"\u0110\u1ecba ch\u1ec9",children:(null===p||void 0===p?void 0:p.address)||In})]})}),Object(a.jsx)("div",{className:"ant-descriptions-title mb-3",children:"L\u1ecbch s\u1eed kh\xe1m b\u1ec7nh"}),Object(a.jsx)(Ae.a,{rowKey:"Key",dataSource:_,loading:S,columns:T})]})},cc=n(322),rc=n(123),ic=Object(a.jsx)("span",{className:"text-gray-600 font-serif italic",children:"Tr\u1ed1ng"}),sc=tc.a.Item,lc=function(e){var t=e.emr,n=e.role,r=t.medical_record,i=r.administrative,s=i.fullname,l=i.dayOfBirth,o=i.gender,u=i.job,j=i.ethnicity,d=i.expatriate,b=i.address,h=i.workplace,p=i.object,O=i.insurance_expirity,m=i.insurance_number,x=i.family_member_name,f=i.family_member_address,g=i.phone,v=i.checkin_at,y=i.previous_diagnose,_=i.come_from,k=r.present_complaint,w=r.ask,C=w.pathological_process,S=w.self_medical_history,I=w.family_medical_history,T=r.examination,N=T.heartbeat,E=T.temperature,L=T.blood_pressure,D=T.breathing,F=T.weight,R=T.body,H=T.partials,B=T.subclinical_summary,M=T.initial_diagnose,Y=T.drugs,V=T.processed,P=T.diagnose,A=T.from_date,G=T.to_date,U=r.summary,K=U.pathological_process_and_clinical_course,z=U.valuable_subclinical_summary,X=U.primary_disease,Q=U.sub_disease,q=U.treatment_method,W=U.patient_status,Z=U.direction_of_treatment,J=U.services,$=U.attachments,ee=Object(c.useState)(""),te=Object(Te.a)(ee,2),ne=te[0],ae=te[1],ce=Object(c.useState)(!1),re=Object(Te.a)(ce,2),ie=re[0],se=re[1];function le(){ae(""),se(!1)}return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"mb-2",children:["Ph\xf2ng kh\xe1m: ",t.room.name]}),Object(a.jsxs)("div",{className:"mb-2",children:["C\u1eadp nh\u1eadt b\u1edfi: b\xe1c s\u0129 ",Object(a.jsxs)("strong",{children:[t.physician.first_name," ",t.physician.last_name]})]}),Object(a.jsxs)(tc.a,{title:"I. H\xe0nh ch\xednh",size:"middle",bordered:!0,column:2,className:"mb-5",children:[Object(a.jsx)(sc,{label:"1. H\u1ecd v\xe0 t\xean",children:s||In}),Object(a.jsx)(sc,{label:"2. Ng\xe0y sinh",children:l||In}),Object(a.jsx)(sc,{label:"3. Gi\u1edbi t\xednh",children:o||In}),Object(a.jsx)(sc,{label:"4. Ngh\u1ec1 nghi\u1ec7p",children:u||In}),Object(a.jsx)(sc,{label:"5. D\xe2n t\u1ed9c",children:j||In}),Object(a.jsx)(sc,{label:"6. Ngo\u1ea1i ki\u1ec1u",children:d||In}),Object(a.jsx)(sc,{label:"7. \u0110\u1ecba ch\u1ec9",span:2,children:b||In}),Object(a.jsx)(sc,{label:"8. N\u01a1i l\xe0m vi\u1ec7c",children:h||In}),Object(a.jsx)(sc,{label:"9. \u0110\u1ed1i t\u01b0\u1ee3ng",children:p||In}),Object(a.jsx)(sc,{label:"10. BHYT gi\xe1 tr\u1ecb \u0111\u1ebfn ng\xe0y",children:O||In}),Object(a.jsx)(sc,{label:"S\u1ed1 th\u1ebb BHYT",children:m||In}),Object(a.jsx)(sc,{label:"11. H\u1ecd t\xean, \u0111\u1ecba ch\u1ec9 ng\u01b0\u1eddi nh\xe0 khi c\u1ea7n b\xe1o tin",span:2,children:x&&f?"".concat(x,", ").concat(f):In}),Object(a.jsx)(sc,{label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",children:g||In}),Object(a.jsx)(sc,{label:"12. \u0110\u1ebfn kh\xe1m b\u1ec7nh l\xfac",children:v||In}),Object(a.jsx)(sc,{label:"13. Ch\u1ea9n \u0111o\xe1n c\u1ee7a n\u01a1i gi\u1edbi thi\u1ec7u",children:y&&_?"".concat(y," (").concat(_,")"):In})]}),"patient"!==n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(tc.a,{title:"II. L\xfd do v\xe0o vi\u1ec7n",bordered:!0,size:"middle",className:"mb-5",children:Object(a.jsx)(sc,{label:"L\xfd do v\xe0o vi\u1ec7n",children:k||ic})}),Object(a.jsxs)(tc.a,{title:"III. H\u1ecfi b\u1ec7nh",bordered:!0,layout:"vertical",column:2,className:"mb-5",children:[Object(a.jsx)(sc,{label:"1. Qu\xe1 tr\xecnh b\u1ec7nh l\xfd",span:2,children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:C||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsx)(sc,{label:"2. Ti\u1ec1n s\u1eed b\u1ec7nh b\u1ea3n th\xe2n",children:S||"Ch\u01b0a c\u1eadp nh\u1eadt"}),Object(a.jsx)(sc,{label:"Gia \u0111\xecnh",children:I||"Ch\u01b0a c\u1eadp nh\u1eadt"})]}),Object(a.jsxs)(tc.a,{title:"IV. Kh\xe1m b\u1ec7nh",bordered:!0,column:2,layout:"vertical",className:"mb-5",children:[Object(a.jsx)(sc,{label:"1. To\xe0n th\xe2n",className:"align-baseline",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:R||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsxs)(sc,{label:"D\u1ea5u hi\u1ec7u sinh t\u1ed3n",children:[Object(a.jsxs)("div",{children:["M\u1ea1ch: ",N||ic," ",Object(a.jsx)("i",{className:"ml-auto",children:"l\u1ea7n/ph"})]}),Object(a.jsxs)("div",{children:["Nhi\u1ec7t \u0111\u1ed9: ",E||ic," ",Object(a.jsx)("i",{className:"ml-auto",children:"\xb0C"})]}),Object(a.jsxs)("div",{children:["Huy\u1ebft \xe1p: ",L||ic," ",Object(a.jsx)("i",{className:"ml-auto",children:"mmHg"})]}),Object(a.jsxs)("div",{children:["Nh\u1ecbp th\u1edf: ",D||ic," ",Object(a.jsx)("i",{className:"ml-auto",children:"l\u1ea7n/ph"})]}),Object(a.jsxs)("div",{children:["C\xe2n n\u1eb7ng: ",F||ic," ",Object(a.jsx)("i",{className:"ml-auto",children:"kg"})]})]}),Object(a.jsx)(sc,{label:"2. C\xe1c b\u1ed9 ph\u1eadn",span:2,className:"align-baseline",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:H||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsx)(sc,{label:"3. T\xf3m t\u1eaft k\u1ebft qu\u1ea3 c\u1eadn l\xe2m s\xe0ng",span:2,children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:B||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsx)(sc,{label:"4. Ch\u1ea9n \u0111o\xe1n ban \u0111\u1ea7u",span:2,children:(null===M||void 0===M?void 0:M.disease)||In}),Object(a.jsx)(sc,{label:"5. Thu\u1ed1c",children:(null===Y||void 0===Y?void 0:Y.map((function(e,t){return Object(a.jsxs)("div",{children:[e.drug," x ",e.total," (",e.drugInstruction,")"]},t)})))||In}),Object(a.jsx)(sc,{label:"\u0110\xe3 x\u1eed l\xfd",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:V||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsx)(sc,{label:"6. Ch\u1ea9n \u0111o\xe1n khi ra vi\u1ec7n",span:2,children:(null===P||void 0===P?void 0:P.disease)||In}),Object(a.jsx)(sc,{label:"7. \u0110i\u1ec1u tr\u1ecb ngo\u1ea1i tr\xfa",children:A&&G?"T\u1eeb ng\xe0y ".concat(A," \u0111\u1ebfn ng\xe0y ").concat(G):In})]})]}),Object(a.jsxs)(tc.a,{title:"T\u1ed5ng k\u1ebft b\u1ec7nh \xe1n",bordered:!0,layout:"vertical",column:2,children:[Object(a.jsx)(sc,{label:"1. Qu\xe1 tr\xecnh b\u1ec7nh l\xfd v\xe0 di\u1ec5n bi\u1ebfn l\xe2m s\xe0ng",span:2,children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:K||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsx)(sc,{label:"2. T\xf3m t\u1eaft k\u1ebft qu\u1ea3 x\xe9t nghi\u1ec7m c\u1eadn l\xe2m s\xe0ng c\xf3 gi\xe1 tr\u1ecb ch\u1ea9n \u0111o\xe1n",span:2,children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:z||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsxs)(sc,{label:"3. Ch\u1ea9n \u0111o\xe1n ra vi\u1ec7n",span:2,children:[Object(a.jsxs)("div",{children:["B\u1ec7nh ch\xednh: ",(null===X||void 0===X?void 0:X.disease)||"Kh\xf4ng"]}),Object(a.jsxs)("div",{children:["B\u1ec7nh k\xe8m theo (n\u1ebfu c\xf3): ",(null===Q||void 0===Q?void 0:Q.disease)||"Kh\xf4ng"]})]}),Object(a.jsx)(sc,{label:"4. Ph\u01b0\u01a1ng ph\xe1p \u0111i\u1ec1u tr\u1ecb",span:2,children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:q||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsx)(sc,{label:"5. T\xecnh tr\u1ea1ng ng\u01b0\u1eddi b\u1ec7nh ra vi\u1ec7n",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:W||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),Object(a.jsx)(sc,{label:"6. H\u01b0\u1edbng \u0111i\u1ec1u tr\u1ecb v\xe0 c\xe1c ch\u1ebf \u0111\u1ed9 ti\u1ebfp theo",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:Z||"Ch\u01b0a c\u1eadp nh\u1eadt"},className:"whitespace-pre-line"})}),"patient"!==n&&Object(a.jsx)(sc,{label:"D\u1ecbch v\u1ee5",className:"align-baseline",children:(null===J||void 0===J?void 0:J.map((function(e,t){return Object(a.jsxs)("div",{children:[t+1,". ",e.name||e.id]},t)})))||ic}),"patient"!==n&&Object(a.jsx)(sc,{label:"T\u1ec7p \u0111\xednh k\xe8m",children:$&&$.length>0&&$.map((function(e,t){return Object(a.jsx)("img",{src:e.url,style:{width:200},onClick:function(){return t=e.url,ae(t),void se(!0);var t}},t)}))||ic})]}),Object(a.jsx)(Ge.a,{visible:ie,title:"H\xecnh \u1ea3nh",onOk:le,onCancel:le,children:Object(a.jsx)("img",{src:ne,style:{width:"100%"}})})]})},oc=function(e){var t=Object(j.g)().goBack,n=Object(j.j)().params,r=Object(c.useState)([]),i=Object(Te.a)(r,2),s=i[0],u=i[1],d=Object(c.useState)(!1),b=Object(Te.a)(d,2),h=b[0],p=b[1],O=Object(c.useState)(""),m=Object(Te.a)(O,2),x=m[0],f=m[1];function g(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,xn(t);case 4:n=e.sent,a=n.data.data,u(a),f(a.completed_at||a.updated_at||a.created_at),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))).apply(this,arguments)}function y(){return(y=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.emrId,e.next=3,Promise.all([g(t)]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{className:"bg-white p-3",children:[Object(a.jsx)(yn.a,{onBack:t,title:"Chi ti\u1ebft b\u1ec7nh \xe1n"}),h?Object(a.jsx)("div",{className:"text-center p-5",children:Object(a.jsx)(Le.a,{spinning:!0,size:"default",tip:"\u0110ang t\u1ea3i chi ti\u1ebft b\u1ec7nh \xe1n..."})}):s.length>0?Object(a.jsx)(cc.a,{defaultActiveKey:x,onChange:function(e){return f(e)},children:s.map((function(e){return Object(a.jsx)(cc.a.TabPane,{tab:e.completed_at||e.updated_at||e.created_at,children:Object(a.jsx)(lc,{emr:e})},e.completed_at||e.updated_at||e.created_at)}))}):Object(a.jsx)(rc.a,{})]})},uc=ge.a.Sider,jc=ge.a.Content,dc=ja((function(){var e=Object(j.j)(),t=Object(j.h)(),n=e.path;return Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Oa,{}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(uc,{width:200,className:"site-layout-background",children:Object(a.jsxs)(ve.a,{mode:"inline",style:{height:"100%",borderRight:0},selectedKeys:[t.pathname],children:[Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(Na.a,{}),children:Object(a.jsx)(u.b,{to:"/physician/visit",children:"Kh\xe1m b\u1ec7nh"})},"/physician/visit"),Object(a.jsx)(ve.a.Item,{className:t.pathname.includes("/physician/patient")&&"ant-menu-item-selected",icon:Object(a.jsx)(Ea.a,{}),children:Object(a.jsx)(u.b,{to:"/physician/patient",children:"B\u1ec7nh nh\xe2n"})},"/physician/patient"),Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(Ie.a,{}),children:Object(a.jsx)(u.b,{to:"/physician/profile",children:"H\u1ed3 s\u01a1"})},"/physician/profile")]})}),Object(a.jsx)(ge.a,{style:{padding:"0 24px 24px"},children:Object(a.jsx)(jc,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"".concat(n,"/visit"),exact:!0,children:Object(a.jsx)(vn,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/visit/:emr"),children:Object(a.jsx)(ec,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/patient"),exact:!0,children:Object(a.jsx)(Tn,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/patient/:patientId"),exact:!0,children:Object(a.jsx)(ac,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/patient/:patientId/:emrId"),children:Object(a.jsx)(oc,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/profile"),children:Object(a.jsx)(wa,{})}),Object(a.jsx)(j.a,{to:"/physician/visit"})]})})})]})]})}),["physician"]),bc=n(251),hc=function(e){var t=e.form,n=e.onFinish;return Object(a.jsxs)(d.a,{layout:"vertical",onFinish:n,form:t,children:[Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"H\u1ecd",name:"first_name",rules:[Xe()],children:Object(a.jsx)(b.a,{autoFocus:!0})})}),Object(a.jsx)(Ee.a,{flex:"0 0 15px"}),Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{label:"T\xean",name:"last_name",rules:[Xe()],children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsx)(d.a.Item,{name:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",rules:[Xe()],children:Object(a.jsx)(b.a,{})}),Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(Ee.a,{children:Object(a.jsx)(d.a.Item,{name:"DOB",label:"Ng\xe0y sinh",rules:[Xe()],children:Object(a.jsx)(An.a,{placeholder:"Ch\u1ecdn ng\xe0y"})})}),Object(a.jsx)(Ee.a,{flex:"0 0 15px"}),Object(a.jsx)(Ee.a,{flex:1,children:Object(a.jsx)(d.a.Item,{name:"gender",label:"Gi\u1edbi t\xednh",rules:[Xe()],children:Object(a.jsxs)(Gn.a.Group,{children:[Object(a.jsx)(Gn.a,{value:"Nam",children:"Nam"}),Object(a.jsx)(Gn.a,{value:"N\u1eef",children:"N\u1eef"}),Object(a.jsx)(Gn.a,{value:"Kh\xe1c",children:"Kh\xe1c"})]})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{name:"job",label:"Ngh\u1ec1 nghi\u1ec7p",children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{name:"workplace",label:"N\u01a1i l\xe0m vi\u1ec7c",children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsxs)(Ne.a,{gutter:15,children:[Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{name:"ethnicity",label:"D\xe2n t\u1ed9c",children:Object(a.jsx)(b.a,{})})}),Object(a.jsx)(Ee.a,{flex:"0 0 50%",children:Object(a.jsx)(d.a.Item,{name:"expatriate",label:"Ngo\u1ea1i ki\u1ec1u",children:Object(a.jsx)(b.a,{})})})]}),Object(a.jsx)(d.a.Item,{label:"H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi nh\xe0",name:"family_member_name",children:Object(a.jsx)(b.a,{})}),Object(a.jsx)(d.a.Item,{label:"\u0110\u1ecba ch\u1ec9",name:"address",children:Object(a.jsx)(b.a.TextArea,{autoSize:{minRows:2}})}),Object(a.jsx)(d.a.Item,{label:"\u0110\u1ecba ch\u1ec9 ng\u01b0\u1eddi nh\xe0",name:"family_member_address",children:Object(a.jsx)(b.a.TextArea,{autoSize:{minRows:2}})})]})},pc=function(e){var t=Object(c.useState)(null),n=Object(Te.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),u=Object(Te.a)(s,2),j=u[0],p=u[1],O=Object(c.useState)(null),m=Object(Te.a)(O,2),x=m[0],f=m[1],g=Object(c.useState)(!1),v=Object(Te.a)(g,2),y=(v[0],v[1]),_=Object(c.useState)(!1),k=Object(Te.a)(_,2),w=(k[0],k[1],Object(c.useState)(!1)),C=Object(Te.a)(w,2),S=C[0],I=C[1],T=Object(c.useState)(!1),N=Object(Te.a)(T,2),E=N[0],L=N[1],D=Object(c.useState)(!1),F=Object(Te.a)(D,2),R=F[0],H=F[1],B=d.a.useForm(),M=Object(Te.a)(B,1)[0];function Y(e){return Object(a.jsx)(ve.a,{children:null===x||void 0===x?void 0:x.map((function(t){return Object(a.jsxs)(ve.a.Item,{onClick:function(){return function(e,t){return Q.apply(this,arguments)}(e,t)},children:["Ph\xf2ng ",t.name]},t.id)}))})}var V=[{title:"#",key:"index",render:function(e,t,n){return n+1}},{title:"H\u1ecd v\xe0 t\xean",key:"fullname",render:function(e,t){return t.first_name+" "+t.last_name}},{title:"Gi\u1edbi t\xednh",key:"gender",dataIndex:"gender"},{title:"Ng\xe0y sinh",key:"DOB",dataIndex:"DOB"},{title:"\u0110i\u1ec7n tho\u1ea1i",key:"phone",dataIndex:"phone"},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return Object(a.jsx)(bc.a,{overlay:Y(t),overlayStyle:{minWidth:200},trigger:"click",children:Object(a.jsx)(h.a,{children:"Ti\u1ebfp nh\u1eadn"})})}}];function P(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,wn(t);case 4:n=e.sent,i(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function G(){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,nn();case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}function K(){return(K=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([P(),G()]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return X.apply(this,arguments)}function X(){return(X=Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,M.validateFields();case 4:return(t=e.sent).DOB=t.DOB.format("YYYY-MM-DD"),e.next=8,Sn(t);case 8:return n=e.sent,a=n.data.id,e.next=12,de(a,"patient");case 12:return fa.b.success("T\u1ea1o b\u1ec7nh nh\xe2n th\xe0nh c\xf4ng"),L(!1),e.next=16,P();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:return e.prev=21,I(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])})))).apply(this,arguments)}function Q(){return(Q=Object(o.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,jn({patientId:t.id,roomId:n.id});case 4:fa.b.success("\u0110\xe3 ti\u1ebfp nh\u1eadn b\u1ec7nh nh\xe2n ".concat(t.first_name," ").concat(t.last_name," v\xe0o ").concat(n.name)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,H(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){K.apply(this,arguments)}()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(yn.a,{title:"Ti\u1ebfp nh\u1eadn b\u1ec7nh nh\xe2n",className:"pl-0",extra:Object(a.jsx)(h.a,{type:"primary",onClick:function(){L(!0)},icon:Object(a.jsx)(ze.a,{}),children:"B\u1ec7nh nh\xe2n m\u1edbi"})}),Object(a.jsx)(d.a,{onFinish:function(e){P(e.search)},children:Object(a.jsx)(d.a.Item,{name:"search",children:Object(a.jsx)(b.a.Search,{size:"large",placeholder:"T\xecm ki\u1ebfm b\u1ec7nh nh\xe2n theo t\xean/S\u0110T"})})}),Object(a.jsx)(Ae.a,{rowKey:"id",dataSource:null===r||void 0===r?void 0:r.results,loading:j||R,columns:V}),Object(a.jsx)(Ge.a,{visible:E,confirmLoading:S,onCancel:function(){L(!1)},onOk:z,destroyOnClose:!0,title:"B\u1ec7nh nh\xe2n m\u1edbi",children:Object(a.jsx)(hc,{form:M,onFinish:z})})]})},Oc=ge.a.Sider,mc=ge.a.Content,xc=ja((function(){var e=Object(j.j)(),t=Object(j.h)(),n=e.path;return Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Oa,{}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Oc,{width:200,className:"site-layout-background",children:Object(a.jsxs)(ve.a,{mode:"inline",style:{height:"100%",borderRight:0},selectedKeys:[t.pathname],children:[Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(ye.a,{}),children:Object(a.jsx)(u.b,{to:"/receptionist/receive",children:"Ti\u1ebfp nh\u1eadn b\u1ec7nh"})},"/receptionist/receive"),Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(Se.a,{}),children:Object(a.jsx)(u.b,{to:"/receptionist/profile",children:"H\u1ed3 s\u01a1"})},"/receptionist/profile")]})}),Object(a.jsx)(ge.a,{style:{padding:"0 24px 24px"},children:Object(a.jsx)(mc,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"".concat(n,"/receive"),children:Object(a.jsx)(pc,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/profile"),children:Object(a.jsx)(wa,{})}),Object(a.jsx)(j.a,{to:"/receptionist/receive"})]})})})]})]})}),["receptionist"]);n(739),n(740),n(741),n(742);var fc=function(){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",id:"Capa_1",enableBackground:"new 0 0 512 512",height:"50",viewBox:"0 0 512 512",width:"50",children:Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"m497 15.243h-482c-8.284 0-15 6.716-15 15v330c0 8.284 6.716 15 15 15h121.019c-.006.505-.019 1.008-.019 1.515 0 66.168 53.832 120 120 120s120-53.832 120-120c0-.506-.013-1.01-.019-1.515h121.019c8.284 0 15-6.716 15-15v-330c0-8.285-6.716-15-15-15zm-43.122 30-197.878 147.792-197.878-147.792zm-197.878 421.514c-49.626 0-90-40.374-90-90s40.374-90 90-90 90 40.374 90 90-40.374 90-90 90zm226-121.514h-110.208c-13.876-50.929-60.527-88.485-115.792-88.485-55.266 0-101.916 37.557-115.792 88.485h-110.208v-283.56l217.024 162.092c2.662 1.988 5.819 2.982 8.976 2.982s6.314-.994 8.976-2.982l217.024-162.092zm-191.606 5.908-49.394 49.393-19.394-19.393c-5.857-5.858-15.355-5.858-21.213 0s-5.858 15.355 0 21.213l30 30c2.929 2.929 6.768 4.394 10.606 4.394s7.678-1.464 10.606-4.394l60-60c5.858-5.858 5.858-15.355 0-21.213-5.856-5.859-15.354-5.859-21.211 0z",fill:"currentColor"})})})})},gc=function(e){var t,n=Object(c.useState)(!1),r=Object(Te.a)(n,2),i=r[0],s=r[1],d=Object(c.useState)(!1),b=Object(Te.a)(d,2),O=b[0],m=b[1],x=Object(c.useState)(null),f=Object(Te.a)(x,2),g=f[0],v=f[1],y=Object(j.h)().search,_=new URLSearchParams(y).get("token");function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*/.test(e);return console.log(t),t}function w(){return(w=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,ie(t);case 4:m(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:return e.prev=10,s(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){_&&_.length>0&&k(_)&&function(e){w.apply(this,arguments)}(_)}),[y,_]),Object(a.jsx)("main",{className:"login-page",children:Object(a.jsxs)("div",{className:"auth",children:[Object(a.jsxs)("div",{className:"auth__header text-center",children:[Object(a.jsx)(p.a,{component:fc}),Object(a.jsx)("h1",{className:"text-3xl",children:"X\xe1c th\u1ef1c email"})]}),i&&Object(a.jsxs)(Re.b,{align:"center",className:"flex text-center justify-center",children:[Object(a.jsx)(Le.a,{}),Object(a.jsx)("span",{children:"Vui l\xf2ng \u0111\u1ee3i"})]}),O&&Object(a.jsx)(La.a,{showIcon:!0,type:"success",message:"X\xe1c th\u1ef1c \u0111\u1ecba ch\u1ec9 email th\xe0nh c\xf4ng"}),!k(_)&&Object(a.jsx)(La.a,{showIcon:!0,type:"error",message:"URL kh\xf4ng h\u1ee3p l\u1ec7"}),!!g&&Object(a.jsx)(La.a,{showIcon:!0,type:"error",message:(null===g||void 0===g||null===(t=g.response)||void 0===t?void 0:t.data.message)||"C\xf3 l\u1ed7i khi x\xe1c th\u1ef1c email, vui l\xf2ng th\u1eed l\u1ea1i"}),Object(a.jsx)("div",{className:"text-center mt-5",children:Object(a.jsx)(h.a,{type:"link",children:Object(a.jsx)(u.b,{to:"/",children:"V\u1ec1 trang ch\u1ee7"})})})]})})},vc="".concat(Z,"/patient/emrs");function yc(){var e="".concat(vc,"/");return ne.a.get(e)}function _c(e){var t="".concat(vc,"/").concat(e);return ne.a.get(t)}var kc=function(e){var t=Object(j.j)().url,n=Object(c.useState)(null),r=Object(Te.a)(n,2),i=r[0],s=r[1],d=Object(c.useState)(!1),b=Object(Te.a)(d,2),p=b[0],O=b[1],m=[{title:"#",key:"#",render:function(e,t,n){return n+1}},{title:"Ng\xe0y kh\xe1m b\u1ec7nh",key:"date",render:function(e,t){return en()(t.Record.created_at).format("DD/MM/YYYY")}},{title:"B\xe1c s\u0129 kh\xe1m b\u1ec7nh",key:"physician",render:function(e,t){return t.Record.physician.first_name+" "+t.Record.physician.last_name}},{title:"Ph\xf2ng kh\xe1m",key:"room",render:function(e,t){return t.Record.room.name}},{title:"Tr\u1ea1ng th\xe1i",key:"status",render:function(e,t){return Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(sa,{color:null!==t.Record.completed_at?"success":""}),Object(a.jsx)("span",{className:"ml-2",children:null!==t.Record.completed_at?" \u0110\xe3 \u0111\xf3ng":" Ch\u01b0a \u0111\xf3ng"})]})}},{title:"H\xe0nh \u0111\u1ed9ng",key:"actions",render:function(e,n){return Object(a.jsx)(Re.b,{children:Object(a.jsx)(u.b,{to:"".concat(t,"/").concat(n.Key),children:Object(a.jsx)(h.a,{icon:Object(a.jsx)(_n.a,{}),children:"Xem"})})})}}];function x(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,yc();case 4:t=e.sent,n=t.data.data,s(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,O(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}function g(){return(g=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([x()]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"text-xl",children:"L\u1ecbch s\u1eed kh\xe1m b\u1ec7nh"}),Object(a.jsx)(Ae.a,{rowKey:"Key",dataSource:i,loading:p,columns:m})]})},wc=function(e){var t=Object(j.g)().goBack,n=Object(j.j)().params,r=Object(c.useState)([]),i=Object(Te.a)(r,2),s=i[0],u=i[1],d=Object(c.useState)(!1),b=Object(Te.a)(d,2),h=b[0],p=b[1],O=Object(c.useState)(""),m=Object(Te.a)(O,2),x=m[0],f=m[1];function g(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,_c(t);case 4:n=e.sent,a=n.data.data,u(a),f(a.completed_at||a.updated_at||a.created_at),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))).apply(this,arguments)}function y(){return(y=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.emrId,e.next=3,Promise.all([g(t)]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{className:"bg-white p-3",children:[Object(a.jsx)(yn.a,{onBack:t,title:"T\xf3m t\u1eaft b\u1ec7nh \xe1n"}),h?Object(a.jsx)(Le.a,{spinning:!0}):s.length>0?Object(a.jsx)(cc.a,{defaultActiveKey:x,onChange:function(e){return f(e)},children:s.map((function(e){return Object(a.jsx)(cc.a.TabPane,{tab:e.completed_at||e.updated_at||e.created_at,children:Object(a.jsx)(lc,{role:"patient",emr:e})},e.completed_at||e.updated_at||e.created_at)}))}):Object(a.jsx)(rc.a,{})]})},Cc=ge.a.Sider,Sc=ge.a.Content,Ic=ja((function(){var e=Object(j.j)(),t=Object(j.h)(),n=e.path;return Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Oa,{}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Cc,{width:200,className:"site-layout-background",children:Object(a.jsxs)(ve.a,{mode:"inline",style:{height:"100%",borderRight:0},selectedKeys:[t.pathname],children:[Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(ye.a,{}),children:Object(a.jsx)(u.b,{to:"/patient/emr",children:"B\u1ec7nh \xe1n"})},"/patient/emr"),Object(a.jsx)(ve.a.Item,{icon:Object(a.jsx)(Se.a,{}),children:Object(a.jsx)(u.b,{to:"/patient/profile",children:"H\u1ed3 s\u01a1"})},"/patient/profile")]})}),Object(a.jsx)(ge.a,{style:{padding:"0 24px 24px"},children:Object(a.jsx)(Sc,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"".concat(n,"/emr"),exact:!0,children:Object(a.jsx)(kc,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/emr/:emrId"),children:Object(a.jsx)(wc,{})}),Object(a.jsx)(j.b,{path:"".concat(n,"/profile"),children:Object(a.jsx)(wa,{})}),Object(a.jsx)(j.a,{to:"/patient/emr"})]})})})]})]})}),["patient"]),Tc=n(463),Nc=function(e){return Object(a.jsx)(Tc.a,{singleColor:"#1890ff"})};en.a.locale("vi");va.a;Le.a.setDefaultIndicator(Object(a.jsx)(Nc,{}));var Ec=function(){ne.a.interceptors.request.use((function(e){try{var t=oe.a.get("EMR_token");t&&Object(fe.a)(t)&&(e.headers.Authorization="Bearer ".concat(t))}catch(n){console.log({error:n})}return e}),(function(e){return Promise.reject(e)})),ne.a.interceptors.response.use((function(e){return e}),function(){var e=Object(o.a)(l.a.mark((function e(t){var n,a,c,r,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,401!==t.response.status||n._retry||n.url==="".concat(W,"/auth/refresh-token/")){e.next=23;break}if(oe.a.remove("EMR_token"),n._retry=!0,!((a=oe.a.get("EMR_refresh"))&&a.length>0)){e.next=21;break}return e.prev=6,e.next=9,re(a);case 9:return c=e.sent,r=c.data.access_token,oe.a.set("EMR_token",r),(i=t.config).headers.Authorization="Bearer ".concat(r),e.abrupt("return",new Promise((function(e,t){return ne.a.request(i).then((function(t){return e(t)})).catch((function(e){return t(e)}))})));case 17:return e.prev=17,e.t0=e.catch(6),oe.a.remove("EMR_refresh"),e.abrupt("return",Promise.reject(e.t0));case 21:e.next=24;break;case 23:n.url.includes("/api/auth/verify-email")||(o=(null===(s=t.response)||void 0===s?void 0:s.data.message)||"Unexpected error occurred",fa.b.error(o));case 24:return e.abrupt("return",Promise.reject(t));case 25:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}());var e=Object(m.c)();function t(){try{var t=oe.a.get("EMR_token");t&&Object(fe.a)(t)&&e(pe())}catch(n){console.log(n)}}function n(){return(n=Object(o.a)(l.a.mark((function e(){var n,a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=oe.a.get("EMR_token"),a=oe.a.get("EMR_refresh"),n||!a){e.next=9;break}return e.next=6,re(a);case 6:c=e.sent,r=c.data,oe.a.set("EMR_token",r.access_token,{expires:3/24});case 9:t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){n.apply(this,arguments)}()})),Object(a.jsx)("div",{className:"app",children:Object(a.jsx)(u.a,{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/login",component:xe}),Object(a.jsx)(j.b,{path:"/verify-email",component:gc}),Object(a.jsx)(j.b,{path:"/admin",component:Ta}),Object(a.jsx)(j.b,{path:"/physician",component:dc}),Object(a.jsx)(j.b,{path:"/receptionist",component:xc}),Object(a.jsx)(j.b,{path:"/patient",component:Ic}),Object(a.jsx)(j.a,{to:"/login"})]})})})},Lc=n(141),Dc={loginLoading:!1};var Fc={statistic:null,fetchLoading:!1};var Rc={diseaseCategories:[],createLoading:!1,fetchLoading:!1,detailsLoading:!1,updateLoading:!1,deleteLoading:!1};var Hc={diseases:null,createLoading:!1,fetchLoading:!1,detailsLoading:!1,updateLoading:!1,deleteLoading:!1};var Bc={drugCategories:null,drugCategoryDetails:null,createLoading:!1,fetchLoading:!1,detailsLoading:!1,updateLoading:!1,deleteLoading:!1};var Mc={user:null,getProfileLoading:!1};var Yc=Object(Lc.c)({dashboardState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!0});case _:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1,statistic:t.payload});case k:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1});default:return Object(oa.a)({},e)}},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(oa.a)(Object(oa.a)({},e),{},{user:null,getProfileLoading:!0});case P:return Object(oa.a)(Object(oa.a)({},e),{},{user:t.payload,getProfileLoading:!1});case A:case v:return Object(oa.a)(Object(oa.a)({},e),{},{user:null,getProfileLoading:!1});default:return Object(oa.a)({},e)}},authState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(oa.a)(Object(oa.a)({},e),{},{loginLoading:!0});case f:case g:return Object(oa.a)(Object(oa.a)({},e),{},{loginLoading:!1});default:return Object(oa.a)({},e)}},drugCategoryState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(oa.a)(Object(oa.a)({},e),{},{createLoading:!0});case C:case S:return Object(oa.a)(Object(oa.a)({},e),{},{createLoading:!1});case I:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!0});case T:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1,drugCategories:t.payload});case N:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1});case E:return Object(oa.a)(Object(oa.a)({},e),{},{detailsLoading:!0});case L:return Object(oa.a)(Object(oa.a)({},e),{},{drugCategoryDetails:t.payload,detailsLoading:!1});case D:return Object(oa.a)(Object(oa.a)({},e),{},{detailsLoading:!1});case F:return Object(oa.a)(Object(oa.a)({},e),{},{updateLoading:!0});case R:case H:return Object(oa.a)(Object(oa.a)({},e),{},{updateLoading:!1});case B:return Object(oa.a)(Object(oa.a)({},e),{},{deleteLoading:!0});case M:case Y:return Object(oa.a)(Object(oa.a)({},e),{},{deleteLoading:!1});default:return Object(oa.a)({},e)}},diseaseCategoryState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!0});case U:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1,diseaseCategories:t.payload});case K:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1});default:return Object(oa.a)({},e)}},diseaseState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!0});case X:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1,diseases:t.payload});case Q:return Object(oa.a)(Object(oa.a)({},e),{},{fetchLoading:!1});default:return Object(oa.a)({},e)}}}),Vc=[n(465).a],Pc="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:Lc.d,Ac=Object(Lc.e)(Yc,Pc(Lc.a.apply(void 0,Vc)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gc=n(21),Uc=n(466),Kc=n.n(Uc);i.a.render(Object(a.jsx)(m.a,{store:Ac,children:Object(a.jsx)(Gc.a,{locale:Kc.a,children:Object(a.jsx)(Ec,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[746,1,2]]]);
//# sourceMappingURL=main.02da30a9.chunk.js.map