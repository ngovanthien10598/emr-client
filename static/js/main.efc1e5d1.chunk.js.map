{"version":3,"sources":["components/Circle/Circle.module.scss","components/Icons/LoginIcon.jsx","store/actionTypes.js","constant/apiUrl.js","services/auth/auth.service.js","services/user/user.service.js","store/actions/user.action.js","store/actions/auth.action.js","forms/LoginForm/LoginForm.jsx","utils/routing.js","pages/login.jsx","pages/admin/dashboard.jsx","store/actions/dashboard.action.js","constant/formRules.js","forms/DrugCategoryForm/DrugCategoryForm.jsx","services/admin/drug-category.service.js","constant/formActions.js","utils/string.js","pages/common/drug/drug-category.jsx","store/actions/drug-category.action.js","forms/DrugUnitForm/DrugUnitForm.jsx","services/admin/drug-unit.service.js","pages/common/drug/drug-unit.jsx","forms/DrugRouteForm/DrugRouteForm.jsx","services/admin/drug-route.service.js","pages/common/drug/drug-route.jsx","services/admin/drug.service.js","services/admin/drug-dosage-form.service.js","forms/DrugForm/DrugForm.jsx","pages/common/drug/drug.jsx","forms/DrugInstructionForm/DrugInstructionForm.jsx","services/admin/drug-instruction.service.js","pages/common/drug/drug-instruction.jsx","forms/DiseaseCategoryForm/DiseaseCategoryForm.jsx","services/admin/disease-category.service.js","pages/common/disease/disease-category.jsx","services/admin/disease.service.js","forms/DiseaseForm/DiseaseForm.jsx","pages/common/disease/disease.jsx","pages/common/notification/notification.jsx","services/user/room.service.js","services/admin/room.service.js","services/user/visit.service.js","services/admin/visit.service.js","services/user/emr.service.js","pages/common/visit/visit.jsx","services/user/patient.service.js","components/NullPlaceholder/NullPlaceholder.jsx","pages/common/patient/patient.jsx","services/admin/medical-service.service.js","forms/ServiceForm/ServiceForm.jsx","pages/common/service/service.jsx","services/admin/working-hours.service.js","pages/admin/working-hour.jsx","forms/RoomForm/RoomForm.jsx","pages/common/room/room.jsx","services/admin/user.service.js","constant/roles.js","forms/UserForm/UserForm.jsx","components/Circle/Circle.jsx","pages/admin/account.jsx","HOCs/withPrivateRoute.jsx","components/Header.jsx","forms/DrugDosageFormForm/DrugDosageFormForm.jsx","pages/common/drug/drug-dosage-form.jsx","utils/image.js","pages/common/profile/profile.jsx","layouts/AdminLayout/AdminLayout.jsx","forms/Visit/VisitImagesForm.jsx","constant/quill.js","services/user/medical-service.service.js","services/user/drug-category.service.js","services/user/drug-instruction.service.js","services/user/drug.service.js","components/DiseaseSelect/DiseaseSelect.jsx","forms/EMRForm/EMRForm.jsx","pages/common/examination/examination.jsx","store/actions/disease-category.action.js","store/actions/disease.action.js","pages/common/patient/patient-details.jsx","components/EmptyPlaceholder/EmptyPlaceholder.jsx","components/EmrDesc/EmrDesc.jsx","pages/common/patient/emr-details.jsx","layouts/PhysicianLayout/PhysicianLayout.jsx","forms/PatientForm/PatientForm.jsx","pages/receptionist/receive.jsx","layouts/ReceptionistLayout/ReceptionistLayout.jsx","components/Icons/EmailIcon.jsx","pages/verify-email.jsx","services/patient/emr.service.js","pages/patient/emr.jsx","pages/patient/patient-emr-details.jsx","layouts/PatientLayout/PatientLayout.jsx","components/Spinner/Spinner.jsx","App.jsx","utils/interceptor.js","store/reducers/auth.reducer.js","store/reducers/dashboard.reducer.js","store/reducers/disease-category.reducer.js","store/reducers/disease.reducer.js","store/reducers/drug-category.reducer.js","store/reducers/user.reducer.js","store/rootReducer.js","store/store.js","serviceWorker.js","index.jsx"],"names":["module","exports","LoginIcon","width","height","xmlns","xmlnsXlink","version","id","x","y","viewBox","fill","xmlSpace","cx","cy","r","d","LOGIN_PENDING","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","FETCH_DASHBOARD_PENDING","FETCH_DASHBOARD_SUCCESS","FETCH_DASHBOARD_FAILURE","CREATE_DRUG_CATEGORY_PENDING","CREATE_DRUG_CATEGORY_SUCCESS","CREATE_DRUG_CATEGORY_FAILURE","FETCH_DRUG_CATEGORIES_PENDING","FETCH_DRUG_CATEGORIES_SUCCESS","FETCH_DRUG_CATEGORIES_FAILURE","FETCH_DRUG_CATEGORY_DETAILS_PENDING","FETCH_DRUG_CATEGORY_DETAILS_SUCCESS","FETCH_DRUG_CATEGORY_DETAILS_FAILURE","UPDATE_DRUG_CATEGORY_PENDING","UPDATE_DRUG_CATEGORY_SUCCESS","UPDATE_DRUG_CATEGORY_FAILURE","DELETE_DRUG_CATEGORY_PENDING","DELETE_DRUG_CATEGORY_SUCCESS","DELETE_DRUG_CATEGORY_FAILURE","GET_PROFILE_PENDING","GET_PROFILE_SUCCESS","GET_PROFILE_FAILURE","FETCH_DISEASE_CATEGORIES_PENDING","FETCH_DISEASE_CATEGORIES_SUCCESS","FETCH_DISEASE_CATEGORIES_FAILURE","FETCH_DISEASES_PENDING","FETCH_DISEASES_SUCCESS","FETCH_DISEASES_FAILURE","API_URL","NODE_URL","LOGIN_URL","ADMIN_DRUG_CATEGORY_URL","USER_DRUG_CATEGORY_URL","endpointPrefix","login","username","password","url","axios","post","includes","refreshToken","refresh_token","verifyEmailAPI","token","get","changePasswordAPI","body","put","getProfile","addBlockChainUserAPI","userId","role","Promise","reject","Error","updateProfile","getProfileSuccess","user","type","actionTypes","payload","getProfileAction","dispatch","a","profileRes","data","console","log","logoutAction","Cookie","remove","LoginForm","history","useHistory","useDispatch","authState","useSelector","state","userState","useEffect","redirectPath","getRedirectPath","replace","className","layout","autoComplete","noValidate","onFinish","values","email","loginRes","loginData","accessToken","access_token","set","expires","Icon","component","Item","name","placeholder","Password","loading","loginLoading","getProfileLoading","block","size","htmlType","LoginPage","props","connect","statistic","dashboardState","fetchLoading","fetchDashboard","response","useState","total","completed","unCompleted","result","setResult","resultByYear","setResultByYear","years","setYears","selectedYear","setSelectedYear","month","chartData","setChartData","Object","keys","emr","map","key","split","year","push","completed_emr","uncompleted_emr","length","getChartData","gutter","flex","spinning","title","value","valueStyle","color","prefix","ProfileOutlined","FileDoneOutlined","FileExcelOutlined","justify","align","style","onChange","Option","margin","top","right","bottom","left","padding","colors","labelTextColor","tooltip","indexBy","legends","dataFrom","anchor","direction","itemHeight","itemWidth","translateX","requiredRule","message","required","DrugCategoryForm","form","defaultCategory","label","initialValue","rules","autoFocus","getDrugCategoryAPI","search","formActions","getQueryString","queryObj","join","categories","drugCategoryState","drugCategories","createLoading","updateLoading","deleteLoading","createDrugCategory","fetchDrugCategories","query","endpoint","updateDrugCategory","deleteDrugCategory","delete","modalVisible","setModalVisible","action","setAction","selectedCategory","setSelectedCategory","Form","useForm","drugCategoryForm","tableColumns","render","text","record","index","dataIndex","icon","EditOutlined","onClick","category","onConfirm","handleDelete","okButtonProps","okText","okType","cancelText","DeleteOutlined","handleFormSubmit","validateFields","indexOf","cut","substr","convertedStr","charAt","toUpperCase","toLowerCase","cat","PlusOutlined","rowKey","columns","dataSource","pagination","visible","onCancel","confirmLoading","destroyOnClose","afterClose","resetFields","onOk","DrugUnitForm","defaultUnit","getDrugUnitsAPI","addDrugUnitAPI","updateDrugUnitAPI","deleteDrugUnitAPI","DrugUnitPage","drugUnits","setDrugUnits","fetchingDrugUnits","setFetchingDrugUnits","modalLoading","setModalLoading","selectedUnit","setSelectedUnit","drugUnitForm","unit","getDrugUnits","DrugRouteForm","defaultRoute","getDrugRouteAPI","addDrugRouteAPI","updateDrugRouteAPI","deleteDrugRouteAPI","DrugRoutePage","routes","setRoutes","fetchingRoutes","setFetchingRoutes","selectedRoute","setSelectedRoute","drugRouteForm","route","getDrugRoutes","getDrugsAPI","params","getDrugDetailsAPI","addDrugAPI","updateDrugAPI","deleteDrugAPI","getDrugDosageFormAPI","addDrugDosageFormAPI","updateDrugDosageFormAPI","deleteDrugDosageFormAPI","DrugForm","defaultDrug","setCategories","units","setUnits","forms","setForms","drugDetail","setDrugDetail","catLoading","setCatLoading","unitLoading","setUnitLoading","routeLoading","setRouteLoading","formLoading","setFormLoading","detailLoading","setDetailLoading","getDrugCategories","catResponse","unitResponse","routeResponse","getDrugDosageForms","formResponse","getDrugDetail","detailResponse","prevCats","findIndex","drug_category","prevUnits","u","drug_unit","prevRoutes","drug_route","prevForms","f","drug_dosage_form","all","getData","setFieldsValue","code","price","drug_category_id","drug_unit_id","drug_dosage_form_id","drug_route_id","strength","hidden","suffix","DrugPage","drugs","setDrugs","fetchingDrugs","setFetchingDrugs","selectedDrug","setSelectedDrug","drugForm","drug","getDrugs","results","DrugInstructionForm","defaultInstruction","instruction","getDrugInstructionsAPI","addDrugInstructionAPI","updateDrugInstructionAPI","deleteDrugInstructionAPI","DrugInstructionPage","drugInstructions","setDrugInstructions","fetchingDrugInstructions","setFetchingDrugInstructions","selectedInstruction","setSelectedInstruction","drugInstructionForm","ins","getDrugInstructions","DiseaseCategoryForm","getDiseaseCategoryAPI","addDiseaseCategoryAPI","updateDiseaseCategoryAPI","deleteDiseaseCategoryAPI","DiseaseCategoryPage","fetchingCategories","setFetchingCategories","diseaseCategoryForm","getDiseaseCategories","getDiseasesAPI","getDiseaseDetailsAPI","addDiseaseAPI","disease_category","updateDiseaseAPI","deleteDiseaseAPI","DiseaseForm","defaultDisease","diseaseDetail","setDiseaseDetail","getDiseaseDetail","DiseasePage","useLocation","pathname","searchURL","URLSearchParams","Number","parseInt","page","setPage","diseases","setDiseases","fetchingDiseases","setFetchingDiseases","selectedDisease","setSelectedDisease","diseaseForm","disease","getDiseases","defaultCurrent","current","pageSize","count","NotificationPage","getRoomAPI","addRoomAPI","number","updateRoomAPI","deleteRoomAPI","getVisitDataAPI","createVisitAPI","patientId","roomId","room_id","patient_id","deleteVisitAPI","visitId","listEMRAPI","addEMRAPI","getEMRHistoryAPI","emrId","updateEMRAPI","completeEMRAPI","rooms","setRooms","roomLoading","setRoomLoading","visitData","setVisitData","visitLoading","setVisitLoading","createEMRLoading","setCreateEMRLoading","selectedRoom","setSelectedRoom","visitList","filter","visit","createdAt","Date","created_at","today","getDate","getMonth","getFullYear","room","_","patient","first_name","last_name","gender","moment","DOB","format","ken","handlePatientClick","getRooms","adminGetRoomAPI","roomResponse","prevSelected","localStorage","getItem","getVisitData","adminGetVisitDataAPI","visitDataResponse","createEmr","prev","visit_id","resolve","cloneArr","splice","checkExistEMR","historyResponse","existEmr","find","completed_at","emrObj","physician","medical_record","administrative","fullname","dayOfBirth","job","ethnicity","expatriate","address","workplace","object","insurance_expirity","insurance_number","family_member_and_address","phone","checkin_at","previous_diagnose","come_from","present_complaint","ask","pathological_process","self_medical_history","family_medical_history","examination","heartbeat","temperature","blood_pressure","breathing","weight","partials","subclinical_summary","initial_diagnose","processed","diagnose","from_date","to_date","summary","pathological_process_and_clinical_course","valuable_subclinical_summary","primary_disease","sub_disease","treatment_method","patient_status","direction_of_treatment","services","attachments","handleChangeRoom","getInitialData","setItem","listAllPatientsAPI","getPatientDetailsAPI","createPatientAPI","NullPlaceholder","path","useRouteMatch","patientData","setPatientData","patientLoading","setPatientLoading","to","EyeOutlined","listAllPatient","patientResults","getServicesAPI","getServiceDetailsAPI","addServiceAPI","updateServiceAPI","deleteServiceAPI","ServiceForm","defaultService","serviceDetail","setServiceDetail","getServiceDetail","ServicePage","setServices","fetchingServices","setFetchingServices","selectedService","setSelectedService","serviceForm","thousandSeparator","displayType","service","getServices","RoomForm","defaultRoom","RoomPage","roomForm","getUsersAPI","qs","stringify","getUserDetailsAPI","addUserAPI","role_id","updateUserAPI","deleteUserAPI","blockUserAPI","unblockUserAPI","ROLES","display","ROLES_LIST","UserForm","defaultUser","userDetail","setUserDetail","getUserDetail","Group","Circle","classes","classnames","styles","circle","AdminAccountPage","urlSearchParams","currentPageOnURL","users","setUsers","fetchingUsers","setFetchingUsers","selectedUser","setSelectedUser","userForm","is_verified_email","handleBlockUnblock","is_active","danger","LockOutlined","UnlockOutlined","getUsers","addReponse","responseData","withPrivateRoute","Child","roles","userRole","isValidRole","notification","error","description","jwtDecode","Header","Layout","CustomHeader","avatar","src","backgroundColor","ghost","LogoutOutlined","Modal","confirm","ExclamationCircleOutlined","content","DrugDosageFormForm","defaultDosageForm","DrugDosageFormPage","dosageForms","setDosageForms","fetchingDosageForms","setFetchingDosageForms","selectedDosageForm","setSelectedDosageForm","drugDosageFormForm","dosageForm","getBase64","file","reader","FileReader","readAsDataURL","onload","onerror","logout","setLoading","setUpdateLoading","changePasswordLoading","setChangePasswordLoading","imageUrl","setImageUrl","changePasswordForm","uploadButton","LoadingOutlined","marginTop","isMoment","success","headers","Authorization","method","listType","showUploadList","info","status","alt","readOnly","family_member_name","TextArea","autoSize","minRows","maxRows","family_member_address","Sider","Content","SubMenu","Menu","match","location","mode","borderRight","selectedKeys","DashboardOutlined","MedicineBoxOutlined","BugOutlined","DollarOutlined","AppstoreOutlined","UserOutlined","minHeight","exact","VisitImagesForm","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","fileList","setFileList","uploadEvent","event","preview","originFileObj","substring","lastIndexOf","onPreview","footer","quillToolbar","DiseaseSelect","diseaseCategories","clearable","selectedCat","setSelectedCat","maxWidth","showSearch","filterOption","input","option","children","v","Select","EMRForm","emrForm","drugLoading","finishLoading","initialValues","defaultActiveKey","Panel","header","rows","dateStr","momentObj","hour","minute","date","getDateString","theme","modules","toolbar","addonBefore","List","fields","add","field","fieldKey","handleChangeDrugCategory","minWidth","MinusCircleOutlined","e","handleUploadChange","handleSaveEmr","SaveOutlined","handleFinishExamination","diseaseCategoryState","fetchDiseaseCategoryLoading","diseaseState","fetchDiseaseLoading","fetchDiseaseCategory","ADMIN_DISEASE_CATEGORY_URL","USER_DISEASE_CATEGORY_URL","fetchDisease","ADMIN_DISEASE_URL","USER_DISEASE_URL","useParams","setDrugCategories","setEmr","setDrugLoading","setFinishLoading","isSavingEmr","setIsSavingEmr","confirmModalShow","setConfirmModalShow","setConfirmLoading","confirmForm","adminGetServicesAPI","servicesResponse","servicesData","adminGetDrugCategoryAPI","drugCategoryResponse","drugCategoriesData","drugCategory","adminGetDrugsAPI","drugResponse","drugData","adminGetDrugInstructionsAPI","drugInsResponse","drugInsData","getEmrDetail","emrList","confirmPassword","res","goBack","emrBody","checkin","fileListElement","uid","cloneEmr","onBack","showIcon","tip","Descriptions","PatientDetails","setPatient","EMRs","setEMRs","EMRLoading","setEMRLoading","__","row","Record","Key","getPatientDetails","patientResponse","getPatientEMRs","EMRResponse","colon","EmptyPlaceholder","EmrDesc","selectedImage","setSelectedImage","showModal","setShowModal","handleCloseModal","bordered","column","span","dangerouslySetInnerHTML","__html","drugInstruction","s","i","EmrDetailsPage","emrHistory","setEmrHistory","emrLoading","setEmrLoading","selectedTab","setSelectedTab","getEmrHistory","updated_at","val","h","TabPane","tab","ContainerOutlined","IdcardOutlined","PatientForm","ReceivePage","isCreatingPatient","setCreatingPatient","isCreatingVisit","setCreatingVisit","patientForm","renderMenu","handleCreateVisit","overlay","overlayStyle","trigger","listAllPatients","handleSubmit","createResponse","extra","Search","EmailIcon","enableBackground","VerifyPage","setSuccess","setError","isValidToken","isValid","test","verifyEmail","listAllEmrs","PatientEmrPage","emrs","setEmrs","getEmrs","PatientEmrDetailsPage","Spinner","singleColor","locale","Spin","setDefaultIndicator","App","interceptors","request","use","config","originalRequest","_retry","AuthService","refreshResponse","newToken","then","catch","errorMessage","fetchProfile","refresh","newTokenReponse","checkRefresh","AdminLayout","PhysicianLayout","ReceptionistLayout","PatientLayout","initialState","detailsLoading","drugCategoryDetails","rootReducer","combineReducers","middlewares","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","Boolean","hostname","ReactDOM","viVN","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.efc1e5d1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"Circle_circle__3fC-i\",\"circle--success\":\"Circle_circle--success__1IfvS\"};","import React from 'react';\n\nconst LoginIcon = () => (\n  <svg width=\"50\" height=\"50\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512.002 512.002\" fill=\"currentColor\" xmlSpace=\"preserve\">\n    <g>\n      <g>\n        <g>\n          <circle cx=\"338\" cy=\"346.001\" r=\"20\" />\n          <path d=\"M238,472.001H80c-22.056,0-40-17.944-40-40v-164c0-22.056,17.944-40,40-40h288c22.056,0,40,17.944,40,40v40     c0,11.046,8.954,20,20,20c11.046,0,20-8.954,20-20v-40c0-44.112-35.888-80-80-80h-24.037v-70.534     c0-64.771-53.832-117.466-120-117.466s-120,52.695-120,117.466v70.534H80c-44.112,0-80,35.888-80,80v164     c0,44.112,35.888,80,80,80h158c11.046,0,20-8.954,20-20S249.046,472.001,238,472.001z M143.963,117.467     c0-42.715,35.888-77.466,80-77.466s80,34.751,80,77.466v70.534h-160V117.467z\" />\n          <path d=\"M503.643,325.739c-8.982-6.431-21.477-4.362-27.904,4.62l-98.581,137.7c-2.692,3.122-6.066,3.796-7.874,3.916     c-1.854,0.123-5.424-0.112-8.567-3.061l-63.708-62.171c-7.906-7.716-20.568-7.559-28.282,0.345     c-7.715,7.905-7.561,20.567,0.345,28.282l63.82,62.281c0.06,0.058,0.119,0.116,0.18,0.173C342.639,506.933,355.41,512,368.55,512     c1.129,0,2.261-0.037,3.393-0.113c14.314-0.954,27.679-7.915,36.666-19.097c0.232-0.29,0.456-0.585,0.673-0.887l98.981-138.26     C514.692,344.662,512.624,332.168,503.643,325.739z\" />\n          <circle cx=\"262\" cy=\"346.001\" r=\"20\" />\n          <circle cx=\"112\" cy=\"346.001\" r=\"20\" />\n          <circle cx=\"187\" cy=\"346.001\" r=\"20\" />\n        </g>\n      </g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n    <g>\n    </g>\n  </svg>\n)\n\nexport default LoginIcon;","/* -------------------- AUTHENTICATION -------------------- */\nexport const LOGIN_PENDING = \"LOGIN_PENDING\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nexport const LOGOUT = \"LOGOUT\";\n\n/* -------------------- ADMIN -------------------- */\n// Dashboard\nexport const FETCH_DASHBOARD_PENDING = \"FETCH_DASHBOARD_PENDING\";\nexport const FETCH_DASHBOARD_SUCCESS = \"FETCH_DASHBOARD_SUCCESS\";\nexport const FETCH_DASHBOARD_FAILURE = \"FETCH_DASHBOARD_FAILURE\";\n\n// Drug cateogry\nexport const CREATE_DRUG_CATEGORY_PENDING = \"CREATE_DRUG_CATEGORY_PENDING\";\nexport const CREATE_DRUG_CATEGORY_SUCCESS = \"CREATE_DRUG_CATEGORY_SUCCESS\";\nexport const CREATE_DRUG_CATEGORY_FAILURE = \"CREATE_DRUG_CATEGORY_FAILURE\";\n\nexport const FETCH_DRUG_CATEGORIES_PENDING = \"FETCH_DRUG_CATEGORIES_PENDING\";\nexport const FETCH_DRUG_CATEGORIES_SUCCESS = \"FETCH_DRUG_CATEGORIES_SUCCESS\";\nexport const FETCH_DRUG_CATEGORIES_FAILURE = \"FETCH_DRUG_CATEGORIES_FAILURE\";\n\nexport const FETCH_DRUG_CATEGORY_DETAILS_PENDING = \"FETCH_DRUG_CATEGORY_DETAILS_PENDING\";\nexport const FETCH_DRUG_CATEGORY_DETAILS_SUCCESS = \"FETCH_DRUG_CATEGORY_DETAILS_SUCCESS\";\nexport const FETCH_DRUG_CATEGORY_DETAILS_FAILURE = \"FETCH_DRUG_CATEGORY_DETAILS_FAILURE\";\n\nexport const UPDATE_DRUG_CATEGORY_PENDING = \"UPDATE_DRUG_CATEGORY_PENDING\";\nexport const UPDATE_DRUG_CATEGORY_SUCCESS = \"UPDATE_DRUG_CATEGORY_SUCCESS\";\nexport const UPDATE_DRUG_CATEGORY_FAILURE = \"UPDATE_DRUG_CATEGORY_FAILURE\";\n\nexport const DELETE_DRUG_CATEGORY_PENDING = \"DELETE_DRUG_CATEGORY_PENDING\";\nexport const DELETE_DRUG_CATEGORY_SUCCESS = \"DELETE_DRUG_CATEGORY_SUCCESS\";\nexport const DELETE_DRUG_CATEGORY_FAILURE = \"DELETE_DRUG_CATEGORY_FAILURE\";\n\n// Drug unit\nexport const FETCH_DRUG_UNIT_PENDING = \"FETCH_DRUG_UNIT_PENDING\";\nexport const FETCH_DRUG_UNIT_SUCCESS = \"FETCH_DRUG_UNIT_SUCCESS\";\nexport const FETCH_DRUG_UNIT_FAILURE = \"FETCH_DRUG_UNIT_FAILURE\";\n\n// Drug route\nexport const FETCH_DRUG_ROUTE_PENDING = \"FETCH_DRUG_ROUTE_PENDING\";\nexport const FETCH_DRUG_ROUTE_SUCCESS = \"FETCH_DRUG_ROUTE_SUCCESS\";\nexport const FETCH_DRUG_ROUTE_FAILURE = \"FETCH_DRUG_ROUTE_FAILURE\";\n\n// Drug dosage form\nexport const FETCH_DRUG_DOSAGE_FORM_PENDING = \"FETCH_DRUG_DOSAGE_FORM_PENDING\";\nexport const FETCH_DRUG_DOSAGE_FORM_SUCCESS = \"FETCH_DRUG_DOSAGE_FORM_SUCCESS\";\nexport const FETCH_DRUG_DOSAGE_FORM_FAILURE = \"FETCH_DRUG_DOSAGE_FORM_FAILURE\";\n\n// Drug\nexport const FETCH_DRUG_PENDING = \"FETCH_DRUG_PENDING\";\nexport const FETCH_DRUG_SUCCESS = \"FETCH_DRUG_SUCCESS\"\nexport const FETCH_DRUG_FAILURE = \"FETCH_DRUG_FAILURE\";\n\n// Drug instruction\nexport const FETCH_DRUG_INSTRUCTION_PENDING = \"FETCH_DRUG_INSTRUCTION_PENDING\";\nexport const FETCH_DRUG_INSTRUCTION_SUCCESS = \"FETCH_DRUG_INSTRUCTION_SUCCESS\";\nexport const FETCH_DRUG_INSTRUCTION_FAILURE = \"FETCH_DRUG_INSTRUCTION_FAILURE\";\n\n/* -------------------- USER -------------------- */\n// Profile\nexport const GET_PROFILE_PENDING = \"GET_PROFILE_PENDING\";\nexport const GET_PROFILE_SUCCESS = \"GET_PROFILE_SUCCESS\";\nexport const GET_PROFILE_FAILURE = \"GET_PROFILE_FAILURE\";\n\n// Disease category\nexport const FETCH_DISEASE_CATEGORIES_PENDING = \"FETCH_DISEASE_CATEGORIES_PENDING\";\nexport const FETCH_DISEASE_CATEGORIES_SUCCESS = \"FETCH_DISEASE_CATEGORIES_SUCCESS\";\nexport const FETCH_DISEASE_CATEGORIES_FAILURE = \"FETCH_DISEASE_CATEGORIES_FAILURE\";\n\n// Disease\nexport const FETCH_DISEASES_PENDING = \"FETCH_DISEASES_PENDING\";\nexport const FETCH_DISEASES_SUCCESS = \"FETCH_DISEASES_SUCCESS\";\nexport const FETCH_DISEASES_FAILURE = \"FETCH_DISEASES_FAILURE\";\n\n/* -------------------- PATIENT -------------------- */","export const API_URL = 'https://emr-2020.wl.r.appspot.com/api';\nexport const NODE_URL = 'https://api.emr-client.tech/api';\n\n/* -------------------- AUTHENTICATION -------------------- */\nexport const LOGIN_URL = API_URL + '/auth/login/';\nexport const REFRESH_TOKEN_URL = API_URL + '/auth/refresh-token/';\nexport const CHANGE_PASSWORD_URL = API_URL + '/auth/change-password/';\n\n/* -------------------- ADMIN -------------------- */\nexport const ADMIN_DASHBOARD_URL = NODE_URL + '/admin/statistic';\n\n// Drug\nexport const ADMIN_DRUG_CATEGORY_URL = API_URL + '/admin/manage-drug-category';\nexport const ADMIN_DRUG_UNIT_URL = API_URL + '/admin/manage-drug-unit';\nexport const ADMIN_DRUG_ROUTE_URL = API_URL + '/admin/manage-drug-route';\nexport const ADMIN_DRUG_DOSAGE_FORM_URL = API_URL + '/admin/manage-drug-dosage-form';\nexport const ADMIN_DRUG_URL = API_URL + '/admin/manage-drug';\nexport const ADMIN_DRUG_INSTRUCTION_URL = API_URL + '/admin/manage-drug-instruction';\n\n// Disease\nexport const ADMIN_DISEASE_CATEGORY_URL = API_URL + '/admin/manage-disease-category';\nexport const ADMIN_DISEASE_URL = API_URL + '/admin/manage-disease';\n\n\n/* -------------------- USER -------------------- */\n// Drug\nexport const USER_DRUG_CATEGORY_URL = API_URL + '/user/drug-category';\nexport const USER_DRUG_UNIT_URL = API_URL + '/user/drug-unit';\nexport const USER_DRUG_ROUTE_URL = API_URL + '/user/drug-route';\nexport const USER_DRUG_DOSAGE_FORM_URL = API_URL + '/user/drug-dosage-form';\nexport const USER_DRUG_URL = API_URL + '/user/drug';\nexport const USER_DRUG_INSTRUCTION_URL = API_URL + '/user/drug-instruction';\n\n// Disease\nexport const USER_DISEASE_CATEGORY_URL = API_URL + '/user/disease-category';\nexport const USER_DISEASE_URL = API_URL + '/user/disease';\n\n/* -------------------- PATIENT -------------------- */","import { API_URL } from \"constant/apiUrl\";\nimport axios from 'axios';\n\n\nconst endpointPrefix = `${API_URL}/auth`;\n\n/**\n * Login to system\n * @param email\n * @param password\n */\nexport function login(username, password) {\n  const url = `${endpointPrefix}/login/`;\n  return axios.post(url, {\n    [username.includes('+84') ? 'phone' : 'email']: username,\n    password: password\n  });\n}\n\n/**\n * This function is used to get new access token from refresh token\n * when current access token is expired\n * @param refreshToken Refresh token from last login\n */\nexport function refreshToken(refreshToken) {\n  const url = `${endpointPrefix}/refresh-token/`;\n  return axios.post(url, {\n    refresh_token: refreshToken\n  });\n}\n\n\nexport function verifyEmailAPI(token) {\n  const url = `${endpointPrefix}/verify-email/${token}/`;\n  return axios.get(url);\n}\n\nexport function changePasswordAPI(body) {\n  const url = `${endpointPrefix}/change-password/`;\n  return axios.put(url, body);\n}","import { API_URL, NODE_URL } from \"constant/apiUrl\";\nimport axios from 'axios';\n\nconst endpointPrefix = `${API_URL}/user`;\n\n/**\n* Get user profile\n* @param token Access token\n*/\nexport function getProfile() {\n  const url = `${endpointPrefix}/profile/`;\n  return axios.get(url);\n}\n\nexport function addBlockChainUserAPI(userId, role = \"user\") {\n  if (role !== \"user\" && role !== \"patient\") return Promise.reject(new Error('Unknown role'));\n  const url = `${NODE_URL}/register-${role}`;\n  return axios.post(url, { [`${role}_id`]: userId });\n}\n\nexport function updateProfile(body) {\n  const url = `${endpointPrefix}/profile/`;\n  return axios.put(url, body);\n}","import * as actionTypes from '../actionTypes';\nimport { getProfile } from 'services/user/user.service';\n\nfunction getProfilePending() {\n  return {\n    type: actionTypes.GET_PROFILE_PENDING\n  }\n}\n\nfunction getProfileSuccess(user) {\n  return {\n    type: actionTypes.GET_PROFILE_SUCCESS,\n    payload: user\n  }\n}\n\nfunction getProfileFailure() {\n  return {\n    type: actionTypes.GET_PROFILE_FAILURE\n  }\n}\n\nexport function getProfileAction() {\n  return async dispatch => {\n    try {\n      dispatch(getProfilePending());\n      const profileRes = await getProfile();\n      const user = profileRes.data;\n      dispatch(getProfileSuccess(user));\n    } catch(error) {\n      console.log(error);\n      dispatch(getProfileFailure());\n    }\n  }\n}\n\nexport function removeUserAction() {\n  return {\n    type: actionTypes.LOGOUT\n  }\n}","import * as actionTypes from '../actionTypes';\nimport { login } from 'services/auth/auth.service';\nimport Cookie from 'js-cookie';\nimport { getProfileAction, removeUserAction } from './user.action';\n\nfunction loginPending() {\n  return {\n    type: actionTypes.LOGIN_PENDING\n  }\n}\n\nfunction loginSuccess() {\n  return {\n    type: actionTypes.LOGIN_SUCCESS,\n  }\n}\n\nfunction loginFailure() {\n  return {\n    type: actionTypes.LOGIN_FAILURE\n  }\n}\n\nexport function loginAction(email, password) {\n  return async dispatch => {\n    try {\n      dispatch(loginPending());\n      const loginRes = await login(email, password);\n      const loginData = loginRes.data;\n\n      const accessToken = loginData.access_token;\n      const refreshToken = loginData.refresh_token;\n      Cookie.set('EMR_token', accessToken, { expires: 3 / 24 }); // 3 hours\n      Cookie.set('EMR_refresh', refreshToken, { expires: 7 }); // 7 days\n      dispatch(loginSuccess());\n      dispatch(getProfileAction());\n    } catch (error) {\n      dispatch(loginFailure());\n    }\n  }\n}\n\nexport function logoutAction() {\n  Cookie.remove('EMR_token');\n  Cookie.remove('EMR_refresh');\n\n  return dispatch => {\n    dispatch(removeUserAction());\n  }\n}","import React, { useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Form, Input, Button } from 'antd';\nimport Icon from '@ant-design/icons';\nimport LoginIcon from 'components/Icons/LoginIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginAction } from 'store/actions/auth.action';\nimport { getRedirectPath } from 'utils/routing';\n\nconst LoginForm = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const authState = useSelector(state => state.authState);\n  const userState = useSelector(state => state.userState);\n  const user = userState.user;\n\n  function handleSubmit(values) {\n    dispatch(loginAction(values.email, values.password));\n  }\n\n  useEffect(() => {\n    if (user && user.role) {\n      const redirectPath = getRedirectPath(user.role);\n      console.log(redirectPath);\n      history.replace(redirectPath);\n    }\n  }, [user, history]);\n\n  return (\n    <Form\n      className=\"auth\"\n      layout=\"vertical\"\n      autoComplete=\"off\"\n      noValidate\n      onFinish={handleSubmit}>\n\n      <div className=\"auth__header text-center\">\n        <Icon component={LoginIcon} />\n        <h1 className=\"text-3xl\">Đăng nhập</h1>\n      </div>\n\n      <Form.Item name=\"email\">\n        <Input type=\"email\" placeholder=\"Email/Điện thoại\" />\n      </Form.Item>\n\n      <Form.Item name=\"password\" className=\"m-0\">\n        <Input.Password placeholder=\"Mật khẩu\" />\n        {/* <Button type=\"link\"> */}\n        {/* </Button> */}\n      </Form.Item>\n      {/* <Link className=\"block mt-2 mb-6\" to=\"/forgot-password\">Quên mật khẩu</Link> */}\n      <div className=\"mt-2 mb-6\"></div>\n\n      <Form.Item>\n        <Button loading={authState.loginLoading || userState.getProfileLoading} block type=\"primary\" size=\"large\" htmlType=\"submit\">Đăng nhập</Button>\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default LoginForm;","export function getRedirectPath(role) {\n  if (!role) return \"/login\";\n\n  switch (role.id) {\n    case 1:\n      return \"/admin\";\n    case 2:\n      return \"/physician\";\n    case 3:\n      return \"/receptionist\";\n    case 4:\n      return \"/patient\";\n    default:\n      return \"\";\n  }\n}","import React from 'react';\nimport LoginForm from 'forms/LoginForm/LoginForm';\n\nconst LoginPage = (props) => {\n  return (\n    <main className=\"login-page\">\n      <LoginForm />\n    </main>\n  )\n}\n\nexport default LoginPage;","import React, { useEffect, useState } from 'react';\nimport { Row, Col, Statistic, Spin, Card, Select, Space } from 'antd';\nimport { fetchDashboard } from 'store/actions/dashboard.action';\nimport { connect } from 'react-redux';\nimport { ProfileOutlined, FileDoneOutlined, FileExcelOutlined } from '@ant-design/icons';\nimport { ResponsiveBar } from '@nivo/bar';\n\nconst AdminDashboard = props => {\n\n  const [result, setResult] = useState({ total: 0, completed: 0, unCompleted: 0 });\n  const [resultByYear, setResultByYear] = useState({ total: 0, completed: 0, unCompleted: 0 });\n  const [years, setYears] = useState([]);\n  const [selectedYear, setSelectedYear] = useState('Tất cả');\n  const [chartData, setChartData] = useState(\n    [\n      { month: 1, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 2, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 3, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 4, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 5, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 6, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 7, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 8, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 9, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 10, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 11, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 12, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n    ]\n  );\n\n  const {\n    fetchDashboard,\n    statistic,\n    fetchLoading\n  } = props;\n\n  useEffect(() => {\n    fetchDashboard();\n  }, []);\n\n  useEffect(() => {\n    if (statistic) {\n      let total = 0;\n      let completed = 0;\n      let unCompleted = 0;\n      let years = [];\n\n\n      // Calc total EMRs\n      Object.keys(statistic.emr).map(key => {\n        total += statistic.emr[key];\n\n        // Get year\n        // const date = moment(key, \"M/YYYY\");\n        const [month, year] = key.split('/');\n\n        if (!years[year]) {\n          years.push(year);\n        }\n      })\n\n      // Calc completed EMRs\n      Object.keys(statistic.completed_emr).map(key => {\n        completed += statistic.completed_emr[key];\n      })\n\n      // Calc uncompleted EMRs\n      Object.keys(statistic.uncompleted_emr).map(key => {\n        unCompleted += statistic.uncompleted_emr[key];\n      })\n\n      setSelectedYear(years[years.length - 1]);\n      setResult({ total: total, completed: completed, unCompleted: unCompleted });\n      setYears(years);\n    }\n\n  }, [statistic]);\n\n  function getChartData() {\n    const chartData = [\n      { month: 1, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 2, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 3, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 4, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 5, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 6, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 7, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 8, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 9, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 10, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 11, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n      { month: 12, \"Đã đóng\": 0, \"Chưa đóng\": 0 },\n    ]\n    let total = 0;\n    let completed = 0;\n    let unCompleted = 0;\n\n    // Calc EMRs\n\n    // Calc completed EMRs\n    Object.keys(statistic.completed_emr).map(key => {\n\n      const [month, year] = key.split('/');\n\n      if (year == selectedYear) {\n        chartData[month - 1][\"Đã đóng\"] = statistic.completed_emr[key];\n        completed += statistic.completed_emr[key];\n      }\n    })\n\n    // Calc uncompleted EMRs\n    Object.keys(statistic.uncompleted_emr).map(key => {\n\n      const [month, year] = key.split('/');\n\n      if (year == selectedYear) {\n        chartData[month - 1][\"Chưa đóng\"] = statistic.uncompleted_emr[key];\n        unCompleted += statistic.uncompleted_emr[key];\n      }\n    })\n\n    setChartData(chartData);\n    setResultByYear({ total: completed + unCompleted, completed: completed, unCompleted: unCompleted });\n  }\n\n  function handleYearChange(year) {\n    setSelectedYear(year);\n  }\n\n  useEffect(() => {\n    if (selectedYear && statistic) {\n      getChartData();\n    }\n  }, [selectedYear])\n\n  useEffect(() => {\n    console.log(chartData);\n  }, [chartData]);\n\n  return (\n    <>\n      <h1 className=\"text-xl mb-5\">Thống kê</h1>\n      <Row gutter={60} className=\"mb-5\">\n        <Col flex={1}>\n          <Spin spinning={fetchLoading}>\n            <Card>\n              <Statistic\n                title=\"Tổng số bệnh án\"\n                value={result.total}\n                valueStyle={{ color: '#1890ff' }}\n                prefix={<ProfileOutlined />} />\n            </Card>\n          </Spin>\n        </Col>\n        <Col flex={1}>\n          <Spin spinning={fetchLoading}>\n            <Card>\n              <Statistic\n                title=\"Bệnh án đã đóng\"\n                value={result.completed}\n                valueStyle={{ color: '#3f8600' }}\n                prefix={<FileDoneOutlined />} />\n            </Card>\n          </Spin>\n        </Col>\n        <Col flex={1}>\n          <Spin spinning={fetchLoading}>\n            <Card>\n              <Statistic\n                title=\"Bệnh án chưa đóng\"\n                value={result.unCompleted}\n                valueStyle={{ color: '#cf1322' }}\n                prefix={<FileExcelOutlined />} />\n            </Card>\n          </Spin>\n        </Col>\n      </Row>\n\n      <Row justify=\"space-between\" align='middle' gutter={30}>\n        <Col>\n          <h2>Bệnh án</h2>\n        </Col>\n        <Col className=\"ml-auto\">\n          <Space size=\"large\">\n            <span><strong>Tổng:</strong> {resultByYear.total}</span>\n            <span><strong>Đóng:</strong> {resultByYear.completed}</span>\n            <span><strong>Chưa đóng:</strong> {resultByYear.unCompleted}</span>\n          </Space>\n        </Col>\n        <Col>\n          <Select style={{ width: 100 }} value={selectedYear} onChange={handleYearChange}>\n            {\n              years.map(y => (\n                <Select.Option key={y} value={y}>{y}</Select.Option>\n              ))\n            }\n          </Select>\n        </Col>\n      </Row>\n      <div style={{ height: 400, width: '100%' }}>\n        <ResponsiveBar\n          data={chartData}\n          margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\n          padding={0.3}\n          keys={['Đã đóng', 'Chưa đóng']}\n          colors={['#3f8600', '#cf1322']}\n          labelTextColor={'#fff'}\n          tooltip={(d) => (\n            <span>{d.id}: {d.value}</span>\n          )}\n          indexBy={'month'}\n          legends={[\n            {\n              dataFrom: 'keys',\n              anchor: 'bottom-right',\n              direction: 'column',\n              justify: false,\n              itemHeight: 24,\n              itemWidth: 40,\n              translateX: 70\n            }\n          ]} />\n      </div>\n\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  statistic: state.dashboardState.statistic,\n  fetchLoading: state.dashboardState.fetchLoading\n})\n\nconst mapDispatchToProps = dispatch => ({\n  fetchDashboard: () => dispatch(fetchDashboard())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminDashboard);","import { ADMIN_DASHBOARD_URL } from 'constant/apiUrl';\nimport * as actionTypes from '../actionTypes';\nimport axios from 'axios';\n\nfunction fetchDashboardPending() {\n  return {\n    type: actionTypes.FETCH_DASHBOARD_PENDING\n  }\n}\n\nfunction fetchDashboardSuccess(data) {\n  return {\n    type: actionTypes.FETCH_DASHBOARD_SUCCESS,\n    payload: data\n  }\n}\n\nfunction fetchDashboardFailure() {\n  return {\n    type: actionTypes.FETCH_DASHBOARD_FAILURE\n  }\n}\n\nexport function fetchDashboard() {\n  \n  const endpoint = ADMIN_DASHBOARD_URL;\n\n  return async dispatch => {\n    try {\n      dispatch(fetchDashboardPending());\n      const response = await axios.get(endpoint);\n      return dispatch(fetchDashboardSuccess(response.data));\n    } catch (error) {\n      return dispatch(fetchDashboardFailure());\n    }\n  }\n}","export const requiredRule = (message = \"Vui lòng điền vào trường này\") => {\n  return {\n    required: true,\n    message: message\n  }\n}","import React from 'react';\nimport { Form, Input } from 'antd';\nimport { requiredRule } from 'constant/formRules';\n\nconst DrugCategoryForm = props => {\n  const { form, onFinish, defaultCategory } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={onFinish}>\n      <Form.Item label=\"Nhóm thuốc\" name=\"name\" initialValue={defaultCategory?.name} rules={[requiredRule(\"Trường này là bắt buộc\")]}>\n        <Input autoFocus />\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default DrugCategoryForm;","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-drug-category`;\n\nexport function getDrugCategoryAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function addDrugCategoryAPI(name) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { name: name });\n}\n\nexport function updateDrugCategoryAPI(id, name) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    name: name\n  })\n}\n\nexport function deleteDrugCategoryAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","export const formActions = {\n  CREATE: 'CREATE',\n  UPDATE: 'UPDATE'\n}","export function getQueryString(queryObj) {\n  if (!queryObj) return \"\";\n  return Object.keys(queryObj).map(key => `${key}=${queryObj[key]}`).join('&');\n}","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DrugCategoryForm from 'forms/DrugCategoryForm/DrugCategoryForm';\nimport { addDrugCategoryAPI, deleteDrugCategoryAPI, getDrugCategoryAPI, updateDrugCategoryAPI } from 'services/admin/drug-category.service';\nimport { formActions } from 'constant/formActions';\nimport { connect } from 'react-redux';\n\n// Redux\nimport { createDrugCategory, fetchDrugCategories, updateDrugCategory, deleteDrugCategory } from 'store/actions/drug-category.action';\n\nconst DrugCategoryPage = props => {\n\n  const {\n    categories,\n    createDrugCategory,\n    fetchDrugCategories,\n    updateDrugCategory,\n    deleteDrugCategory,\n    createLoading,\n    fetchLoading,\n    updateLoading,\n    deleteLoading\n  } = props;\n  const [modalVisible, setModalVisible] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [drugCategoryForm] = Form.useForm();\n\n  useEffect(() => {\n    console.log(deleteLoading);\n  }, [deleteLoading]);\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Tên',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={async () => await handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okButtonProps={{loading: deleteLoading}}\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function handleFormSubmit() {\n    try {\n      const values = await drugCategoryForm.validateFields();\n      const name = values.name;\n      const index = name.indexOf(\". \");\n      let cut = name.substr(index > -1 ? index + 2 : 0);\n      const indexOfNhom = cut.indexOf(\"Nhóm\");\n      if (indexOfNhom === -1) {\n        cut = \"Nhóm \" + cut;\n      }\n      const convertedStr = cut.charAt(0).toUpperCase() + cut.substr(1).toLowerCase();\n      if (action === formActions.CREATE) {\n        // await addDrugCategoryAPI(convertedStr);\n        await createDrugCategory({ name: convertedStr });\n      }\n\n      if (action === formActions.UPDATE) {\n        // await updateDrugCategoryAPI(selectedCategory.id, convertedStr);\n        await updateDrugCategory(selectedCategory.id, { name: convertedStr });\n      }\n\n      // getDrugCategories();\n      \n\n      setModalVisible(false);\n      await fetchDrugCategories(\"admin\");\n      \n    } catch (error) {\n      console.log(error);\n      setModalVisible(false);\n    }\n  }\n\n  function handleEditClick(category) {\n    setAction(formActions.UPDATE);\n    setSelectedCategory(category);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(cat) {\n    try {\n      // await deleteDrugCategoryAPI(unit.id);\n      await deleteDrugCategory(cat.id)\n      await fetchDrugCategories(\"admin\");\n      // getDrugCategories();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    drugCategoryForm.resetFields();\n    setSelectedCategory(null);\n  }\n\n  useEffect(() => {\n    fetchDrugCategories(\"admin\");\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý nhóm thuốc</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={categories}\n        pagination={false}\n        loading={fetchLoading} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm nhóm thuốc' : 'Cập nhật nhóm thuốc'}\n        onCancel={handleCloseModal}\n        confirmLoading={(action === formActions.UPDATE && updateLoading) || (action === formActions.CREATE && createLoading)}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DrugCategoryForm onFinish={handleFormSubmit} form={drugCategoryForm} defaultCategory={selectedCategory} />\n      </Modal>\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  categories: state.drugCategoryState.drugCategories,\n  createLoading: state.drugCategoryState.createLoading,\n  fetchLoading: state.drugCategoryState.fetchLoading,\n  updateLoading: state.drugCategoryState.updateLoading,\n  deleteLoading: state.drugCategoryState.deleteLoading\n})\n\nconst mapDispatchToProps = dispatch => ({\n  createDrugCategory: (body) => dispatch(createDrugCategory(body)),\n  fetchDrugCategories: (role, query) => dispatch(fetchDrugCategories(role, query)),\n  updateDrugCategory: (id, body) => dispatch(updateDrugCategory(id, body)),\n  deleteDrugCategory: (id) => dispatch(deleteDrugCategory(id))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DrugCategoryPage);","import * as actionTypes from '../actionTypes';\nimport axios from 'axios';\nimport { ADMIN_DRUG_CATEGORY_URL, USER_DRUG_CATEGORY_URL } from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\n// Create drug category\nfunction createDrugCategoryPending() {\n  return {\n    type: actionTypes.CREATE_DRUG_CATEGORY_PENDING\n  }\n}\n\nfunction createDrugCategorySuccess() {\n  return {\n    type: actionTypes.CREATE_DRUG_CATEGORY_SUCCESS,\n  }\n}\n\nfunction createDrugCategoryFailure() {\n  return {\n    type: actionTypes.CREATE_DRUG_CATEGORY_FAILURE\n  }\n}\n\n// Fetch drug categories\nfunction fetchDrugCategoriesPending() {\n  return {\n    type: actionTypes.FETCH_DRUG_CATEGORIES_PENDING\n  }\n}\n\nfunction fetchDrugCategoriesSuccess(data) {\n  return {\n    type: actionTypes.FETCH_DRUG_CATEGORIES_SUCCESS,\n    payload: data\n  }\n}\n\nfunction fetchDrugCategoriesFailure() {\n  return {\n    type: actionTypes.FETCH_DRUG_CATEGORIES_FAILURE\n  }\n}\n\n// Fetch drug category details\nfunction fetchDrugCategoryDetailsPending() {\n  return {\n    type: actionTypes.FETCH_DRUG_CATEGORY_DETAILS_PENDING\n  }\n}\n\nfunction fetchDrugCategoryDetailsSuccess(data) {\n  return {\n    type: actionTypes.FETCH_DRUG_CATEGORY_DETAILS_SUCCESS,\n    payload: data\n  }\n}\n\nfunction fetchDrugCategoryDetailsFailure() {\n  return {\n    type: actionTypes.FETCH_DRUG_CATEGORY_DETAILS_FAILURE\n  }\n}\n\n// Update drug category\nfunction updateDrugCategoryPending() {\n  return {\n    type: actionTypes.UPDATE_DRUG_CATEGORY_PENDING\n  }\n}\n\nfunction updateDrugCategorySuccess() {\n  return {\n    type: actionTypes.UPDATE_DRUG_CATEGORY_SUCCESS\n  }\n}\n\nfunction updateDrugCategoryFailure() {\n  return {\n    type: actionTypes.UPDATE_DRUG_CATEGORY_FAILURE\n  }\n}\n\n// Delete drug category\nfunction deleteDrugCategoryPending() {\n  return {\n    type: actionTypes.DELETE_DRUG_CATEGORY_PENDING\n  }\n}\n\nfunction deleteDrugCategorySuccess() {\n  return {\n    type: actionTypes.DELETE_DRUG_CATEGORY_SUCCESS\n  }\n}\n\nfunction deleteDrugCategoryFailure() {\n  return {\n    type: actionTypes.DELETE_DRUG_CATEGORY_FAILURE\n  }\n}\n\n\n/**\n * -----------------------------------------------------\n * Exported functions\n * -----------------------------------------------------\n */\nexport function createDrugCategory(body) {\n  let endpoint = ADMIN_DRUG_CATEGORY_URL + '/';\n\n  return async dispatch => {\n    try {\n      dispatch(createDrugCategoryPending());\n      await axios.post(endpoint, body);\n      dispatch(createDrugCategorySuccess());\n    } catch(error) {\n      dispatch(createDrugCategoryFailure());\n    }\n  }\n}\n\n\nexport function fetchDrugCategories(role, query) {\n  let endpoint;\n  if (role === \"admin\") {\n    endpoint = ADMIN_DRUG_CATEGORY_URL + '/';\n  } else {\n    endpoint = USER_DRUG_CATEGORY_URL + '/';\n  }\n\n  if (query) {\n    endpoint += getQueryString(query);\n  }\n\n  return async dispatch => {\n    try {\n      dispatch(fetchDrugCategoriesPending());\n      const response = await axios.get(endpoint);\n      dispatch(fetchDrugCategoriesSuccess(response.data));\n    } catch(error) {\n      dispatch(fetchDrugCategoriesFailure());\n    }\n  }\n}\n\nexport function fetchDrugCategoryDetails(role, id, query) {\n  let endpoint;\n  if (role === \"admin\") {\n    endpoint = ADMIN_DRUG_CATEGORY_URL + `/${id}/`;\n  } else {\n    endpoint = USER_DRUG_CATEGORY_URL + `/${id}/`;\n  }\n\n  if (query) {\n    endpoint += getQueryString(query);\n  }\n\n  return async dispatch => {\n    try {\n      dispatch(fetchDrugCategoryDetailsPending());\n      const response = await axios.get(endpoint);\n      dispatch(fetchDrugCategoryDetailsSuccess(response.data));\n    } catch(error) {\n      dispatch(fetchDrugCategoryDetailsFailure());\n    }\n  }\n}\n\nexport function updateDrugCategory(id, body) {\n  let endpoint = ADMIN_DRUG_CATEGORY_URL + `/${id}/`;\n  return async dispatch => {\n    try {\n      dispatch(updateDrugCategoryPending());\n      await axios.put(endpoint, body);\n      dispatch(updateDrugCategorySuccess());\n    } catch {\n      dispatch(updateDrugCategoryFailure());\n    }\n  }\n}\n\nexport function deleteDrugCategory(id) {\n  let endpoint = ADMIN_DRUG_CATEGORY_URL + `/${id}/`;\n  return async dispatch => {\n    try {\n      dispatch(deleteDrugCategoryPending());\n      await axios.delete(endpoint);\n      return dispatch(deleteDrugCategorySuccess());\n    } catch {\n      return dispatch(deleteDrugCategoryFailure());\n    }\n  }\n}","import React from 'react';\nimport { Form, Input } from 'antd';\n\nconst DrugUnitForm = props => {\n  const { form, onFinish, defaultUnit } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={onFinish}>\n      <Form.Item label=\"Đơn vị tính\" name=\"name\" initialValue={defaultUnit?.name}>\n        <Input autoFocus />\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default DrugUnitForm;","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-drug-unit`;\n\nexport function getDrugUnitsAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function addDrugUnitAPI(name) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { name: name });\n}\n\nexport function updateDrugUnitAPI(id, name) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    name: name\n  })\n}\n\nexport function deleteDrugUnitAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DrugUnitForm from 'forms/DrugUnitForm/DrugUnitForm';\nimport { getDrugUnitsAPI, addDrugUnitAPI, updateDrugUnitAPI, deleteDrugUnitAPI } from 'services/admin/drug-unit.service';\nimport { formActions } from 'constant/formActions';\n\nconst DrugUnitPage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [drugUnits, setDrugUnits] = useState([]);\n  const [fetchingDrugUnits, setFetchingDrugUnits] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedUnit, setSelectedUnit] = useState(null);\n  const [drugUnitForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Đơn vị tính',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getDrugUnits() {\n    try {\n      setFetchingDrugUnits(true);\n      const response = await getDrugUnitsAPI();\n      setDrugUnits(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingDrugUnits(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await drugUnitForm.validateFields();\n      if (action === formActions.CREATE) {\n        await addDrugUnitAPI(values.name);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateDrugUnitAPI(selectedUnit.id, values.name);\n      }\n\n      getDrugUnits();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(unit) {\n    setAction(formActions.UPDATE);\n    setSelectedUnit(unit);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(unit) {\n    try {\n      await deleteDrugUnitAPI(unit.id);\n      getDrugUnits();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    drugUnitForm.resetFields();\n    setSelectedUnit(null);\n  }\n\n  useEffect(() => {\n    getDrugUnits();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý đơn vị tính</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={drugUnits}\n        loading={fetchingDrugUnits}\n        pagination={false} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm đơn vị tính' : 'Cập nhật đơn vị tính'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DrugUnitForm onFinish={handleFormSubmit} form={drugUnitForm} defaultUnit={selectedUnit} />\n      </Modal>\n    </>\n  )\n}\n\nexport default DrugUnitPage;","import React from 'react';\nimport { Form, Input } from 'antd';\n\nconst DrugRouteForm = props => {\n  const { form, onFinish, defaultRoute } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={onFinish}>\n      <Form.Item label=\"Đường dùng thuốc\" name=\"name\" initialValue={defaultRoute?.name}>\n        <Input autoFocus />\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default DrugRouteForm;","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-drug-route`;\n\nexport function getDrugRouteAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function addDrugRouteAPI(name) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { name: name });\n}\n\nexport function updateDrugRouteAPI(id, name) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    name: name\n  })\n}\n\nexport function deleteDrugRouteAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DrugRouteForm from 'forms/DrugRouteForm/DrugRouteForm';\nimport { addDrugRouteAPI, deleteDrugRouteAPI, getDrugRouteAPI, updateDrugRouteAPI } from 'services/admin/drug-route.service';\nimport { formActions } from 'constant/formActions';\n\nconst DrugRoutePage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [routes, setRoutes] = useState([]);\n  const [fetchingRoutes, setFetchingRoutes] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedRoute, setSelectedRoute] = useState(null);\n  const [drugRouteForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Tên',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getDrugRoutes() {\n    try {\n      setFetchingRoutes(true);\n      const response = await getDrugRouteAPI();\n      setRoutes(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingRoutes(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await drugRouteForm.validateFields();\n      if (action === formActions.CREATE) {\n        await addDrugRouteAPI(values.name);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateDrugRouteAPI(selectedRoute.id, values.name);\n      }\n\n      getDrugRoutes();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(route) {\n    setAction(formActions.UPDATE);\n    setSelectedRoute(route);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(unit) {\n    try {\n      await deleteDrugRouteAPI(unit.id);\n      getDrugRoutes();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    drugRouteForm.resetFields();\n    setSelectedRoute(null);\n  }\n\n  useEffect(() => {\n    getDrugRoutes();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý đường dùng thuốc</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={routes}\n        pagination={false}\n        loading={fetchingRoutes} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm đường dùng thuốc' : 'Cập nhật đường dùng thuốc'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DrugRouteForm onFinish={handleFormSubmit} form={drugRouteForm} defaultRoute={selectedRoute} />\n      </Modal>\n    </>\n  )\n}\n\nexport default DrugRoutePage;","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nconst endpointPrefix = `${API_URL}/admin/manage-drug`;\n\nexport function getDrugsAPI(params) {\n  const url = `${endpointPrefix}/`;\n\n  if (params) {\n    return axios.get(`${url}?${getQueryString(params)}`);\n  }\n  return axios.get(url);\n}\n\nexport function getDrugDetailsAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.get(url);\n}\n\nexport function addDrugAPI(body) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, body);\n}\n\nexport function updateDrugAPI(id, body) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, body);\n}\n\nexport function deleteDrugAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-drug-dosage-form`;\n\nexport function getDrugDosageFormAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function addDrugDosageFormAPI(name) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { name: name });\n}\n\nexport function updateDrugDosageFormAPI(id, name) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    name: name\n  })\n}\n\nexport function deleteDrugDosageFormAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Form, Input, Select, Spin } from 'antd';\nimport { getDrugCategoryAPI } from 'services/admin/drug-category.service';\nimport { getDrugUnitsAPI } from 'services/admin/drug-unit.service';\nimport { getDrugDetailsAPI } from 'services/admin/drug.service';\nimport { getDrugRouteAPI } from 'services/admin/drug-route.service';\nimport { getDrugDosageFormAPI } from 'services/admin/drug-dosage-form.service';\nimport { requiredRule } from 'constant/formRules';\n\nconst DrugForm = props => {\n  const { form, onFinish, defaultDrug } = props;\n\n  const [categories, setCategories] = useState([]);\n  const [units, setUnits] = useState([]);\n  const [routes, setRoutes] = useState([]);\n  const [forms, setForms] = useState([]);\n  const [drugDetail, setDrugDetail] = useState(null);\n\n  const [catLoading, setCatLoading] = useState(false);\n  const [unitLoading, setUnitLoading] = useState(false);\n  const [routeLoading, setRouteLoading] = useState(false);\n  const [formLoading, setFormLoading] = useState(false);\n  const [detailLoading, setDetailLoading] = useState(false);\n\n  async function getDrugCategories() {\n    try {\n      setCatLoading(true);\n      const catResponse = await getDrugCategoryAPI();\n      setCategories(catResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setCatLoading(false);\n    }\n  }\n\n  async function getDrugUnits() {\n    try {\n      setUnitLoading(true);\n      const unitResponse = await getDrugUnitsAPI();\n      setUnits(unitResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setUnitLoading(false);\n    }\n  }\n\n  async function getDrugRoutes() {\n    try {\n      setRouteLoading(true);\n      const routeResponse = await getDrugRouteAPI();\n      setRoutes(routeResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setRouteLoading(false);\n    }\n  }\n\n  async function getDrugDosageForms() {\n    try {\n      setFormLoading(true);\n      const formResponse = await getDrugDosageFormAPI();\n      setForms(formResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFormLoading(false);\n    }\n  }\n\n\n\n  async function getDrugDetail(id) {\n    try {\n      setDetailLoading(true);\n      const detailResponse = await getDrugDetailsAPI(id);\n      const drugDetail = detailResponse.data;\n      setDrugDetail(drugDetail);\n      setCategories(prevCats => {\n        const index = prevCats.findIndex(cat => cat.id === defaultDrug.drug_category.id);\n        if (index > -1) {\n          prevCats[index] = drugDetail.drug_category;\n          return prevCats;\n        } else {\n          return [...[drugDetail.drug_category], ...prevCats];\n        }\n      });\n      setUnits(prevUnits => {\n        const index = prevUnits.findIndex(u => u.id === defaultDrug.drug_unit.id);\n        if (index > -1) {\n          prevUnits[index] = drugDetail.drug_unit;\n          return prevUnits;\n        } else {\n          return [...[drugDetail.drug_unit], ...prevUnits];\n        }\n      });\n      setRoutes(prevRoutes => {\n        const index = prevRoutes.findIndex(r => r.id === defaultDrug.drug_route.id);\n        if (index > -1) {\n          prevRoutes[index] = drugDetail.drug_route;\n          return prevRoutes;\n        } else {\n          return [...[drugDetail.drug_route], ...prevRoutes];\n        }\n      });\n      setForms(prevForms => {\n        const index = prevForms.findIndex(f => f.id === defaultDrug.drug_dosage_form.id);\n        if (index > -1) {\n          prevForms[index] = drugDetail.drug_dosage_form;\n          return prevForms;\n        } else {\n          return [...[drugDetail.drug_dosage_form], ...prevForms];\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setDetailLoading(false);\n    }\n  }\n\n  async function getData() {\n    if (defaultDrug?.id) {\n      await Promise.all([\n        getDrugDetail(defaultDrug.id),\n        getDrugCategories(),\n        getDrugUnits(),\n        getDrugRoutes(),\n        getDrugDosageForms()\n      ]);\n\n    } else {\n      await Promise.all([\n        getDrugCategories(),\n        getDrugUnits(),\n        getDrugRoutes(),\n        getDrugDosageForms()\n      ])\n    }\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  useEffect(() => {\n    if (drugDetail) {\n      form.setFieldsValue({\n        code: drugDetail.code,\n        name: drugDetail.name,\n        price: drugDetail.price || 0,\n        drug_category_id: drugDetail.drug_category.id,\n        drug_unit_id: drugDetail.drug_unit.id,\n        drug_dosage_form_id: drugDetail.drug_dosage_form.id,\n        drug_route_id: drugDetail.drug_route.id,\n        strength: drugDetail.strength\n      });\n    }\n  }, [drugDetail, defaultDrug, form]);\n\n  return (\n    <Spin spinning={detailLoading}>\n      <Form\n        layout=\"vertical\"\n        form={form}\n        onFinish={onFinish}>\n        <Form.Item label=\"Mã thuốc\" name=\"code\" initialValue={drugDetail?.code} rules={[requiredRule()]}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item label=\"Tên thuốc\" name=\"name\" initialValue={drugDetail?.name} rules={[requiredRule()]}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item label=\"Giá\" name=\"price\" initialValue={0} hidden>\n          <Input type=\"number\" suffix=\"VNĐ\" value={0} />\n        </Form.Item>\n\n        <Form.Item label=\"Nhóm thuốc\" name=\"drug_category_id\" initialValue={drugDetail?.drug_category.id} rules={[requiredRule()]}>\n          <Select loading={catLoading}>\n            {\n              categories.map(cat => (\n                <Select.Option key={cat.id} value={cat.id}>{cat.name}</Select.Option>\n              ))\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.Item label=\"Đơn vị tính\" name=\"drug_unit_id\" initialValue={drugDetail?.drug_unit.id} rules={[requiredRule()]}>\n          <Select loading={unitLoading}>\n            {\n              units.map(cat => (\n                <Select.Option key={cat.id} value={cat.id}>{cat.name}</Select.Option>\n              ))\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.Item label=\"Đường dùng\" name=\"drug_route_id\" initialValue={drugDetail?.drug_route.id} rules={[requiredRule()]}>\n          <Select loading={routeLoading}>\n            {\n              routes.map(route => (\n                <Select.Option key={route.id} value={route.id}>{route.name}</Select.Option>\n              ))\n            }\n          </Select>\n        </Form.Item>\n        <Form.Item label=\"Dạng bào chế\" name=\"drug_dosage_form_id\" initialValue={drugDetail?.drug_dosage_form.id} rules={[requiredRule()]}>\n          <Select loading={formLoading}>\n            {\n              forms.map(f => (\n                <Select.Option key={f.id} value={f.id}>{f.name}</Select.Option>\n              ))\n            }\n          </Select>\n        </Form.Item>\n        <Form.Item label=\"Hàm lượng/nồng độ\" name=\"strength\" initialValue={drugDetail?.strength} rules={[requiredRule()]}>\n          <Input />\n        </Form.Item>\n      </Form>\n    </Spin>\n  )\n}\n\nexport default DrugForm;","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DrugForm from 'forms/DrugForm/DrugForm';\nimport { getDrugsAPI, addDrugAPI, updateDrugAPI, deleteDrugAPI } from 'services/admin/drug.service';\nimport { formActions } from 'constant/formActions';\nimport NumberFormat from 'react-number-format';\n\nconst DrugPage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [drugs, setDrugs] = useState();\n  const [fetchingDrugs, setFetchingDrugs] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedDrug, setSelectedDrug] = useState(null);\n  const [drugForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Mã thuốc',\n      key: 'code',\n      dataIndex: 'code'\n    },\n    {\n      title: 'Tên thuốc',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hàm lượng/nồng độ',\n      key: 'strength',\n      dataIndex: 'strength'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getDrugs() {\n    try {\n      setFetchingDrugs(true);\n      const response = await getDrugsAPI();\n      setDrugs(response.data.results);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingDrugs(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await drugForm.validateFields();\n      console.log(values);\n      const data = {\n        code: values.code,\n        name: values.name,\n        price: values.price,\n        drug_category: values.drug_category,\n        drug_unit: values.drug_unit,\n        drug_route: values.drug_route,\n        drug_dosage_form: values.drug_dosage_form,\n        strength: values.strength\n      }\n      if (action === formActions.CREATE) {\n        await addDrugAPI(values);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateDrugAPI(selectedDrug.id, values);\n      }\n\n      getDrugs();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(drug) {\n    setAction(formActions.UPDATE);\n    setSelectedDrug(drug);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(drug) {\n    try {\n      await deleteDrugAPI(drug.id);\n      getDrugs();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    drugForm.resetFields();\n    setSelectedDrug(null);\n  }\n\n  useEffect(() => {\n    getDrugs();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý thuốc</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={drugs}\n        loading={fetchingDrugs}\n        pagination={false} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm thuốc' : 'Cập nhật thuốc'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DrugForm onFinish={handleFormSubmit} form={drugForm} defaultDrug={selectedDrug} />\n      </Modal>\n    </>\n  )\n}\n\nexport default DrugPage;","import React from 'react';\nimport { Form, Input } from 'antd';\n\nconst DrugInstructionForm = props => {\n  const { form, onFinish, defaultInstruction } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={onFinish}>\n      <Form.Item label=\"Hướng dẫn sử dụng\" name=\"instruction\" initialValue={defaultInstruction?.instruction}>\n        <Input autoFocus />\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default DrugInstructionForm;","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-drug-instruction`;\n\nexport function getDrugInstructionsAPI() {\n  const url = `${endpointPrefix}/`;\n  return axios.get(url);\n}\n\nexport function addDrugInstructionAPI(instruction) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { instruction: instruction });\n}\n\nexport function updateDrugInstructionAPI(id, instruction) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    instruction: instruction\n  })\n}\n\nexport function deleteDrugInstructionAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DrugInstructionForm from 'forms/DrugInstructionForm/DrugInstructionForm';\nimport { getDrugInstructionsAPI, addDrugInstructionAPI, updateDrugInstructionAPI, deleteDrugInstructionAPI } from 'services/admin/drug-instruction.service';\nimport { formActions } from 'constant/formActions';\n\nconst DrugInstructionPage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [drugInstructions, setDrugInstructions] = useState([]);\n  const [fetchingDrugInstructions, setFetchingDrugInstructions] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedInstruction, setSelectedInstruction] = useState(null);\n  const [drugInstructionForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Hướng dẫn sử dụng',\n      key: 'instruction',\n      dataIndex: 'instruction'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getDrugInstructions() {\n    try {\n      setFetchingDrugInstructions(true);\n      const response = await getDrugInstructionsAPI();\n      setDrugInstructions(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingDrugInstructions(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await drugInstructionForm.validateFields();\n      if (action === formActions.CREATE) {\n        await addDrugInstructionAPI(values.instruction);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateDrugInstructionAPI(selectedInstruction.id, values.instruction);\n      }\n\n      getDrugInstructions();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(ins) {\n    setAction(formActions.UPDATE);\n    setSelectedInstruction(ins);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(unit) {\n    try {\n      await deleteDrugInstructionAPI(unit.id);\n      getDrugInstructions();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    drugInstructionForm.resetFields();\n    setSelectedInstruction(null);\n  }\n\n  useEffect(() => {\n    getDrugInstructions();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý hướng dẫn sử dụng</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={drugInstructions}\n        loading={fetchingDrugInstructions}\n        pagination={false} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm hướng dẫn sử dụng' : 'Cập nhật hướng dẫn sử dụng'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DrugInstructionForm onFinish={handleFormSubmit} form={drugInstructionForm} defaultInstruction={selectedInstruction} />\n      </Modal>\n    </>\n  )\n}\n\nexport default DrugInstructionPage;","import React from 'react';\nimport { Form, Input } from 'antd';\n\nconst DiseaseCategoryForm = props => {\n  const { form, onFinish, defaultCategory } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={onFinish}>\n      <Form.Item label=\"Loại bệnh\" name=\"name\" initialValue={defaultCategory?.name}>\n        <Input autoFocus />\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default DiseaseCategoryForm;","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-disease-category`;\n\nexport function getDiseaseCategoryAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function addDiseaseCategoryAPI(name) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { name: name });\n}\n\nexport function updateDiseaseCategoryAPI(id, name) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    name: name\n  })\n}\n\nexport function deleteDiseaseCategoryAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DiseaseCategoryForm from 'forms/DiseaseCategoryForm/DiseaseCategoryForm';\nimport { addDiseaseCategoryAPI, deleteDiseaseCategoryAPI, getDiseaseCategoryAPI, updateDiseaseCategoryAPI } from 'services/admin/disease-category.service';\nimport { formActions } from 'constant/formActions';\n\nconst DiseaseCategoryPage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [fetchingCategories, setFetchingCategories] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [diseaseCategoryForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Tên',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getDiseaseCategories() {\n    try {\n      setFetchingCategories(true);\n      const response = await getDiseaseCategoryAPI();\n      setCategories(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingCategories(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await diseaseCategoryForm.validateFields();\n      if (action === formActions.CREATE) {\n        await addDiseaseCategoryAPI(values.name);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateDiseaseCategoryAPI(selectedCategory.id, values.name);\n      }\n\n      getDiseaseCategories();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(category) {\n    setAction(formActions.UPDATE);\n    setSelectedCategory(category);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(unit) {\n    try {\n      await deleteDiseaseCategoryAPI(unit.id);\n      getDiseaseCategories();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    diseaseCategoryForm.resetFields();\n    setSelectedCategory(null);\n  }\n\n  useEffect(() => {\n    getDiseaseCategories();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý nhóm bệnh</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={categories}\n        pagination={false}\n        loading={fetchingCategories} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm loại bệnh' : 'Cập nhật loại bệnh'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DiseaseCategoryForm onFinish={handleFormSubmit} form={diseaseCategoryForm} defaultCategory={selectedCategory} />\n      </Modal>\n    </>\n  )\n}\n\nexport default DiseaseCategoryPage;","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nconst endpointPrefix = `${API_URL}/admin/manage-disease`;\n\nexport function getDiseasesAPI(query) {\n  let url = `${endpointPrefix}/`;\n  if (query) {\n    url += \"?\" + getQueryString(query);\n  }\n  return axios.get(url);\n}\n\nexport function getDiseaseDetailsAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.get(url);\n}\n\nexport function addDiseaseAPI({ code, name, disease_category }) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, {\n    code,\n    name,\n    disease_category\n  });\n}\n\nexport function updateDiseaseAPI(id, { code, name, disease_category }) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    code,\n    name,\n    disease_category\n  });\n}\n\nexport function deleteDiseaseAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Form, Input, Select, Spin } from 'antd';\nimport { getDiseaseCategoryAPI } from 'services/admin/disease-category.service';\nimport { getDiseaseDetailsAPI } from 'services/admin/disease.service';\n\nconst DiseaseForm = props => {\n  const { form, onFinish, defaultDisease } = props;\n\n  const [categories, setCategories] = useState([]);\n  const [diseaseDetail, setDiseaseDetail] = useState(null);\n  const [catLoading, setCatLoading] = useState(false);\n  const [detailLoading, setDetailLoading] = useState(false);\n\n  async function getDiseaseCategories() {\n    try {\n      setCatLoading(true);\n      const catResponse = await getDiseaseCategoryAPI();\n      setCategories(catResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setCatLoading(false);\n    }\n  }\n\n  async function getDiseaseDetail(id) {\n    try {\n      setDetailLoading(true);\n      const detailResponse = await getDiseaseDetailsAPI(id);\n      const diseaseDetail = detailResponse.data;\n      setDiseaseDetail(diseaseDetail);\n      setCategories(prevCats => {\n        const index = prevCats.findIndex(cat => cat.id === defaultDisease.disease_category);\n        if (index > -1) {\n          prevCats[index] = diseaseDetail.disease_category;\n          return prevCats;\n        } else {\n          return [...[diseaseDetail.disease_category], ...prevCats];\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setDetailLoading(false);\n    }\n  }\n\n  async function getData() {\n    if (defaultDisease?.id) {\n      await Promise.all([\n        getDiseaseDetail(defaultDisease.id),\n        getDiseaseCategories(),\n      ]);\n\n    } else {\n      await Promise.all([\n        getDiseaseCategories(),\n      ])\n    }\n\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  useEffect(() => {\n    if (diseaseDetail) {\n      form.setFieldsValue({\n        code: diseaseDetail.code,\n        name: diseaseDetail.name,\n        disease_category: diseaseDetail.disease_category.id,\n      });\n    }\n  }, [diseaseDetail, defaultDisease, form]);\n\n  return (\n    <Spin spinning={detailLoading}>\n      <Form\n        layout=\"vertical\"\n        form={form}\n        onFinish={onFinish}>\n        <Form.Item label=\"Mã bệnh\" name=\"code\" initialValue={diseaseDetail?.code}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item label=\"Tên bệnh\" name=\"name\" initialValue={diseaseDetail?.name}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item label=\"Nhóm bệnh\" name=\"disease_category\" initialValue={diseaseDetail?.disease_category.id}>\n          <Select loading={catLoading}>\n            {\n              categories.map(cat => (\n                <Select.Option key={cat.id} value={cat.id}>{cat.name}</Select.Option>\n              ))\n            }\n          </Select>\n        </Form.Item>\n      </Form>\n    </Spin>\n  )\n}\n\nexport default DiseaseForm;","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DiseaseForm from 'forms/DiseaseForm/DiseaseForm';\nimport { getDiseasesAPI, addDiseaseAPI, updateDiseaseAPI, deleteDiseaseAPI } from 'services/admin/disease.service';\nimport { formActions } from 'constant/formActions';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst DiseasePage = () => {\n\n  const { search, pathname } = useLocation();\n  const { push } = useHistory();\n  const [page, setPage] = useState(() => {\n    const searchURL = new URLSearchParams(search);\n    return Number.parseInt(searchURL.get('page')) || 1\n  });\n  console.log(page);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [diseases, setDiseases] = useState();\n  const [fetchingDiseases, setFetchingDiseases] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedDisease, setSelectedDisease] = useState(null);\n  const [diseaseForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Mã bệnh',\n      key: 'code',\n      dataIndex: 'code'\n    },\n    {\n      title: 'Tên bệnh',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getDiseases(query) {\n    try {\n      setFetchingDiseases(true);\n      const response = await getDiseasesAPI(query);\n      setDiseases(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingDiseases(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await diseaseForm.validateFields();\n      const data = {\n        code: values.code,\n        name: values.name,\n        disease_category: values.disease_category,\n      }\n      if (action === formActions.CREATE) {\n        await addDiseaseAPI(data);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateDiseaseAPI(selectedDisease.id, data);\n      }\n\n      getDiseases();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(disease) {\n    setAction(formActions.UPDATE);\n    setSelectedDisease(disease);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(disease) {\n    try {\n      await deleteDiseaseAPI(disease.id);\n      getDiseases();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    diseaseForm.resetFields();\n    setSelectedDisease(null);\n  }\n\n  function handlePageChange(page) {\n    getDiseases({ page:  page});\n    setPage(page);\n    push({\n      pathname: pathname,\n      search: `page=${page}`\n    })\n  }\n\n  useEffect(() => {\n    getDiseases();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý bệnh</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={diseases?.results}\n        loading={fetchingDiseases}\n        pagination={{\n          defaultCurrent: page,\n          current: page,\n          pageSize: 10,\n          total: diseases?.count,\n          onChange: handlePageChange\n        }} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm bệnh' : 'Cập nhật bệnh'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DiseaseForm onFinish={handleFormSubmit} form={diseaseForm} defaultDisease={selectedDisease} />\n      </Modal>\n    </>\n  )\n}\n\nexport default DiseasePage;","import React from 'react';\n\nconst NotificationPage = () => {\n  return (\n    <div>Notification Page</div>\n  )\n}\n\nexport default NotificationPage;","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/user/room`;\n\nexport function getRoomAPI() {\n  const url = `${endpointPrefix}/`;\n  return axios.get(url);\n}\n\nexport function getRoomDetailsAPI(roomId) {\n  const url = `${endpointPrefix}/${roomId}/`;\n  return axios.get(url);\n}","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-room`;\n\nexport function getRoomAPI() {\n  const url = `${endpointPrefix}/`;\n  return axios.get(url);\n}\n\nexport function addRoomAPI({ number, name }) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { number: Number(number), name });\n}\n\nexport function updateRoomAPI(id, { name, number }) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    number: Number(number),\n    name\n  })\n}\n\nexport function deleteRoomAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nconst endpointPrefix = `${API_URL}/user/visit`;\n\nexport function getVisitDataAPI(query) {\n  const url = `${endpointPrefix}/`;\n  if (query) {\n    return axios.get(`${url}?${getQueryString(query)}`);\n  }\n  return axios.get(url);\n}\n\nexport function createVisitAPI({ patientId, roomId }) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, {\n    room_id: roomId,\n    patient_id: patientId\n  })\n}\n\nexport function deleteVisitAPI(visitId) {\n  const url = `${endpointPrefix}/${visitId}/`;\n  return axios.delete(url);\n}","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nconst endpointPrefix = `${API_URL}/admin/manage-visit`;\n\nexport function getVisitDataAPI(query) {\n  const url = `${endpointPrefix}/`;\n  if (query) {\n    return axios.get(`${url}?${getQueryString(query)}`);\n  }\n  return axios.get(url);\n}\n\nexport function createVisitAPI({ patientId, roomId }) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, {\n    room_id: roomId,\n    patient_id: patientId\n  })\n}","import axios from 'axios';\nimport { NODE_URL } from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nconst endpointPrefix = `${NODE_URL}`;\n\nexport function listEMRAPI(query) {\n  const url = `${endpointPrefix}/physician/emrs/`;\n  if (query) {\n    return axios.get(`${url}?${getQueryString(query)}`);\n  }\n\n  return axios.get(url);\n}\n\nexport function addEMRAPI(emr) {\n  const url = `${endpointPrefix}/physician/emrs/`;\n  return axios.post(url, emr);\n}\n\nexport function getEMRHistoryAPI(emrId) {\n  const url = `${endpointPrefix}/physician/emrs/${emrId}`;\n  return axios.get(url);\n}\n\nexport function updateEMRAPI(emrId, body) {\n  const url = `${endpointPrefix}/physician/emrs/${emrId}`;\n  return axios.put(url, body);\n}\n\nexport function completeEMRAPI(emrId) {\n  const url = `${endpointPrefix}/physician/emrs/${emrId}/complete`;\n  return axios.get(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Select, Empty, Table, Button } from 'antd';\nimport { connect } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { removeDuplicates } from 'utils/array';\nimport moment from 'moment';\n\n// APIs\nimport { getRoomAPI } from 'services/user/room.service';\nimport { getRoomAPI as adminGetRoomAPI } from 'services/admin/room.service';\nimport { getVisitDataAPI } from 'services/user/visit.service';\nimport { getVisitDataAPI as adminGetVisitDataAPI } from 'services/admin/visit.service';\nimport { addEMRAPI, getEMRHistoryAPI } from 'services/user/emr.service';\nimport Modal from 'antd/lib/modal/Modal';\n\n\nconst VisitPage = props => {\n  const user = props.user;\n  const { pathname } = useLocation();\n\n  const history = useHistory();\n  const [rooms, setRooms] = useState([]);\n  const [roomLoading, setRoomLoading] = useState(false);\n  const [visitData, setVisitData] = useState(null);\n  const [visitLoading, setVisitLoading] = useState(false);\n  const [createEMRLoading, setCreateEMRLoading] = useState([]);\n\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\n\n  const visitList = visitData?.results.filter(visit => {\n    const createdAt = new Date(visit.created_at);\n    const today = new Date();\n    const isToday = createdAt.getDate() === today.getDate() &&\n      createdAt.getMonth() === today.getMonth() &&\n      createdAt.getFullYear() === today.getFullYear();\n    return (isToday && visit.room.id === selectedRoom)\n  });\n\n  const tableColumns = [\n    {\n      title: 'Số thứ tự',\n      key: '#',\n      dataIndex: 'visit_number'\n    },\n    {\n      title: 'Họ và tên',\n      key: 'fullname',\n      render: (_, record) => record.patient.first_name + \" \" + record.patient.last_name\n    },\n    {\n      title: 'Giới tính',\n      key: 'gender',\n      render: (_, record) => record.patient.gender\n    },\n    {\n      title: 'Ngày sinh',\n      key: 'DOB',\n      render: (_, record) => moment(record.patient.DOB).format('DD/MM/YYYY')\n    },\n    {\n      ken: 'action',\n      render: (_, record) => <Button onClick={() => handlePatientClick(record)} loading={createEMRLoading.includes(record.id)}>Khám bệnh</Button>\n    }\n  ]\n\n  async function getRooms() {\n    try {\n      setRoomLoading(true);\n      let roomResponse;\n      if (user.role.name === \"admin\") {\n        roomResponse = await adminGetRoomAPI();\n      } else if (user.role.name === \"physician\" || user?.role?.name === \"receptionist\") {\n        roomResponse = await getRoomAPI();\n      }\n      setRooms(roomResponse.data);\n\n      const prevSelected = localStorage.getItem(\"selectedRoom\");\n      if (prevSelected) {\n        setSelectedRoom(prevSelected);\n        getVisitData(prevSelected);\n      }\n\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setRoomLoading(false);\n    }\n  }\n\n  async function getVisitData(roomId) {\n    try {\n      let visitDataResponse;\n      setVisitLoading(true);\n      if (user.role.name === \"admin\") {\n        visitDataResponse = await adminGetVisitDataAPI({ room_id: roomId });\n      } else {\n        visitDataResponse = await getVisitDataAPI({ room_id: roomId })\n      }\n      const visitData = visitDataResponse.data;\n      setVisitData(visitData);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setVisitLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    await Promise.all([\n      getRooms(),\n    ]);\n  }\n\n  useEffect(() => {\n    if (user) {\n      getInitialData();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (selectedRoom) {\n      localStorage.setItem(\"selectedRoom\", selectedRoom);\n    }\n  }, [selectedRoom])\n\n  async function createEmr(emr) {\n    try {\n      setCreateEMRLoading(prev => [...prev, ...[emr.visit_id]]);\n      const response = await addEMRAPI(emr);\n      return Promise.resolve(response);\n    } catch (error) {\n      console.log(error);\n      return Promise.reject(error);\n    } finally {\n      setCreateEMRLoading(prev => {\n        const cloneArr = [...prev];\n        cloneArr.splice(cloneArr.indexOf(emr.visit_id), 1);\n        return cloneArr\n      });\n    }\n  }\n\n  async function checkExistEMR(emrId) {\n    try {\n      setCreateEMRLoading(prev => [...prev, ...[emrId]]);\n      const historyResponse = await getEMRHistoryAPI(emrId);\n      const data = historyResponse.data.data;\n      const existEmr = data.find(emr => emr.id === emrId && emr.completed_at === null);\n      return !!(existEmr);\n    } catch (error) {\n\n    } finally {\n      setCreateEMRLoading(prev => {\n        const cloneArr = [...prev];\n        cloneArr.splice(cloneArr.indexOf(emrId), 1);\n        return cloneArr\n      });\n    }\n  }\n\n  async function handlePatientClick(visit) {\n    const { patient } = visit;\n    const existVisit = await checkExistEMR(visit.id);\n\n    if (!existVisit) {\n\n      const emrObj = {\n        visit_id: visit.id,\n        patient: visit.patient,\n        physician: user,\n        room: visit.room,\n        medical_record: {\n          administrative: {\n            fullname: null,\n            dayOfBirth: null,\n            gender: null,\n            job: null,\n            ethnicity: null,\n            expatriate: null,\n            address: null,\n            workplace: null,\n            object: null,\n            insurance_expirity: null,\n            insurance_number: null,\n            family_member_and_address: null,\n            phone: null,\n            checkin_at: null,\n            previous_diagnose: null,\n            come_from: null\n          },\n          present_complaint: null,\n          ask: {\n            pathological_process: null,\n            self_medical_history: null,\n            family_medical_history: null\n          },\n          examination: {\n            heartbeat: null,\n            temperature: null,\n            blood_pressure: null,\n            breathing: null,\n            weight: null,\n            body: null,\n            partials: null,\n            subclinical_summary: null,\n            initial_diagnose: {\n              category: null,\n              disease: null\n            },\n            drugs: null,\n            processed: null,\n            diagnose: {\n              category: null,\n              disease: null\n            },\n            from_date: null,\n            to_date: null,\n          },\n          summary: {\n            pathological_process_and_clinical_course: null,\n            valuable_subclinical_summary: null,\n            primary_disease: {\n              category: null,\n              disease: null\n            },\n            sub_disease: {\n              category: null,\n              disease: null\n            },\n            treatment_method: null,\n            patient_status: null,\n            direction_of_treatment: null,\n            services: null,\n            attachments: []\n          }\n        }\n      }\n\n      try {\n        await createEmr(emrObj);\n        history.push(`${pathname}/${visit.id}`);\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      history.push(`${pathname}/${visit.id}`);\n    }\n  }\n\n  function handleChangeRoom(value) {\n    setSelectedRoom(value);\n    getVisitData(value);\n  }\n\n  return (\n    <>\n      <Row className=\"flex-no-wrap\">\n        <Col style={{ width: 350 }} className=\"flex-shrink-0\">\n          <div className=\"mb-5\">\n            <h3 className=\"text-xl\">Phòng khám</h3>\n            <Select loading={roomLoading} style={{ width: '100%' }} value={selectedRoom} onChange={handleChangeRoom}>\n              {\n                rooms.map(room => (\n                  <Select.Option key={room.id} value={room.id} onChange={handleChangeRoom}>{room.name}</Select.Option>\n                ))\n              }\n            </Select>\n          </div>\n        </Col>\n        <Col flex=\"0 0 45px\"></Col>\n        <Col flex={1}>\n          <h3 className=\"text-xl\">Bệnh nhân đang chờ khám</h3>\n          <Table dataSource={visitList} columns={tableColumns} rowKey=\"id\" loading={visitLoading} pagination={false} />\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  user: state.userState.user\n})\n\nexport default connect(mapStateToProps)(VisitPage);","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\n\nconst endpointPrefix = `${API_URL}/user/patient`;\n\nexport function listAllPatientsAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function getPatientDetailsAPI(patientId) {\n  const url = `${endpointPrefix}/${patientId}/`;\n  return axios.get(url);\n}\n\nexport function createPatientAPI(body) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, body)\n}\n\n","const NullPlaceholder = <span className=\"text-gray-600 font-serif italic\">Chưa cập nhật</span>\n\nexport default NullPlaceholder;","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { PageHeader, Table, Space, Button } from 'antd';\nimport { EyeOutlined } from '@ant-design/icons';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport moment from 'moment';\n\n// API\nimport { listAllPatientsAPI } from 'services/user/patient.service';\nimport NullPlaceholder from 'components/NullPlaceholder/NullPlaceholder';\n\nconst PatientPage = props => {\n  const { user } = props;\n  const { path } = useRouteMatch();\n\n  const [patientData, setPatientData] = useState(null);\n  const [patientLoading, setPatientLoading] = useState(false);\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Họ và tên',\n      key: 'fullname',\n      render: (text, record) => record.first_name + \" \" + record.last_name\n    },\n    {\n      title: 'Giới tính',\n      key: 'gender',\n      dataIndex: 'gender'\n    },\n    {\n      title: 'Ngày sinh',\n      key: 'DOB',\n      render: (text, record) => moment(record.DOB).format('DD/MM/YYYY')\n    },\n    {\n      title: 'Địa chỉ',\n      key: 'address',\n      render: (text, record) => record.address || NullPlaceholder\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record) => (\n        <Space>\n          <Link to={`${path}/${record.id}`}>\n            <Button icon={<EyeOutlined />}>Xem chi tiết</Button>\n          </Link>\n        </Space>\n      )\n    }\n  ]\n\n  async function listAllPatient() {\n    try {\n      setPatientLoading(true);\n      const patientResults = await listAllPatientsAPI();\n      const patientData = patientResults.data;\n      setPatientData(patientData);\n    } catch (error) {\n\n    } finally {\n      setPatientLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    await Promise.all([\n      listAllPatient()\n    ])\n  }\n\n  useEffect(() => {\n    getInitialData()\n  }, []);\n\n  return (\n    <>\n      <PageHeader title=\"Bệnh nhân\" />\n      <Table columns={tableColumns} dataSource={patientData?.results} loading={patientLoading} rowKey=\"id\" />\n    </>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.userState.user\n  }\n}\n\nexport default connect(mapStateToProps)(PatientPage); ","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/admin/manage-service`;\n\nexport function getServicesAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function getServiceDetailsAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.get(url);\n}\n\nexport function addServiceAPI({ name, price }) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, { name, price: Number(price) });\n}\n\nexport function updateServiceAPI(id, { name, price }) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    name,\n    price: Number(price)\n  })\n}\n\nexport function deleteServiceAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Form, Input, Spin } from 'antd';\nimport { getServiceDetailsAPI } from 'services/admin/medical-service.service';\n\nconst ServiceForm = props => {\n  const { form, onFinish, defaultService } = props;\n\n  const [serviceDetail, setServiceDetail] = useState(null);\n  const [detailLoading, setDetailLoading] = useState(false);\n\n  async function getServiceDetail(id) {\n    try {\n      setDetailLoading(true);\n      const detailResponse = await getServiceDetailsAPI(id);\n      const serviceDetail = detailResponse.data;\n      setServiceDetail(serviceDetail);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setDetailLoading(false);\n    }\n  }\n\n  async function getData() {\n    if (defaultService?.id) {\n      await Promise.all([\n        getServiceDetail(defaultService.id),\n      ]);\n    }\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  useEffect(() => {\n    if (serviceDetail) {\n      form.setFieldsValue({\n        name: serviceDetail.name,\n        price: serviceDetail.price,\n      });\n    }\n  }, [serviceDetail, defaultService, form]);\n\n  return (\n    <Spin spinning={detailLoading}>\n      <Form\n        layout=\"vertical\"\n        form={form}\n        onFinish={onFinish}>\n\n        <Form.Item label=\"Tên dịch vụ\" name=\"name\" initialValue={serviceDetail?.name}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item label=\"Giá\" name=\"price\" initialValue={serviceDetail?.price}>\n          <Input type=\"number\" suffix=\"VNĐ\" />\n        </Form.Item>\n      </Form>\n    </Spin>\n  )\n}\n\nexport default ServiceForm;","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport ServiceForm from 'forms/ServiceForm/ServiceForm';\nimport { getServicesAPI, addServiceAPI, updateServiceAPI, deleteServiceAPI } from 'services/admin/medical-service.service';\nimport { formActions } from 'constant/formActions';\nimport NumberFormat from 'react-number-format';\n\nconst ServicePage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [services, setServices] = useState();\n  const [fetchingServices, setFetchingServices] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedService, setSelectedService] = useState(null);\n  const [serviceForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Tên dịch vụ',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Giá',\n      key: 'price',\n      dataIndex: 'price',\n      render: (text, record, index) => (<NumberFormat thousandSeparator=\" \" suffix=\" VNĐ\" value={text} displayType=\"text\" />)\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getServices() {\n    try {\n      setFetchingServices(true);\n      const response = await getServicesAPI();\n      setServices(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingServices(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await serviceForm.validateFields();\n      const data = {\n        name: values.name,\n        price: values.price,\n      }\n      if (action === formActions.CREATE) {\n        await addServiceAPI(data);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateServiceAPI(selectedService.id, data);\n      }\n\n      getServices();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(service) {\n    setAction(formActions.UPDATE);\n    setSelectedService(service);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(service) {\n    try {\n      await deleteServiceAPI(service.id);\n      getServices();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    serviceForm.resetFields();\n    setSelectedService(null);\n  }\n\n  useEffect(() => {\n    getServices();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý thuốc</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={services}\n        loading={fetchingServices} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm thuốc' : 'Cập nhật thuốc'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <ServiceForm onFinish={handleFormSubmit} form={serviceForm} defaultService={selectedService} />\n      </Modal>\n    </>\n  )\n}\n\nexport default ServicePage;","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\n\nconst endpointPrefix = `${API_URL}/admin/manage-working-hours`;\n\nexport function getWorkingHoursAPI() {\n  const url = `${endpointPrefix}/`;\n  return axios.get(url);\n}\n\nexport function updateWorkingHourAPI(id, { weekday, isClosed }) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.put(url, {\n    weekday: weekday,\n    is_closed: isClosed\n  })\n}","import React, { useState, useEffect } from 'react';\nimport { Table, Switch } from 'antd';\nimport { getWorkingHoursAPI, updateWorkingHourAPI } from 'services/admin/working-hours.service';\n\nconst WorkingHourPage = () => {\n\n  const [workingHours, setWorkingHours] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const tableColumns = [\n    {\n      title: 'Ngày',\n      key: 'weekday',\n      dataIndex: 'weekday'\n    },\n    {\n      title: 'Đóng cửa',\n      key: 'is_closed',\n      render: (text, record) => (\n        <Switch\n          checked={record.is_closed}\n          onChange={() => handleWorkingHourChange(record)} />\n      )\n    }\n  ]\n\n  async function getWorkingHours() {\n    try {\n      setLoading(true);\n      const workingHoursResponse = await getWorkingHoursAPI();\n      setWorkingHours(workingHoursResponse.data.sort((a, b) => {\n        if (a.id < b.id) {\n          return -1\n        } else {\n          return 1\n        }\n      }));\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleWorkingHourChange(wh) {\n    try {\n      setLoading(true);\n      await updateWorkingHourAPI(wh.id, {\n        weekday: wh.weekday,\n        isClosed: !wh.is_closed\n      });\n      getWorkingHours();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  useEffect(() => {\n    getWorkingHours();\n  }, []);\n\n  return (\n    <>\n      <h1 className=\"text-xl\">Quản lý giờ làm việc</h1>\n      <div style={{width: 400}}>\n      <Table\n        rowKey=\"weekday\"\n        dataSource={workingHours}\n        columns={tableColumns}\n        loading={loading}\n        pagination={false} />\n      </div>\n      \n    </>\n  )\n}\n\nexport default WorkingHourPage;","import React from 'react';\nimport { Form, Input } from 'antd';\n\nconst RoomForm = props => {\n  const { form, onFinish, defaultRoom } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={onFinish}>\n      <Form.Item label=\"Mã\" name=\"number\" initialValue={defaultRoom?.number}>\n        <Input type=\"number\" autoFocus />\n      </Form.Item>\n      <Form.Item label=\"Tên phòng\" name=\"name\" initialValue={defaultRoom?.name}>\n        <Input />\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default RoomForm;","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport RoomForm from 'forms/RoomForm/RoomForm';\nimport { addRoomAPI, deleteRoomAPI, getRoomAPI, updateRoomAPI } from 'services/admin/room.service';\nimport { formActions } from 'constant/formActions';\n\nconst RoomPage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [rooms, setCategories] = useState([]);\n  const [fetchingCategories, setFetchingCategories] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedRoom, setSelectedRoom] = useState(null);\n  const [roomForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: 'Mã phòng',\n      key: 'number',\n      dataIndex: 'number',\n      width: '150px'\n    },\n    {\n      title: 'Tên phòng',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      width: '150px',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getRooms() {\n    try {\n      setFetchingCategories(true);\n      const response = await getRoomAPI();\n      setCategories(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingCategories(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await roomForm.validateFields();\n      if (action === formActions.CREATE) {\n        await addRoomAPI(values);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateRoomAPI(selectedRoom.id, values);\n      }\n\n      getRooms();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(room) {\n    setAction(formActions.UPDATE);\n    setSelectedRoom(room);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(unit) {\n    try {\n      await deleteRoomAPI(unit.id);\n      getRooms();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    roomForm.resetFields();\n    setSelectedRoom(null);\n  }\n\n  useEffect(() => {\n    getRooms();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý phòng</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={rooms}\n        \n        loading={fetchingCategories} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm phòng' : 'Cập nhật phòng'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <RoomForm onFinish={handleFormSubmit} form={roomForm} defaultRoom={selectedRoom} />\n      </Modal>\n    </>\n  )\n}\n\nexport default RoomPage;","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\nimport qs from 'qs';\n\nconst endpointPrefix = `${API_URL}/admin/manage-user`;\n\nexport function getUsersAPI(query) {\n  const url = `${endpointPrefix}/?${qs.stringify(query)}`;\n  return axios.get(url);\n}\n\nexport function getUserDetailsAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.get(url);\n}\n\nexport function addUserAPI({ email, password, first_name, last_name, phone, DOB, gender, role_id }) {\n  const url = `${endpointPrefix}/`;\n  return axios.post(url, {\n    email,\n    password,\n    first_name,\n    last_name,\n    phone,\n    DOB: DOB.format('yyyy-MM-DD'),\n    gender,\n    role_id\n  });\n}\n\nexport function updateUserAPI(id, { email, password, first_name, last_name, phone, DOB, gender, role_id }) {\n  const url = `${endpointPrefix}/${id}/`;\n  if (password) {\n    return axios.put(url, {\n      email,\n      password,\n      first_name,\n      last_name,\n      phone,\n      DOB: DOB.format('yyyy-MM-DD'),\n      gender,\n      role_id\n    })\n  }\n\n  return axios.put(url, {\n    email,\n    first_name,\n    last_name,\n    phone,\n    DOB: DOB.format('yyyy-MM-DD'),\n    gender,\n    role_id\n  })\n}\n\nexport function deleteUserAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.delete(url);\n}\n\nexport function blockUserAPI(userId) {\n  const url = `${endpointPrefix}/${userId}/block/`;\n  return axios.get(url);\n}\n\nexport function unblockUserAPI(userId) {\n  const url = `${endpointPrefix}/${userId}/unblock/`;\n  return axios.get(url);\n}","export const ROLES = {\n  \"1\": {\n    name: \"admin\",\n    display: \"Quản trị viên\"\n  },\n  \"2\": {\n    name: \"physician\",\n    display: \"Bác sĩ\"\n  },\n  \"3\": {\n    name: \"receptionist\",\n    display: \"Tiếp tân\"\n  },\n  \"4\": {\n    name: \"patient\",\n    display: \"Bệnh nhân\"\n  }\n}\n\nexport const ROLES_LIST = [1, 2, 3, 4];","import React, { useState, useEffect } from 'react';\nimport { Form, Input, Select, Spin, Row, Col, DatePicker, Radio } from 'antd';\nimport { getUserDetailsAPI } from 'services/admin/user.service';\nimport { ROLES, ROLES_LIST } from 'constant/roles';\nimport moment from 'moment';\nimport { requiredRule } from 'constant/formRules';\n\nconst UserForm = props => {\n  const { form, onFinish, defaultUser } = props;\n  const [userDetail, setUserDetail] = useState(null);\n  const [detailLoading, setDetailLoading] = useState(false);\n\n  async function getUserDetail(id) {\n    try {\n      setDetailLoading(true);\n      const detailResponse = await getUserDetailsAPI(id);\n      const userDetail = detailResponse.data;\n      setUserDetail(userDetail);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setDetailLoading(false);\n    }\n  }\n\n  async function getData() {\n    if (defaultUser?.id) {\n      await Promise.all([\n        getUserDetail(defaultUser.id),\n      ]);\n    }\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  useEffect(() => {\n    if (userDetail) {\n      form.setFieldsValue({\n        email: userDetail.email,\n        first_name: userDetail.first_name,\n        last_name: userDetail.last_name,\n        phone: userDetail.phone,\n        DOB: moment(userDetail.DOB),\n        gender: userDetail.gender,\n        role_id: userDetail.role.id\n      });\n    }\n  }, [userDetail, defaultUser, form]);\n\n  return (\n    <Spin spinning={detailLoading}>\n      <Form\n        layout=\"vertical\"\n        form={form}\n        autoComplete=\"new-password\"\n        onFinish={onFinish}>\n        <Form.Item label=\"Email\" name=\"email\" initialValue={userDetail?.email} rules={[\n          {\n            required: !userDetail || (userDetail && userDetail.role.id != 4),\n            message: \"Vui lòng điền vào trường này\"\n          }\n        ]}>\n          <Input type=\"email\" />\n        </Form.Item>\n\n        <Form.Item label=\"Mật khẩu\" name=\"password\" rules={[\n          {\n            required: !userDetail?.id,\n            message: \"Vui lòng điền vào trường này\"\n          }\n        ]}>\n          <Input.Password autoComplete=\"new-password\" placeholder={userDetail ? \"Nhập mật khẩu mới\" : \"\"} />\n        </Form.Item>\n\n        <Row>\n          <Col flex={1}>\n            <Form.Item label=\"Họ\" name=\"first_name\" rules={[requiredRule()]}>\n              <Input />\n            </Form.Item>\n          </Col>\n          <div style={{ width: 20 }}></div>\n          <Col flex={1}>\n            <Form.Item label=\"Tên\" name=\"last_name\" rules={[requiredRule()]}>\n              <Input />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Form.Item label=\"Điện thoại\" name=\"phone\" initialValue={userDetail?.phone} rules={[requiredRule()]}>\n          <Input type=\"tel\" />\n        </Form.Item>\n\n        <Row>\n          <Col>\n            <Form.Item label=\"Ngày sinh\" name=\"DOB\" rules={[requiredRule()]}>\n              <DatePicker placeholder=\"Chọn ngày\" />\n            </Form.Item>\n          </Col>\n          <div style={{ width: 15 }}></div>\n          <Col flex={1}>\n            <Form.Item label=\"Giới tính\" name=\"gender\" rules={[requiredRule()]}>\n              <Radio.Group>\n                <Radio value=\"Nam\">Nam</Radio>\n                <Radio value=\"Nữ\">Nữ</Radio>\n                <Radio value=\"Khác\">Khác</Radio>\n              </Radio.Group>\n            </Form.Item>\n          </Col>\n        </Row>\n\n\n        <Form.Item label=\"Vai trò\" name=\"role_id\" initialValue={userDetail?.role_id} rules={[requiredRule()]}>\n          <Select>\n            {\n              ROLES_LIST.map(role_id => (\n                <Select.Option key={role_id} value={role_id}>{ROLES[role_id].display}</Select.Option>\n              ))\n            }\n          </Select>\n        </Form.Item>\n      </Form>\n    </Spin>\n  )\n}\n\nexport default UserForm;","import React from 'react';\nimport classnames from 'classnames';\nimport styles from './Circle.module.scss';\n\nconst Circle = props => {\n\n  const classes = classnames(\n    styles.circle,\n    { [styles['circle--success']]: props.color === 'success' }\n  )\n\n  return (\n    <div className={classes}></div>\n  )\n}\n\nexport default Circle;","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, LockOutlined, UnlockOutlined, EditOutlined, DeleteOutlined, EyeOutlined } from '@ant-design/icons';\nimport UserForm from 'forms/UserForm/UserForm';\nimport { formActions } from 'constant/formActions';\nimport NumberFormat from 'react-number-format';\nimport { ROLES } from 'constant/roles';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Circle from 'components/Circle/Circle';\n\n// APIs\nimport { getUsersAPI, addUserAPI, updateUserAPI, deleteUserAPI, blockUserAPI, unblockUserAPI } from 'services/admin/user.service';\nimport { addBlockChainUserAPI } from 'services/user/user.service';\n\n\nconst AdminAccountPage = () => {\n\n  const history = useHistory();\n  const { pathname, search } = useLocation();\n  const urlSearchParams = new URLSearchParams(search);\n  const currentPageOnURL = Number(urlSearchParams.get('page'));\n  const [page, setPage] = useState(currentPageOnURL || 1);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [users, setUsers] = useState();\n  const [fetchingUsers, setFetchingUsers] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [userForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Họ và tên',\n      key: 'fullname',\n      render: (text, record) => record.first_name + \" \" + record.last_name\n    },\n    {\n      title: 'Email',\n      key: 'email',\n      dataIndex: 'email',\n      render: (text, record) => (\n        <Space>\n          <Circle color={record.is_verified_email ? 'success' : ''} />\n          <span>{record.email || \"Không\"}</span>\n        </Space>\n      )\n    },\n    // {\n    //   title: 'Điện thoại',\n    //   key: 'phone',\n    //   dataIndex: 'phone',\n    //   render: (text, record) => (\n    //     <Space>\n    //       <Circle color={record.is_verified_phone ? 'success' : ''} />\n    //       <span>{record.phone}</span>\n    //     </Space>\n    //   )\n    // },\n    {\n      title: 'Vai trò',\n      key: 'role',\n      render: (text, record) => <span>{ROLES[record.role.id].display}</span>\n    },\n    {\n      title: 'Hành động', key: 'action', render: (text, record) => {\n        return (\n          <Space size={10}>\n            {/* <Button icon={<EyeOutlined />} onClick={() => handleViewClick(record)}></Button> */}\n            <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n            <Popconfirm\n              onConfirm={() => handleDelete(record)}\n              title=\"Bạn có chắc muốn xóa không?\"\n              okText=\"Xóa\"\n              okType=\"danger\"\n              cancelText=\"Hủy bỏ\">\n              <Button icon={<DeleteOutlined />}></Button>\n            </Popconfirm>\n            {\n              <Popconfirm\n                onConfirm={() => handleBlockUnblock(record)}\n                title={`Bạn có chắc muốn ${record.is_active ? 'khóa' : 'mở khóa'} tài khoản này không?`}\n                okText={record.is_active ? \"Khóa\" : \"Mở khóa\"}\n                okType={record.is_active ? \"danger\" : \"primary\"}\n                cancelText=\"Hủy bỏ\">\n                {\n                  record.is_active ?\n                    <Button danger type=\"link\" icon={<LockOutlined />}>Khóa</Button>\n                    :\n                    <Button type=\"link\" icon={<UnlockOutlined />}>Mở khóa</Button>\n                }\n              </Popconfirm>\n            }\n          </Space>\n        )\n      }\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getUsers(page) {\n    try {\n      setFetchingUsers(true);\n      const response = await getUsersAPI({ page: page });\n      setUsers(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingUsers(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await userForm.validateFields();\n\n      if (action === formActions.CREATE) {\n        const addReponse = await addUserAPI(values);\n        const responseData = addReponse.data;\n        const userId = responseData.id;\n        await addBlockChainUserAPI(userId, \"user\");\n        // await addBlockChainUserAPI(\"af6e0eb2-639b-471d-8394-74b0dfce3395\", \"user\");\n      }\n\n      if (action === formActions.UPDATE) {\n        if (!values.password) {\n          delete values.password;\n        }\n        await updateUserAPI(selectedUser.id, values);\n      }\n\n      getUsers(page);\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  async function handleBlockUnblock(user) {\n    try {\n      setFetchingUsers(true);\n      if (user.is_active) {\n        await blockUserAPI(user.id);\n      } else {\n        await unblockUserAPI(user.id);\n      }\n      getUsers();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function handleViewClick(user) {\n\n  }\n\n  function handleEditClick(user) {\n    setAction(formActions.UPDATE);\n    setSelectedUser(user);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(user) {\n    try {\n      await deleteUserAPI(user.id);\n      getUsers(page);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    userForm.resetFields();\n    setSelectedUser(null);\n  }\n\n  function handlePaginationChange(page) {\n    getUsers(page);\n    setPage(page);\n    history.push({\n      pathname: pathname,\n      search: `page=${page}`\n    })\n  }\n\n  useEffect(() => {\n    getUsers(page);\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý tài khoản</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={users?.results}\n        pagination={{\n          defaultCurrent: page,\n          current: page,\n          pageSize: 10,\n          total: users?.count,\n          onChange: handlePaginationChange\n        }}\n        loading={fetchingUsers} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm tài khoản' : 'Cập nhật tài khoản'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <UserForm onFinish={handleFormSubmit} form={userForm} defaultUser={selectedUser} />\n      </Modal>\n    </>\n  )\n}\n\nexport default AdminAccountPage;","import React, { useEffect } from 'react';\nimport Cookie from 'js-cookie';\nimport { Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logoutAction } from 'store/actions/auth.action';\nimport jwtDecode from 'jwt-decode';\nimport { notification } from 'antd';\n\nconst withPrivateRoute = (Child, roles) => {\n  const WrapperComponent = (props) => {\n\n    const dispatch = useDispatch();\n    const token = Cookie.get('EMR_token');\n    const user = useSelector((state) => state.userState.user);\n\n    function isValidRole(user) {\n      const userRole = user?.role.name;\n      const isValid = roles.includes(userRole);\n      return isValid;\n    }\n\n    useEffect(() => {\n      if (user && user.role) {\n        if (!isValidRole(user)) {\n          notification.error({ message: \"Lỗi\", description: \"Trang bạn yêu cầu không hợp lệ\", type: \"error\" });\n          dispatch(logoutAction());\n        }\n      }\n    }, [user, dispatch]);\n\n    try {\n      if (!token || token.length === 0 || !jwtDecode(token)) {\n        return <Redirect to=\"/login\" />;\n      } else {\n        return <Child {...props} />\n      }\n      \n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return WrapperComponent;\n}\n\nexport default withPrivateRoute;","import React from 'react';\nimport { Button, Layout, Modal, Spin, Space, Avatar } from 'antd';\nimport {\n  LogoutOutlined,\n  ExclamationCircleOutlined\n} from '@ant-design/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logoutAction } from 'store/actions/auth.action';\nimport { ROLES } from 'constant/roles';\n\nconst { Header } = Layout;\n\nconst CustomHeader = () => {\n\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.userState.user);\n\n  function handleLogout() {\n    Modal.confirm({\n      title: \"Đăng xuất\",\n      icon: <ExclamationCircleOutlined />,\n      content: \"Bạn có chắc muốn đăng xuất không?\",\n      onOk() {\n        dispatch(logoutAction());\n      }\n    })\n  }\n\n  return (\n    <Header className=\"header flex items-center\">\n      <div className=\"text-2xl text-white\">EMR</div>\n      <div className=\"ml-auto\"></div>\n      <div className=\"text-white\">\n        {\n          user ?\n            <Space>\n              {\n                user.avatar ?\n                  <Avatar src={user.avatar} />\n                  :\n                  <Avatar style={{ backgroundColor: '#1890ff' }}>{user.last_name.charAt(0)}</Avatar>\n              }\n              <span>{ user.first_name } { user.last_name } ({ ROLES[user.role.id].display })</span>\n            </Space>\n            :\n            \"Đang tải...\"\n        }\n\n        <span className=\"ml-3\">|</span>\n      </div>\n      <Button type=\"default\" ghost icon={<LogoutOutlined />} className=\"border-none\" onClick={handleLogout}>Đăng xuất</Button>\n    </Header>\n  )\n}\n\nexport default CustomHeader;","import React from 'react';\nimport { Form, Input } from 'antd';\n\nconst DrugDosageFormForm = props => {\n  const { form, onFinish, defaultDosageForm } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={onFinish}>\n      <Form.Item label=\"Dạng bào chế\" name=\"name\" initialValue={defaultDosageForm?.name}>\n        <Input autoFocus />\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default DrugDosageFormForm;","import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button, Modal, Table, Form, Popconfirm, Space } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport DrugDosageFormForm from 'forms/DrugDosageFormForm/DrugDosageFormForm';\nimport { addDrugDosageFormAPI, deleteDrugDosageFormAPI, getDrugDosageFormAPI, updateDrugDosageFormAPI } from 'services/admin/drug-dosage-form.service';\nimport { formActions } from 'constant/formActions';\n\nconst DrugDosageFormPage = () => {\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [dosageForms, setDosageForms] = useState([]);\n  const [fetchingDosageForms, setFetchingDosageForms] = useState(false);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [action, setAction] = useState(formActions.CREATE);\n  const [selectedDosageForm, setSelectedDosageForm] = useState(null);\n  const [drugDosageFormForm] = Form.useForm();\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Tên',\n      key: 'name',\n      dataIndex: 'name'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record, index) => (\n        <Space size={10}>\n          <Button icon={<EditOutlined />} onClick={() => handleEditClick(record)}></Button>\n          <Popconfirm\n            onConfirm={() => handleDelete(record)} title=\"Bạn có chắc muốn xóa không?\"\n            okText=\"Xóa\"\n            okType=\"danger\"\n            cancelText=\"Hủy bỏ\">\n            <Button icon={<DeleteOutlined />}></Button>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n\n  function handleOpenModal() {\n    setAction(formActions.CREATE);\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  async function getDrugDosageForms() {\n    try {\n      setFetchingDosageForms(true);\n      const response = await getDrugDosageFormAPI();\n      setDosageForms(response.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetchingDosageForms(false);\n    }\n  }\n\n  async function handleFormSubmit() {\n    try {\n      setModalLoading(true);\n      const values = await drugDosageFormForm.validateFields();\n      if (action === formActions.CREATE) {\n        await addDrugDosageFormAPI(values.name);\n      }\n\n      if (action === formActions.UPDATE) {\n        await updateDrugDosageFormAPI(selectedDosageForm.id, values.name);\n      }\n\n      getDrugDosageForms();\n\n      setModalVisible(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function handleEditClick(dosageForm) {\n    setAction(formActions.UPDATE);\n    setSelectedDosageForm(dosageForm);\n    setModalVisible(true);\n  }\n\n  async function handleDelete(unit) {\n    try {\n      await deleteDrugDosageFormAPI(unit.id);\n      getDrugDosageForms();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function afterClose() {\n    drugDosageFormForm.resetFields();\n    setSelectedDosageForm(null);\n  }\n\n  useEffect(() => {\n    getDrugDosageForms();\n  }, []);\n\n  return (\n    <>\n      <Row justify=\"space-between\">\n        <Col><h1 className=\"text-xl\">Quản lý đường dùng thuốc</h1></Col>\n        <Col>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleOpenModal}>Tạo mới</Button>\n        </Col>\n      </Row>\n      <Table\n        rowKey=\"id\"\n        columns={tableColumns}\n        dataSource={dosageForms}\n        pagination={false}\n        loading={fetchingDosageForms} />\n      <Modal\n        visible={modalVisible}\n        title={action === formActions.CREATE ? 'Thêm đường dùng thuốc' : 'Cập nhật đường dùng thuốc'}\n        onCancel={handleCloseModal}\n        confirmLoading={modalLoading}\n        destroyOnClose={true}\n        afterClose={afterClose}\n        onOk={handleFormSubmit}>\n        <DrugDosageFormForm onFinish={handleFormSubmit} form={drugDosageFormForm} defaultDosageForm={selectedDosageForm} />\n      </Modal>\n    </>\n  )\n}\n\nexport default DrugDosageFormPage;","export function getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n}","import { Avatar, Row, Col, Spin, Upload, Form, Input, Select, DatePicker, Button, message } from 'antd';\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { getBase64 } from 'utils/image';\nimport { API_URL } from 'constant/apiUrl';\nimport Cookie from 'js-cookie';\nimport moment from 'moment';\nimport { getProfileAction } from 'store/actions/user.action';\nimport { logoutAction } from 'store/actions/auth.action';\n\n\n// APIs\nimport { updateProfile } from 'services/user/user.service';\nimport { changePasswordAPI } from 'services/auth/auth.service';\nimport { requiredRule } from 'constant/formRules';\n\nconst { Item, useForm } = Form;\n\nconst ProfilePage = props => {\n  const { user, getProfileLoading, getProfile, logout } = props;\n  const token = Cookie.get('EMR_token');\n\n  const [loading, setLoading] = useState(false);\n  const [updateLoading, setUpdateLoading] = useState(false);\n  const [changePasswordLoading, setChangePasswordLoading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(user?.avatar);\n\n  const [changePasswordForm] = useForm();\n\n  useEffect(() => {\n    if (user && user.avatar) {\n      setImageUrl(user.avatar);\n    }\n  }, [user]);\n\n  const uploadButton = (\n    <div>\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\n      <div style={{ marginTop: 8 }}>Upload</div>\n    </div>\n  )\n\n  function handleChange(info) {\n    if (info.file.status === 'uploading') {\n      setLoading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      setImageUrl(info.file.response.avatar);\n      setLoading(false);\n      getProfile();\n    }\n  };\n\n  async function handleSaveProfile(values) {\n    if (moment.isMoment(values.DOB)) {\n      values.DOB = values.DOB.format('YYYY-MM-DD');\n    }\n\n    try {\n      setUpdateLoading(true);\n      await updateProfile(values);\n      await getProfile();\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setUpdateLoading(false);\n    }\n  }\n\n  async function handleChangePassword(values) {\n    try {\n      setChangePasswordLoading(true);\n      await changePasswordAPI(values);\n      message.success(\"Đổi mật khẩu thành công, vui lòng đăng nhập lại.\");\n      changePasswordForm.resetFields();\n      logout();\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setChangePasswordLoading(false);\n    }\n  }\n\n  return !user ? <Spin spinning={true} /> : (\n    <>\n\n      <Row gutter={60}>\n        <Col flex=\"0 0 50%\">\n          <Spin spinning={updateLoading || getProfileLoading}>\n            <h3 className=\"text-xl mb-3\">Hồ sơ cá nhân</h3>\n            <Upload\n              name=\"image\"\n              action={`${API_URL}/user/profile/avatar/`}\n              headers={{ Authorization: `Bearer ${token}` }}\n              method=\"PATCH\"\n              listType=\"picture-card\"\n              className=\"avatar-uploader\"\n              showUploadList={false}\n\n              onChange={handleChange} >\n              {imageUrl ? <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\n            </Upload>\n\n\n            <Form layout=\"vertical\" onFinish={handleSaveProfile}>\n              <Row gutter={15}>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Họ\" name=\"first_name\" initialValue={user.first_name} rules={[requiredRule()]}>\n                    <Input />\n                  </Item>\n                </Col>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Tên\" name=\"last_name\" initialValue={user.last_name} rules={[requiredRule()]}>\n                    <Input />\n                  </Item>\n                </Col>\n              </Row>\n              <Row gutter={15}>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Giới tính\" name=\"gender\" initialValue={user.gender} rules={[requiredRule()]}>\n                    <Select>\n                      <Select.Option value=\"Nam\">Nam</Select.Option>\n                      <Select.Option value=\"Nữ\">Nữ</Select.Option>\n                      <Select.Option value=\"Khác\">Khác</Select.Option>\n                    </Select>\n                  </Item>\n                </Col>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Ngày sinh\" name=\"DOB\" initialValue={moment(user.DOB)} rules={[requiredRule()]}>\n                    <DatePicker style={{ width: '100%' }} format=\"DD/MM/YYYY\" />\n                  </Item>\n                </Col>\n              </Row>\n              <Row gutter={15}>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Địa chỉ email\">\n                    <Input value={user.email} readOnly />\n                  </Item>\n                </Col>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Điện thoại\" name=\"phone\" initialValue={user.phone}>\n                    <Input readOnly={user.role.name === \"patient\"} />\n                  </Item>\n                </Col>\n              </Row>\n              <Row gutter={15}>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Nghề nghiệp\" name=\"job\" initialValue={user.job}>\n                    <Input />\n                  </Item>\n                </Col>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Nơi làm việc\" name=\"workplace\" initialValue={user.workplace}>\n                    <Input />\n                  </Item>\n                </Col>\n              </Row>\n              <Row gutter={15}>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Dân tộc\" name=\"ethnicity\" initialValue={user.ethnicity}>\n                    <Input />\n                  </Item>\n                </Col>\n                <Col flex=\"0 0 50%\">\n                  <Item label=\"Ngoại kiều\" name=\"expatriate\" initialValue={user.expatriate}>\n                    <Input />\n                  </Item>\n                </Col>\n              </Row>\n\n              <Form.Item label=\"Họ và tên người nhà\" name=\"family_member_name\" initialValue={user.family_member_name}>\n                <Input />\n              </Form.Item>\n\n              <Form.Item label=\"Địa chỉ\" name=\"address\" initialValue={user.address}>\n                <Input.TextArea autoSize={{ minRows: 2, maxRows: 4 }} />\n              </Form.Item>\n\n              <Form.Item label=\"Địa chỉ người nhà\" name=\"family_member_address\" initialValue={user.family_member_address}>\n                <Input.TextArea autoSize={{ minRows: 2, maxRows: 4 }} />\n              </Form.Item>\n\n              <Button type=\"primary\" htmlType=\"submit\">Cập nhật</Button>\n            </Form>\n          </Spin>\n\n        </Col>\n        <Col flex=\"0 0 50%\">\n          <h3 className=\"text-xl mb-3\">Đổi mật khẩu</h3>\n\n          <Spin spinning={changePasswordLoading}>\n            <Form layout=\"vertical\" onFinish={handleChangePassword} autoComplete=\"new-password\" form={changePasswordForm}>\n              <Item label=\"Mật khẩu cũ\" name=\"old_password\" rules={[requiredRule()]}>\n                <Input.Password />\n              </Item>\n\n              <Item label=\"Mật khẩu mới\" name=\"new_password\" rules={[requiredRule()]}>\n                <Input.Password />\n              </Item>\n\n              <Item label=\"Nhập lại mật khẩu mới\" name=\"confirm_password\" rules={[requiredRule()]}>\n                <Input.Password />\n              </Item>\n\n              <Button type=\"primary\" htmlType=\"submit\">Đổi mật khẩu</Button>\n            </Form>\n          </Spin>\n\n        </Col>\n      </Row>\n\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  user: state.userState.user,\n  getProfileLoading: state.userState.getProfileLoading\n})\n\nconst mapDispatchToProps = dispatch => ({\n  getProfile: () => dispatch(getProfileAction()),\n  logout: () => dispatch(logoutAction())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfilePage);","import React from 'react';\nimport { Link, Redirect, Switch, Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport {\n  UserOutlined,\n  DashboardOutlined,\n  MedicineBoxOutlined,\n  BugOutlined,\n  DollarOutlined,\n  IdcardOutlined,\n  ClockCircleOutlined,\n  AppstoreOutlined,\n  CalendarOutlined,\n  ProfileOutlined,\n  SettingOutlined,\n  NotificationOutlined} from '@ant-design/icons';\nimport AdminDashboard from 'pages/admin/dashboard';\nimport DrugCategoryPage from 'pages/common/drug/drug-category';\nimport DrugUnitPage from 'pages/common/drug/drug-unit';\nimport DrugRoutePage from 'pages/common/drug/drug-route';\nimport DrugPage from 'pages/common/drug/drug';\nimport DrugInstructionPage from 'pages/common/drug/drug-instruction';\nimport DiseaseCategory from 'pages/common/disease/disease-category';\nimport DiseasePage from 'pages/common/disease/disease';\nimport NotificationPage from 'pages/common/notification/notification';\nimport VisitPage from 'pages/common/visit/visit';\nimport PatientPage from 'pages/common/patient/patient';\nimport AppointmentPage from 'pages/common/appointment/apointment';\nimport ServicePage from 'pages/common/service/service';\nimport WorkingHourPage from 'pages/admin/working-hour';\nimport RoomPage from 'pages/common/room/room';\nimport AdminAccountPage from 'pages/admin/account';\nimport AdminSettingPage from 'pages/admin/setting';\nimport withPrivateRoute from 'HOCs/withPrivateRoute';\nimport CustomHeader from 'components/Header';\nimport DrugDosageFormPage from 'pages/common/drug/drug-dosage-form';\nimport ProfilePage from 'pages/common/profile/profile';\n\nconst { Sider, Content } = Layout;\nconst { SubMenu } = Menu;\n\nconst AdminLayout = () => {\n  const match = useRouteMatch();\n  const location = useLocation();\n  const path = match.path;\n\n  return (\n    <Layout>\n      <CustomHeader />\n      <Layout>\n        <Sider width={200} className=\"site-layout-background\">\n          <Menu\n            mode=\"inline\"\n            style={{ height: '100%', borderRight: 0 }}\n            selectedKeys={[location.pathname]}\n          >\n            <Menu.Item key=\"/admin/dashboard\" icon={<DashboardOutlined />}>\n              <Link to=\"/admin/dashboard\">Thống kê</Link>\n            </Menu.Item>\n            <SubMenu key=\"drug\" icon={<MedicineBoxOutlined />} title=\"Quản lý thuốc\">\n              <Menu.Item key=\"/admin/drug/category\">\n                <Link to=\"/admin/drug/category\">Loại thuốc</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/admin/drug/unit\">\n                <Link to=\"/admin/drug/unit\">Đơn vị tính</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/admin/drug/route\">\n                <Link to=\"/admin/drug/route\">Đường dùng</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/admin/drug/dosage-form\">\n                <Link to=\"/admin/drug/dosage-form\">Dạng bào chế</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/admin/drug\">\n                <Link to=\"/admin/drug\">Thuốc</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/admin/drug/instruction\">\n                <Link to=\"/admin/drug/instruction\">Hướng dẫn sử dụng</Link>\n              </Menu.Item>\n            </SubMenu>\n            <SubMenu key=\"disease\" icon={<BugOutlined />} title=\"Quản lý bệnh\">\n              <Menu.Item key=\"/admin/disease/category\">\n                <Link to=\"/admin/disease/category\">Nhóm bệnh</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/admin/disease\">\n                <Link to=\"/admin/disease\">Bệnh</Link>\n              </Menu.Item>\n            </SubMenu>\n\n            {/* <Menu.Item key=\"/admin/notification\" icon={<NotificationOutlined />}>\n              <Link to=\"/admin/notification\">Thông báo</Link>\n            </Menu.Item> */}\n            {/* <Menu.Item key=\"/admin/visit\" icon={<ContainerOutlined />}>\n              <Link to=\"/admin/visit\">Khám bệnh</Link>\n            </Menu.Item> */}\n            {/* <Menu.Item key=\"/admin/patient\" icon={<IdcardOutlined />}>\n              <Link to=\"/admin/patient\">Bệnh nhân</Link>\n            </Menu.Item> */}\n            {/* <Menu.Item key=\"/admin/appointment\" icon={<CalendarOutlined />}>\n              <Link to=\"/admin/appointment\">Lịch hẹn</Link>\n            </Menu.Item> */}\n            <Menu.Item key=\"/admin/service\" icon={<DollarOutlined />}>\n              <Link to=\"/admin/service\">Dịch vụ</Link>\n            </Menu.Item>\n\n            {/* <Menu.Item key=\"/admin/working-hour\" icon={<ClockCircleOutlined />}>\n              <Link to=\"/admin/working-hour\">Giờ làm việc</Link>\n            </Menu.Item> */}\n            <Menu.Item key=\"/admin/room\" icon={<AppstoreOutlined />}>\n              <Link to=\"/admin/room\">Phòng khám</Link>\n            </Menu.Item>\n\n            <Menu.Item key=\"/admin/account\" icon={<UserOutlined />}>\n              <Link to=\"/admin/account\">Tài khoản</Link>\n            </Menu.Item>\n            <Menu.Item key=\"/admin/profile\" icon={<ProfileOutlined />}>\n              <Link to=\"/admin/profile\">Hồ sơ</Link>\n            </Menu.Item>\n            {/* <Menu.Item key=\"/admin/setting\" icon={<SettingOutlined />}>\n              <Link to=\"/admin/setting\">Cài đặt</Link>\n            </Menu.Item> */}\n          </Menu>\n        </Sider>\n        <Layout style={{ padding: '0 24px 24px' }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              padding: 24,\n              margin: 0,\n              minHeight: 280,\n            }}\n          >\n            <Switch>\n              {/* Dashboard */}\n              <Route path={`${path}/dashboard`}>\n                <AdminDashboard />\n              </Route>\n\n              {/* Drug */}\n              <Route path={`${path}/drug/category`}>\n                <DrugCategoryPage />\n              </Route>\n              <Route path={`${path}/drug/unit`}>\n                <DrugUnitPage />\n              </Route>\n              <Route path={`${path}/drug/route`}>\n                <DrugRoutePage />\n              </Route>\n              <Route path={`${path}/drug/dosage-form`}>\n                <DrugDosageFormPage />\n              </Route>\n              <Route path={`${path}/drug`} exact>\n                <DrugPage />\n              </Route>\n              <Route path={`${path}/drug/instruction`}>\n                <DrugInstructionPage />\n              </Route>\n\n              {/* Disease */}\n              <Route path={`${path}/disease/category`}>\n                <DiseaseCategory />\n              </Route>\n              <Route path={`${path}/disease`}>\n                <DiseasePage />\n              </Route>\n\n              {/* Notification */}\n              <Route path={`${path}/notification`}>\n                <NotificationPage />\n              </Route>\n\n              {/* Visit */}\n              <Route path={`${path}/visit`}>\n                <VisitPage />\n              </Route>\n\n              {/* Patient */}\n              {/* <Route path={`${path}/patient`}>\n                <PatientPage />\n              </Route> */}\n\n              {/* Appointment */}\n              {/* <Route path={`${path}/appointment`}>\n                <AppointmentPage />\n              </Route> */}\n\n              {/* Service */}\n              <Route path={`${path}/service`}>\n                <ServicePage />\n              </Route>\n\n              {/* Service */}\n              {/* <Route path={`${path}/working-hour`}>\n                <WorkingHourPage />\n              </Route> */}\n\n              {/* Room */}\n              <Route path={`${path}/room`}>\n                <RoomPage />\n              </Route>\n\n              {/* Room */}\n              <Route path={`${path}/account`}>\n                <AdminAccountPage />\n              </Route>\n\n              {/* Room */}\n              {/* <Route path={`${path}/setting`}>\n                <AdminSettingPage />\n              </Route> */}\n\n              <Route path={`${path}/profile`}>\n                <ProfilePage />\n              </Route>\n\n              {/* Fallback */}\n              <Redirect to={`/admin/dashboard`} />\n            </Switch>\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default withPrivateRoute(AdminLayout, ['admin']);","import React, { useState } from 'react';\nimport { Upload, Modal } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { API_URL } from 'constant/apiUrl';\nimport Cookie from 'js-cookie';\nimport { getBase64 } from 'utils/image';\n\n// APIs\n// import { removeImageAPI } from 'services/user/emr.service';\n\nconst VisitImagesForm = props => {\n\n  const { emrId } = props;\n\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [previewImage, setPreviewImage] = useState('');\n  const [previewTitle, setPreviewTitle] = useState('');\n  const [fileList, setFileList] = useState([...props.fileList]);\n  const token = Cookie.get('EMR_token');\n\n  const uploadButton = (\n    <div>\n      <PlusOutlined />\n      <div style={{ marginTop: 8 }}>Tải lên</div>\n    </div>\n  );\n\n  async function handleChange(uploadEvent) {\n    const { event, file, fileList } = uploadEvent;\n    setFileList(fileList);\n    props.onChange(uploadEvent);\n  }\n\n  async function handlePreview(file) {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    setPreviewImage(file.url || file.preview);\n    setPreviewVisible(true);\n    setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1),);\n  }\n\n  function handleCancel() {\n    setPreviewVisible(false);\n  }\n\n  return (\n    <>\n      <Upload\n        onChange={handleChange}\n        listType=\"picture-card\"\n        fileList={fileList}\n        action={`${API_URL}/user/emr/image/`}\n        name=\"image\"\n        headers={{ Authorization: `Bearer ${token}` }}\n        onPreview={handlePreview}>\n        {uploadButton}\n      </Upload>\n      <Modal\n        visible={previewVisible}\n        title={previewTitle}\n        footer={null}\n        onCancel={handleCancel}>\n        <img src={previewImage} alt=\"\" style={{ width: '100%' }} />\n      </Modal>\n    </>\n  )\n}\n\nexport default VisitImagesForm;","export const quillToolbar = [\n  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n  ['blockquote', 'code-block'],\n\n  [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n  [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n  [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n  [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n  [{ 'direction': 'rtl' }],                         // text direction\n\n  [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n  [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n  [{ 'font': [] }],\n  [{ 'align': [] }],\n\n  ['clean']                                         // remove formatting button\n];","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/user/service`;\n\nexport function getServicesAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}\n\nexport function getServiceDetailsAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.get(url);\n}","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/user/drug-category`;\n\nexport function getDrugCategoryAPI(search = \"\") {\n  const url = `${endpointPrefix}/?search=${search}`;\n  return axios.get(url);\n}","import axios from 'axios';\n\nimport { API_URL } from \"constant/apiUrl\";\n\nconst endpointPrefix = `${API_URL}/user/drug-instruction`;\n\nexport function getDrugInstructionsAPI() {\n  const url = `${endpointPrefix}/`;\n  return axios.get(url);\n}","import axios from 'axios';\nimport { API_URL } from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nconst endpointPrefix = `${API_URL}/user/drug`;\n\nexport function getDrugsAPI(params) {\n  const url = `${endpointPrefix}/`;\n\n  if (params) {\n    return axios.get(`${url}?${getQueryString(params)}`);\n  }\n  return axios.get(url);\n}\n\nexport function getDrugDetailsAPI(id) {\n  const url = `${endpointPrefix}/${id}/`;\n  return axios.get(url);\n}","import React, { useState, useEffect } from 'react';\nimport { Form, Select, Row, Col, Button } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\n\nconst DiseaseSelect = ({ value = { category: null, disease: null }, onChange, ...props }) => {\n\n  const { label, diseaseCategories, diseases, clearable } = props;\n  const [selectedCat, setSelectedCat] = useState('');\n\n  function handleCatChange(id) {\n    setSelectedCat(id);\n    onChange({ ...value, category: id })\n  }\n\n  function handleChange(v) {\n    onChange({ ...value, disease: v });\n  }\n\n  return (\n    <Row align=\"middle\" gutter={15} className=\"flex-no-wrap\">\n      {\n        label &&\n        <Col flex=\"0 0 150px\">{label}</Col>\n      }\n      <Col flex=\"0 0 300px\" style={{ maxWidth: 300 }}>\n        <Select placeholder=\"Nhóm bệnh\" onChange={handleCatChange} value={value?.category} showSearch filterOption={(input, option) => {\n          return option.children.toLowerCase().includes(input.toLowerCase());\n        }}>\n          {\n            diseaseCategories.map(cat => {\n              return <Select.Option key={cat.id} value={cat.id}>{cat.name}</Select.Option>\n            })\n          }\n        </Select>\n      </Col>\n      <Col flex=\"1 1 auto\">\n        <Select placeholder=\"Bệnh\" onChange={handleChange} value={value?.disease} showSearch filterOption={(input, option) => {\n          return option.children.toLowerCase().includes(input.toLowerCase());\n        }}>\n          {\n            diseases?.filter(d => selectedCat === '' || d.disease_category === selectedCat).map(d => {\n              return <Select.Option key={d.id} value={d.name}>{d.name}</Select.Option>\n            })\n          }\n        </Select>\n      </Col>\n      {\n        clearable &&\n        <Col>\n          <Button icon={<DeleteOutlined />} onClick={() => onChange({ category: null, disease: null })}></Button>\n        </Col>\n      }\n    </Row>\n  )\n}\n\nexport default DiseaseSelect;","import React from 'react';\nimport { Form, Row, Col, Input, Radio, Select, Button, Collapse, DatePicker, Divider, Space } from 'antd';\nimport moment from 'moment';\nimport ReactQuill from 'react-quill';\nimport { quillToolbar } from 'constant/quill';\nimport VisitImagesForm from 'forms/Visit/VisitImagesForm';\nimport DiseaseSelect from 'components/DiseaseSelect/DiseaseSelect';\nimport { MinusCircleOutlined, PlusOutlined, SaveOutlined, FileDoneOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\n\nconst EMRForm = props => {\n\n  const {\n    emrForm,\n    emr,\n    diseaseCategories,\n    diseases,\n    drugCategories,\n    drugLoading,\n    drugInstructions,\n    services,\n    drugs,\n    finishLoading,\n  } = props;\n\n  function getDateString(dateStr) {\n    let result = \"\";\n    const momentObj = moment(dateStr);\n    result = `${momentObj.hour()} giờ ${momentObj.minute()} phút ngày ${momentObj.date()} tháng ${momentObj.month() + 1} năm ${momentObj.year()}`;\n    return result;\n  }\n\n  return (\n    <Form layout=\"vertical\" form={emrForm} initialValues={\n      { drugs: emr.medical_record.examination.drugs },\n      { services: emr.medical_record.summary.services }\n    }>\n\n      <Row gutter={15}>\n        {/* <Col flex={1}>\n        <Form.Item label=\"Sở y tế\" name=\"health_service_dept\">\n          <Input />\n        </Form.Item>\n      </Col> */}\n        {/* <Col flex={1}>\n        <Form.Item label=\"Bệnh viện\" name=\"hospital\">\n          <Input />\n        </Form.Item>\n      </Col> */}\n        <Col flex={1}>\n          <Form.Item label=\"Phòng khám\" name=\"room\" initialValue={emr.room.name}>\n            <Input readOnly />\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Collapse defaultActiveKey={[\"administrative\", \"present-complaint\", \"ask\", \"examination\", \"summary\"]}>\n        <Collapse.Panel header={<strong className=\"uppercase\">i. Hành chính</strong>} key=\"administrative\">\n          <Row gutter={15}>\n            <Col flex=\"0 0 33.33%\">\n              <Form.Item label=\"1. Họ và tên\" name=\"fullname\" initialValue={(emr.patient.first_name + \" \" + emr.patient.last_name).toUpperCase()}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col flex=\"0 0 33.33%\">\n              <Form.Item label=\"2. Sinh ngày\" name=\"dayOfBirth\" initialValue={moment(emr.patient.DOB)}>\n                <DatePicker format=\"DD/MM/YYYY\" style={{ width: '100%' }} />\n              </Form.Item>\n            </Col>\n            <Col flex=\"0 0 33.33%\">\n              <Form.Item label=\"3. Giới tính\" name=\"gender\" initialValue={emr.patient.gender}>\n                <Select>\n                  <Select.Option value=\"Nam\">Nam</Select.Option>\n                  <Select.Option value=\"Nữ\">Nữ</Select.Option>\n                </Select>\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={15}>\n            <Col flex=\"0 0 33.33%\">\n              <Form.Item label=\"4. Nghề nghiệp\" name=\"job\">\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col flex=\"0 0 33.33%\">\n              <Form.Item label=\"5. Dân tộc\" name=\"ethnicity\">\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col flex=\"0 0 33.33%\">\n              <Form.Item label=\"6. Ngoại kiều\" name=\"expatriate\">\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Form.Item label=\"7. Địa chỉ\" name=\"address\">\n            <Input />\n          </Form.Item>\n\n          <Row gutter={15}>\n            <Col flex=\"0 0 50%\">\n              <Form.Item label=\"8. Nơi làm việc\" name=\"workplace\">\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col>\n              <Form.Item label=\"9. Đối tượng\" name=\"object\" initialValue=\"Khác\">\n                <Radio.Group>\n                  <Radio value=\"BHYT\">1. BHYT</Radio>\n                  <Radio value=\"Thu phí\">2. Thu phí</Radio>\n                  <Radio value=\"Miễn phí\">3. Miễn phí</Radio>\n                  <Radio value=\"Khác\">4. Khác</Radio>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={15}>\n            <Col flex=\"0 0 50%\">\n              <Form.Item label=\"10. Giá trị BHYT\" name=\"insurance_expirity\">\n                <DatePicker style={{ width: '100%' }} format=\"DD/MM/YYYY\" />\n              </Form.Item>\n            </Col>\n            <Col flex=\"0 0 50%\">\n              <Form.Item label=\"Số thẻ BHYT\" name=\"insurance_number\">\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={15}>\n            <Col flex=\"0 0 50%\">\n              <Form.Item label=\"11. Họ tên, địa chỉ người nhà khi cần báo tin\" name=\"family_member_and_address\">\n                <Input.TextArea rows={2} />\n              </Form.Item>\n            </Col>\n            <Col flex=\"0 0 50%\">\n              <Form.Item label=\"Điện thoại\" initialValue={emr.patient.phone} name=\"phone\">\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n\n\n          <Form.Item label=\"12. Đến khám bệnh lúc\" initialValue={getDateString(emr.created_at)} name=\"checkin\">\n            <Input readOnly />\n          </Form.Item>\n\n          <Row gutter={15}>\n            <Col flex={1}>\n              <Form.Item label=\"13. Chẩn đoán của nơi giới thiệu\" name=\"previous_diagnose\" initialValue={emr.medical_record.administrative.previous_diagnose}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col>\n              <Form.Item label=\"Nơi giới thiệu\" name=\"come_from\" initialValue={emr.medical_record.administrative.come_from || \"Tự đến\"}>\n                <Radio.Group>\n                  <Radio value=\"Y tế\">1. Y tế</Radio>\n                  <Radio value=\"Tự đến\">2. Tự đến</Radio>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n          </Row>\n\n        </Collapse.Panel>\n        <Collapse.Panel header={<strong className=\"uppercase\">II. Lý do vào viện</strong>} key=\"present-complaint\">\n          <Form.Item label=\"Lý do vào viện\" name=\"present_complaint\" initialValue={emr.medical_record.present_complaint}>\n            <Input />\n          </Form.Item>\n        </Collapse.Panel>\n        <Collapse.Panel header={<strong className=\"uppercase\">iii. hỏi bệnh</strong>} key=\"ask\">\n          <Form.Item label=\"1. Quá trình bệnh lý\" name=\"pathological_process\" initialValue={emr.medical_record.ask.pathological_process}>\n            {/* <Input.TextArea autoSize={{ minRows: 3, maxRows: 7 }} /> */}\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n          <Form.Item label=\"2. Tiền sử bệnh\" name=\"self_medical_history\" className=\"mb-3\" initialValue={emr.medical_record.ask.self_medical_history}>\n            <Input placeholder=\"Bản thân\" />\n          </Form.Item>\n          <Form.Item name=\"family_medical_history\" initialValue={emr.medical_record.ask.family_medical_history}>\n            <Input placeholder=\"Gia đình\" />\n          </Form.Item>\n        </Collapse.Panel>\n        <Collapse.Panel header={<strong className=\"uppercase\">iv. khám bệnh</strong>} key=\"examination\">\n          <Row gutter={15} className=\"flex-no-wrap\">\n            <Col flex={1}>\n              <Form.Item label=\"1. Toàn thân\" name=\"body\" initialValue={emr.medical_record.examination.body}>\n                <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n              </Form.Item>\n            </Col>\n            <Col flex=\"0 0 auto\">\n              <Form.Item label=\"Dấu hiệu sinh tồn\">\n                {/* <div className=\"border border-solid border-gray-400 p-2\"> */}\n                <Form.Item className=\"mb-2\" name=\"heartbeat\" initialValue={emr.medical_record.examination.heartbeat}>\n                  <Input addonBefore={<div style={{ width: 80 }}>Mạch</div>} suffix=\"lần/ph\" />\n                </Form.Item>\n                <Form.Item className=\"mb-2\" name=\"temperature\" initialValue={emr.medical_record.examination.temperature}>\n                  <Input addonBefore={<div style={{ width: 80 }}>Nhiệt độ</div>} suffix=\"°C\" />\n                </Form.Item>\n                <Form.Item className=\"mb-2\" name=\"blood_pressure\" initialValue={emr.medical_record.examination.blood_pressure}>\n                  <Input addonBefore={<div style={{ width: 80 }}>Huyết áp</div>} suffix=\"mmHg\" />\n                </Form.Item>\n                <Form.Item className=\"mb-2\" name=\"breathing\" initialValue={emr.medical_record.examination.breathing}>\n                  <Input addonBefore={<div style={{ width: 80 }}>Nhịp thở</div>} suffix=\"lần/ph\" />\n                </Form.Item>\n                <Form.Item className=\"mb-0\" name=\"weight\" initialValue={emr.medical_record.examination.weight}>\n                  <Input addonBefore={<div style={{ width: 80 }}>Câng nặng</div>} suffix=\"kg\" />\n                </Form.Item>\n                {/* </div> */}\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Form.Item label=\"2. Các bộ phận\" name=\"partials\" initialValue={emr.medical_record.examination.partials}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n          <Form.Item label=\"3. Tóm tắt kết quả cận lâm sàng\" name=\"subclinical_summary\" initialValue={emr.medical_record.examination.subclinical_summary}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n          <Form.Item label=\"4. Chẩn đoán ban đầu\" name=\"initial_diagnose\" initialValue={emr.medical_record.examination.initial_diagnose}>\n            <DiseaseSelect diseaseCategories={diseaseCategories} diseases={diseases} />\n          </Form.Item>\n\n          <div className=\"mb-3\">5. Đã xử lý (thuốc, chăm sóc)</div>\n\n          <Form.List name=\"drugs\">\n            {(fields, { add, remove }) => (\n              <>\n                {\n                  fields.map((field, index) => (\n                    <Row gutter={15} key={field.key} align=\"middle\">\n                      <Col>{index + 1}</Col>\n                      <Col flex=\"0 0 220px\">\n                        <Form.Item\n                          {...field}\n                          label=\"Nhóm thuốc\"\n                          name={[field.name, 'drugCategory']}\n                          fieldKey={[field.fieldKey, 'drugCategory']}\n                          rules={[{ required: true, message: \"Trường này là bắt buộc\" }]}>\n                          <Select onChange={props.handleChangeDrugCategory} showSearch filterOption={(input, option) => {\n                            return option.children.toLowerCase().includes(input.toLowerCase());\n                          }}>\n                            {\n                              drugCategories.map(cat => (\n                                <Option key={cat.id} value={cat.id}>{cat.name}</Option>\n                              ))\n                            }\n                          </Select>\n                        </Form.Item>\n                      </Col>\n                      <Col flex=\"1 0 220px\">\n                        <Form.Item\n                          {...field}\n                          label=\"Thuốc\"\n                          name={[field.name, 'drug']}\n                          fieldKey={[field.fieldKey, 'drug']}\n                          rules={[{ required: true, message: \"Trường này là bắt buộc\" }]}>\n                          <Select loading={drugLoading} showSearch filterOption={(input, option) => {\n                            return option.value.toLowerCase().includes(input.toLowerCase());\n                          }}>\n                            {\n                              drugs.map(drug => (\n                                <Option key={drug.id} value={`${drug.name} ${drug.strength}`}>{drug.name} {drug.strength}</Option>\n                              ))\n                            }\n                          </Select>\n                        </Form.Item>\n                      </Col>\n                      <Col flex=\"0 0 120px\">\n                        <Form.Item\n                          {...field}\n                          name={[field.name, 'drugInstruction']}\n                          fieldKey={[field.fieldKey, 'drugInstruction']}\n                          rules={[{ required: true, message: \"Trường này là bắt buộc\" }]}\n                          label=\"Cách dùng\"\n                          style={{ minWidth: 200 }}>\n                          <Select showSearch filterOption={(input, option) => {\n                            return option.children?.toLowerCase().includes(input.toLowerCase());\n                          }}>\n                            {\n                              drugInstructions.map(ins => (\n                                <Option key={ins.id} value={ins.instruction}>{ins.instruction}</Option>\n                              ))\n                            }\n                          </Select>\n                        </Form.Item>\n                      </Col>\n                      {/* </Row> */}\n                      {/* <Row gutter={15}> */}\n                      {/* <Col flex=\"0 0 80px\">\n                    <Form.Item\n                      {...field}\n                      name={[field.name, 'numberOfDays']}\n                      fieldKey={[field.fieldKey, 'numberOfDays']}\n                      rules={[{ required: true, message: \"Trường này là bắt buộc\" }]}\n                      label=\"Số ngày\">\n                      <Input type=\"number\" />\n                    </Form.Item>\n                  </Col>\n                  <Col flex=\"0 0 80px\">\n                    <Form.Item label=\"Sáng\" name={[field.name, 'morning']}>\n                      <Input type=\"number\" />\n                    </Form.Item>\n                  </Col>\n                  <Col flex=\"0 0 80px\">\n                    <Form.Item label=\"Trưa\" name={[field.name, 'afternoon']}>\n                      <Input type=\"number\" />\n                    </Form.Item>\n                  </Col>\n                  <Col flex=\"0 0 80px\">\n                    <Form.Item label=\"Chiều\" name={[field.name, 'evening']}>\n                      <Input type=\"number\" />\n                    </Form.Item>\n                  </Col>\n                  <Col flex=\"0 0 80px\">\n                    <Form.Item label=\"Tối\" name={[field.name, 'night']}>\n                      <Input type=\"number\" />\n                    </Form.Item>\n                  </Col> */}\n                      <Col flex=\"0 0 80px\">\n                        <Form.Item\n                          {...field}\n                          label=\"Số lượng\"\n                          name={[field.name, 'total']}\n                          fieldKey={[field.fieldKey, 'total']}>\n                          <Input type=\"number\" />\n                        </Form.Item>\n                      </Col>\n                      <Col>\n                        <MinusCircleOutlined onClick={() => remove(field.name)} />\n                      </Col>\n                    </Row>\n                  ))\n\n                }\n                <Form.Item>\n                  <Button type=\"dashed\" block onClick={() => add()} icon={<PlusOutlined />}>Thêm thuốc</Button>\n                </Form.Item>\n              </>\n            )}\n          </Form.List>\n\n          <Form.Item name=\"processed\" initialValue={emr.medical_record.examination.processed}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n          <Form.Item label=\"6. Chẩn đoán khi ra viện\" name=\"diagnose\" initialValue={emr.medical_record.examination.diagnose}>\n            <DiseaseSelect diseaseCategories={diseaseCategories} diseases={diseases} />\n          </Form.Item>\n\n          <Row gutter={15}>\n            <Col>\n              <Form.Item label=\"7. Điều trị ngoại trú từ ngày\" initialValue={moment(emr.created_at)} name=\"from_date\">\n                <DatePicker format=\"DD/MM/YYYY\" />\n              </Form.Item>\n            </Col>\n            <Col>\n              <Form.Item label=\"Đến ngày\" name=\"to_date\" initialValue={moment(emr.medical_record.examination.to_date || new Date(), \"DD/MM/YYYY\")}>\n                <DatePicker format=\"DD/MM/YYYY\" />\n              </Form.Item>\n            </Col>\n          </Row>\n        </Collapse.Panel>\n        <Collapse.Panel header={<strong className=\"uppercase\">tổng kết bệnh án</strong>} key=\"summary\">\n          <Form.Item label=\"1. Quá trình bệnh lý và diễn biến lâm sàng\" name=\"pathological_process_and_clinical_course\" initialValue={emr.medical_record.summary.pathological_process_and_clinical_course}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n          <Form.Item label=\"2. Tóm tắt kết quả xét nghiệm cận lâm sàng có giá trị chẩn đoán\" name=\"valuable_subclinical_summary\" initialValue={emr.medical_record.summary.valuable_subclinical_summary}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n          <Form.Item label=\"3. Chẩn đoán khi ra viện\" className=\"mb-3\">\n            <Form.Item name=\"primary_disease\" initialValue={emr.medical_record.summary.primary_disease}>\n              <DiseaseSelect label=\"Bệnh chính\" diseaseCategories={diseaseCategories} diseases={diseases} />\n            </Form.Item>\n            <Form.Item name=\"sub_disease\" initialValue={emr.medical_record.summary.sub_disease}>\n              <DiseaseSelect label=\"Bệnh phụ (nếu có)\" diseaseCategories={diseaseCategories} diseases={diseases} clearable />\n            </Form.Item>\n          </Form.Item>\n\n\n\n          <Form.Item label=\"4. Phương pháp điều trị\" name=\"treatment_method\" initialValue={emr.medical_record.summary.treatment_method}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n          <Form.Item label=\"5. Tình trạng người bệnh ra viện\" name=\"patient_status\" initialValue={emr.medical_record.summary.patient_status}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n          <Form.Item label=\"6. Hướng điều trị và các chế độ tiếp theo\" name=\"direction_of_treatment\" initialValue={emr.medical_record.summary.direction_of_treatment}>\n            <ReactQuill theme=\"snow\" modules={{ toolbar: quillToolbar }} />\n          </Form.Item>\n\n\n\n          <Row gutter={15} className=\"mb-5\">\n            <Col flex=\"0 0 50%\">\n              <div className=\"mb-3\">Chỉ định dịch vụ</div>\n              <Form.List name=\"services\">\n                {\n                  (fields, { add, remove }) => (\n                    <>\n                      {\n                        fields.map((field, index) => (\n                          <Row gutter={15} key={field.key} align=\"middle\" className=\"mb-5\">\n                            <Col>{index + 1}</Col>\n                            <Col flex={1}>\n                              <Form.Item {...field} name={[field.name, 'name']} fieldKey={[field.fieldKey, 'name']} style={{ margin: 0 }} rules={[{ required: true, message: \"Trường này là bắt buộc\" }]}>\n                                <Select placeholder=\"Chọn dịch vụ\" showSearch filterOption={(input, option) => {\n                                  return option.children.toLowerCase().includes(input.toLowerCase());\n                                }}>\n                                  {\n                                    services.map((service, index) => (\n                                      <Option value={service.name} key={service.id}>\n                                        {service.name}\n                                      </Option>\n                                    ))\n                                  }\n                                </Select>\n                              </Form.Item>\n                            </Col>\n                            <Col>\n                              <MinusCircleOutlined onClick={() => remove(field.name)} />\n                            </Col>\n                          </Row>\n                        ))\n                      }\n                      <Form.Item>\n                        <Button type=\"dashed\" block onClick={() => add()} icon={<PlusOutlined />}>Thêm dịch vụ</Button>\n                      </Form.Item>\n                    </>\n                  )\n                }\n              </Form.List>\n            </Col>\n            <Col flex=\"0 0 50%\">\n              <div className=\"mb-3\">Tệp đính kèm</div>\n              <VisitImagesForm onChange={(e) => props.handleUploadChange(e, emr.id)} fileList={emr.medical_record.summary.attachments || []} />\n            </Col>\n          </Row>\n        </Collapse.Panel>\n      </Collapse>\n\n      <Divider />\n\n\n      <div className=\"text-right\">\n        <Space>\n          {/* <Button danger type=\"default\" size=\"large\" icon={<DeleteOutlined />}>Hủy đơn</Button> */}\n          <Button type=\"default\" size=\"large\" onClick={props.handleSaveEmr} icon={<SaveOutlined />}>Lưu lại</Button>\n          <Button type=\"primary\" size=\"large\" onClick={() => props.handleFinishExamination(emr.id)} loading={finishLoading} icon={<FileDoneOutlined />}>Kết thúc khám</Button>\n        </Space>\n      </div>\n    </Form>\n  )\n}\n\nexport default EMRForm;","import React, { useState, useEffect } from 'react';\nimport {\n  Collapse,\n  PageHeader,\n  message,\n  Divider,\n  Button,\n  Row,\n  Col,\n  Space,\n  Spin,\n  Form,\n  Input,\n  DatePicker,\n  Select,\n  Radio,\n  Tabs,\n  Alert,\n  Modal,\n  BackTop\n} from 'antd';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport VisitImagesForm from 'forms/Visit/VisitImagesForm';\nimport { FileDoneOutlined, SaveOutlined, MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\nimport ReactQuill from 'react-quill';\nimport { quillToolbar } from 'constant/quill';\nimport axios from 'axios';\n\n// APIs\nimport { getServicesAPI } from 'services/user/medical-service.service';\nimport { getDrugCategoryAPI } from 'services/user/drug-category.service';\nimport { getDrugInstructionsAPI } from 'services/user/drug-instruction.service';\nimport { getServicesAPI as adminGetServicesAPI } from 'services/admin/medical-service.service';\nimport { getDrugCategoryAPI as adminGetDrugCategoryAPI } from 'services/admin/drug-category.service';\nimport { getDrugInstructionsAPI as adminGetDrugInstructionsAPI } from 'services/admin/drug-instruction.service';\nimport { getEMRHistoryAPI, updateEMRAPI, completeEMRAPI } from 'services/user/emr.service';\nimport { deleteVisitAPI } from 'services/user/visit.service';\nimport { getDrugsAPI as adminGetDrugsAPI } from 'services/admin/drug.service';\nimport { getDrugsAPI } from 'services/user/drug.service';\nimport { fetchDiseaseCategory } from 'store/actions/disease-category.action';\nimport { fetchDisease } from 'store/actions/disease.action';\nimport DiseaseSelect from 'components/DiseaseSelect/DiseaseSelect';\nimport EMRForm from 'forms/EMRForm/EMRForm';\nimport { requiredRule } from 'constant/formRules';\nimport { LOGIN_URL } from 'constant/apiUrl';\n\nconst { Option } = Select;\nconst { useForm } = Form;\n\nconst ExaminationPage = props => {\n\n  const {\n    user,\n    diseaseCategories,\n    diseases,\n    fetchDiseaseCategory,\n    fetchDisease,\n  } = props;\n\n  const history = useHistory();\n  const params = useParams();\n\n  const [services, setServices] = useState([]);\n  const [drugCategories, setDrugCategories] = useState([]);\n  const [drugs, setDrugs] = useState([]);\n  const [drugInstructions, setDrugInstructions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [emr, setEmr] = useState(null);\n\n  const [drugLoading, setDrugLoading] = useState(false);\n  const [finishLoading, setFinishLoading] = useState(false);\n  const [isSavingEmr, setIsSavingEmr] = useState(false);\n  const [confirmModalShow, setConfirmModalShow] = useState(false);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n\n  const [emrForm] = useForm();\n  const [confirmForm] = useForm();\n\n  async function getServices() {\n    try {\n      let servicesResponse;\n      if (user.role.name === \"admin\") {\n        servicesResponse = await adminGetServicesAPI();\n      } else {\n        servicesResponse = await getServicesAPI()\n      }\n      const servicesData = servicesResponse.data;\n      setServices(servicesData);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function getDrugCategories() {\n    try {\n      let drugCategoryResponse;\n      if (user.role.name === \"admin\") {\n        drugCategoryResponse = await adminGetDrugCategoryAPI();\n      } else {\n        drugCategoryResponse = await getDrugCategoryAPI()\n      }\n      const drugCategoriesData = drugCategoryResponse.data;\n      setDrugCategories(drugCategoriesData);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function getDrugs(drugCategory) {\n    try {\n      setDrugLoading(true);\n      let drugResponse;\n      if (user.role.name === \"admin\") {\n        drugResponse = await adminGetDrugsAPI({ drug_category: drugCategory });\n      } else {\n        drugResponse = await getDrugsAPI({ drug_category: drugCategory })\n      }\n      const drugData = drugResponse.data;\n      setDrugs(drugData);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setDrugLoading(false);\n    }\n  }\n\n  async function getDrugInstructions() {\n    try {\n      let drugInsResponse;\n      if (user.role.name === \"admin\") {\n        drugInsResponse = await adminGetDrugInstructionsAPI();\n      } else {\n        drugInsResponse = await getDrugInstructionsAPI()\n      }\n      const drugInsData = drugInsResponse.data;\n      setDrugInstructions(drugInsData);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function getEmrDetail(emrId) {\n    try {\n      setLoading(true);\n      const emrList = await getEMRHistoryAPI(emrId);\n      const data = emrList.data.data;\n      if (data[0]) {\n        setEmr(data[0]);\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    const emr = params.emr;\n    await Promise.all([\n      getEmrDetail(emr),\n      getServices(),\n      getDrugCategories(),\n      getDrugInstructions(),\n      fetchDisease(),\n      fetchDiseaseCategory()\n    ]);\n  }\n\n  useEffect(() => {\n    if (user) {\n      getInitialData();\n    }\n  }, [user]);\n\n  async function handleChangeDrugCategory(category) {\n    await getDrugs(category);\n  }\n\n  async function confirmPassword(visitId) {\n    try {\n      const values = await confirmForm.validateFields();\n      const email = user.email;\n      const password = values.password;\n      setConfirmLoading(true);\n      const res = await axios.post(LOGIN_URL, { email, password });\n      const data = res.data;\n      if (data.access_token && data.refresh_token) {\n        setConfirmLoading(false);\n        setConfirmModalShow(false);\n        await handleFinishExamination(visitId);\n      }\n    } catch {\n      setConfirmLoading(false);\n    }\n  }\n\n  function handleFinishClick() {\n      setConfirmModalShow(true);\n  }\n\n  async function handleFinishExamination(visitId) {\n    try {\n      setFinishLoading(true);\n      const completeResponse = await completeEMRAPI(visitId);\n      const deleteResponse = await deleteVisitAPI(visitId);\n      history.goBack();\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFinishLoading(false);\n    }\n  }\n\n  async function handleSaveEmr() {\n\n    const values = await emrForm.validateFields();\n\n    // return console.log(values);\n\n    const emrBody = {\n      patient: emr.patient,\n      physician: user,\n      room: emr.room,\n      medical_record: {\n        administrative: {\n          fullname: values.fullname || null,\n          dayOfBirth: values.dayOfBirth?.format('DD/MM/YYYY') || null,\n          gender: values.gender || null,\n          job: values.job || null,\n          ethnicity: values.ethnicity || null,\n          expatriate: values.expatriate || null,\n          address: values.address || null,\n          workplace: values.workplace || null,\n          object: values.object || null,\n          insurance_expirity: values.insurance_expirity?.format('DD/MM/YYYY') || null,\n          insurance_number: values.insurance_number || null,\n          family_member_and_address: values.family_member_and_address || null,\n          phone: values.phone || null,\n          checkin_at: values.checkin || null,\n          previous_diagnose: values.previous_diagnose || null,\n          come_from: values.come_from || null\n        },\n        present_complaint: values.present_complaint || null,\n        ask: {\n          pathological_process: values.pathological_process || null,\n          self_medical_history: values.self_medical_history || null,\n          family_medical_history: values.family_medical_history || null\n        },\n        examination: {\n          heartbeat: values.heartbeat || null,\n          temperature: values.temperature || null,\n          blood_pressure: values.blood_pressure || null,\n          breathing: values.breathing || null,\n          weight: values.weight || null,\n          body: values.body || null,\n          partials: values.partials || null,\n          subclinical_summary: values.subclinical_summary || null,\n          initial_diagnose: {\n            category: values.initial_diagnose?.category || null,\n            disease: values.initial_diagnose?.disease || null,\n          },\n          drugs: values.drugs || null,\n          processed: values.processed || null,\n          diagnose: {\n            category: values.diagnose?.category || null,\n            disease: values.diagnose?.disease || null\n          },\n          from_date: values.from_date?.format('DD/MM/YYYY') || null,\n          to_date: values.to_date?.format('DD/MM/YYYY') || null,\n        },\n        summary: {\n          pathological_process_and_clinical_course: values.pathological_process_and_clinical_course || null,\n          valuable_subclinical_summary: values.valuable_subclinical_summary || null,\n          primary_disease: {\n            category: values.primary_disease?.category || null,\n            disease: values.primary_disease?.disease || null\n          },\n          sub_disease: {\n            category: values.sub_disease?.category || null,\n            disease: values.sub_disease?.disease || null\n          },\n          treatment_method: values.treatment_method || null,\n          patient_status: values.patient_status || null,\n          direction_of_treatment: values.direction_of_treatment || null,\n          services: values.services || null,\n          attachments: emr.medical_record.summary.attachments || null\n        }\n      }\n    }\n    try {\n      setIsSavingEmr(true);\n      await updateEMRAPI(emr.id, emrBody);\n      message.success(\"Lưu bệnh án thành công\");\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsSavingEmr(false);\n    }\n\n\n  }\n\n  async function handleUploadChange({ event, file, fileList }, emrId) {\n\n    if (file && file.status === \"done\") {\n\n      try {\n\n        // Upload image\n        const response = file.response;\n        const fileListElement = { uid: response.url, id: response.url, url: response.url };\n        const cloneEmr = { ...emr };\n        cloneEmr.medical_record.summary.attachments = [...cloneEmr.medical_record.summary.attachments, ...[fileListElement]];\n        // const updateRes = await updateEMRAPI(emrId, cloneEmr);\n        setEmr(cloneEmr);\n        message.success({ content: \"Lưu thành công\" });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    if (file && file.status === \"removed\") {\n      try {\n        const cloneEmr = { ...emr };\n        cloneEmr.medical_record.summary.attachments = fileList;\n        // const updateRes = await updateEMRAPI(emrId, cloneEmr);\n        setEmr(cloneEmr);\n        message.success({ content: \"Lưu thành công\" });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  // useEffect(() => {\n  //   console.log(emr);\n  // }, [emr]);\n\n  return (\n    <>\n      <PageHeader title=\"Bệnh án ngoại trú\" onBack={() => history.goBack()} />\n      {\n        emr ?\n          emr.completed_at === null ?\n            <>\n              <Spin spinning={isSavingEmr || finishLoading}>\n                <EMRForm\n                  emrForm={emrForm}\n                  emr={emr}\n                  diseases={diseases}\n                  diseaseCategories={diseaseCategories}\n                  handleChangeDrugCategory={handleChangeDrugCategory}\n                  drugCategories={drugCategories}\n                  drugLoading={drugLoading}\n                  drugInstructions={drugInstructions}\n                  services={services}\n                  drugs={drugs}\n                  handleUploadChange={handleUploadChange}\n                  handleSaveEmr={handleSaveEmr}\n                  handleFinishExamination={handleFinishClick}\n                  finishLoading={finishLoading} />\n              </Spin>\n              <Modal\n                visible={confirmModalShow}\n                onCancel={() => setConfirmModalShow(false)}\n                onOk={() => confirmPassword(emr.id)}\n                destroyOnClose={true}\n                confirmLoading={confirmLoading}\n                title=\"Xác nhận mật khẩu\">\n                <Form onFinish={() => confirmPassword(emr.id)} form={confirmForm}>\n                  <Form.Item name=\"password\" label=\"Mật khẩu\" rules={[requiredRule()]}>\n                    <Input.Password />\n                  </Form.Item>\n                </Form>\n              </Modal>\n            </>\n            :\n            <Alert message=\"Lỗi\" description={`Bệnh án này đã đóng vào ${moment(emr.created_at).format(\"DD/MM/YYYY HH:mm:ss\")}`} type=\"error\" showIcon />\n          :\n          loading ?\n            <div className=\"py-10 text-center\">\n              <Spin spinning={loading} tip=\"Đang tải bệnh án...\" />\n            </div>\n            :\n            <Alert message=\"Lỗi\" description=\"Không tìm thấy bệnh án\" type=\"error\" showIcon />\n      }\n\n\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  user: state.userState.user,\n  diseaseCategories: state.diseaseCategoryState.diseaseCategories,\n  fetchDiseaseCategoryLoading: state.diseaseCategoryState.fetchLoading,\n  diseases: state.diseaseState.diseases,\n  fetchDiseaseLoading: state.diseaseState.fetchLoading\n})\n\nconst mapDispatchToProps = dispatch => ({\n  fetchDiseaseCategory: (role, query) => dispatch(fetchDiseaseCategory(role, query)),\n  fetchDisease: (role, query) => dispatch(fetchDisease(role, query))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExaminationPage);","import * as actionTypes from '../actionTypes';\nimport axios from 'axios';\nimport {\n  ADMIN_DISEASE_CATEGORY_URL,\n  USER_DISEASE_CATEGORY_URL,\n} from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nfunction createDiseaseCategoryPending() {\n  return {\n    \n  }\n}\n\nfunction createDiseaseCategorySuccess() {\n  return {\n    \n  }\n}\n\nfunction createDiseaseCategoryFailure() {\n  return {\n    \n  }\n}\n\nfunction fetchDiseaseCategoryPending() {\n  return {\n    type: actionTypes.FETCH_DISEASE_CATEGORIES_PENDING\n  }\n}\n\nfunction fetchDiseaseCategorySuccess(data) {\n  return {\n    type: actionTypes.FETCH_DISEASE_CATEGORIES_SUCCESS,\n    payload: data\n  }\n}\n\nfunction fetchDiseaseCategoryFailure() {\n  return {\n    type: actionTypes.FETCH_DISEASE_CATEGORIES_FAILURE\n  }\n}\n\nfunction fetchDiseaseCategoryDetailsPending() {\n  return {\n    \n  }\n}\n\nfunction fetchDiseaseCategoryDetailsSuccess(data) {\n  return {\n    \n  }\n}\n\nfunction fetchDiseaseCategoryDetailsFailure() {\n  return {\n    \n  }\n}\n\nfunction updateDiseaseCategoryPending() {\n  return {\n    \n  }\n}\nfunction updateDiseaseCategorySuccess() {\n  return {\n    \n  }\n}\nfunction updateDiseaseCategoryFailure() {\n  return {\n    \n  }\n}\nfunction deleteDiseaseCategoryPending() {\n  return {\n    \n  }\n}\n\nfunction deleteDiseaseCategorySuccess() {\n  return {\n    \n }\n}\n\nfunction deleteDiseaseCategoryFailure() {\n  return {\n   \n  }\n}\n\n\n\nexport function createDiseaseCategory() {\n  \n  return async dispatch => {\n    try {\n      dispatch()\n\n      return dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}\nexport function fetchDiseaseCategory(role, query) {\n  let endpoint = \"\";\n  if (role === \"admin\") {\n    endpoint = ADMIN_DISEASE_CATEGORY_URL + \"/\";\n  } else {\n    endpoint = USER_DISEASE_CATEGORY_URL + \"/\";\n  }\n\n  if (query) {\n    endpoint += getQueryString(query);\n  }\n\n  return async dispatch => {\n    try {\n      dispatch(fetchDiseaseCategoryPending());\n      const response = await axios.get(endpoint);\n      return dispatch(fetchDiseaseCategorySuccess(response.data));\n    } catch (error) {\n      return dispatch(fetchDiseaseCategoryFailure());\n    }\n  }\n}\nexport function fetchDiseaseCategoryDetails() {\n  \n  return async dispatch => {\n    try {\n      return dispatch()\n\n      dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}\nexport function updateDiseaseCategory() {\n  \n  return async dispatch => {\n    try {\n      dispatch()\n\n      return dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}\nexport function deleteDiseaseCategory() {\n  \n  return async dispatch => {\n    try {\n      dispatch()\n\n      return dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}","import * as actionTypes from '../actionTypes';\nimport axios from 'axios';\nimport {\n  ADMIN_DISEASE_URL,\n  USER_DISEASE_URL,\n} from 'constant/apiUrl';\nimport { getQueryString } from 'utils/string';\n\nfunction createDiseasePending() {\n  return {\n    \n  }\n}\n\nfunction createDiseaseSuccess() {\n  return {\n    \n  }\n}\n\nfunction createDiseaseFailure() {\n  return {\n    \n  }\n}\n\nfunction fetchDiseasePending() {\n  return {\n    type: actionTypes.FETCH_DISEASES_PENDING\n  }\n}\n\nfunction fetchDiseaseSuccess(data) {\n  return {\n    type: actionTypes.FETCH_DISEASES_SUCCESS,\n    payload: data\n  }\n}\n\nfunction fetchDiseaseFailure() {\n  return {\n    type: actionTypes.FETCH_DISEASES_FAILURE\n  }\n}\n\nfunction fetchDiseaseDetailsPending() {\n  return {\n    \n  }\n}\n\nfunction fetchDiseaseDetailsSuccess(data) {\n  return {\n    \n  }\n}\n\nfunction fetchDiseaseDetailsFailure() {\n  return {\n    \n  }\n}\n\nfunction updateDiseasePending() {\n  return {\n    \n  }\n}\nfunction updateDiseaseSuccess() {\n  return {\n    \n  }\n}\nfunction updateDiseaseFailure() {\n  return {\n    \n  }\n}\nfunction deleteDiseasePending() {\n  return {\n    \n  }\n}\n\nfunction deleteDiseaseSuccess() {\n  return {\n    \n }\n}\n\nfunction deleteDiseaseFailure() {\n  return {\n   \n  }\n}\n\n\n\nexport function createDisease() {\n  \n  return async dispatch => {\n    try {\n      dispatch()\n\n      return dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}\nexport function fetchDisease(role, query) {\n  let endpoint = \"\";\n  if (role === \"admin\") {\n    endpoint = ADMIN_DISEASE_URL + \"/\";\n  } else {\n    endpoint = USER_DISEASE_URL + \"/\";\n  }\n\n  if (query) {\n    endpoint += getQueryString(query);\n  }\n\n  return async dispatch => {\n    try {\n      dispatch(fetchDiseasePending());\n      const response = await axios.get(endpoint);\n      return dispatch(fetchDiseaseSuccess(response.data));\n    } catch (error) {\n      return dispatch(fetchDiseaseFailure());\n    }\n  }\n}\nexport function fetchDiseaseDetails() {\n  \n  return async dispatch => {\n    try {\n      return dispatch()\n\n      dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}\nexport function updateDisease() {\n  \n  return async dispatch => {\n    try {\n      dispatch()\n\n      return dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}\nexport function deleteDisease() {\n  \n  return async dispatch => {\n    try {\n      dispatch()\n\n      return dispatch()\n    } catch (error) {\n      return dispatch()\n    }\n  }\n}","import React, { useState, useEffect } from 'react';\nimport { PageHeader, Descriptions, Spin, Table, Space, Button } from 'antd';\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\nimport moment from 'moment';\nimport { EyeOutlined, EditOutlined } from '@ant-design/icons';\n\n// APIs\nimport { getPatientDetailsAPI } from 'services/user/patient.service';\nimport { listEMRAPI } from 'services/user/emr.service';\nimport Circle from 'components/Circle/Circle';\nimport NullPlaceholder from 'components/NullPlaceholder/NullPlaceholder';\n\nconst { Item } = Descriptions;\n\nconst PatientDetails = props => {\n\n  const { goBack } = useHistory();\n  const { params, url } = useRouteMatch();\n  const patientId = params.patientId;\n\n  const [patient, setPatient] = useState(null);\n  const [patientLoading, setPatientLoading] = useState(false);\n  const [EMRs, setEMRs] = useState(null);\n  const [EMRLoading, setEMRLoading] = useState(false);\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (_, __, index) => index + 1\n    },\n    {\n      title: 'Ngày khám bệnh',\n      key: 'date',\n      render: (_, row) => moment(row.Record.created_at).format(\"DD/MM/YYYY\")\n    },\n    {\n      title: 'Bác sĩ khám bệnh',\n      key: 'physician',\n      render: (_, row) => row.Record.physician.first_name + \" \" + row.Record.physician.last_name\n    },\n    {\n      title: 'Phòng khám',\n      key: 'room',\n      render: (_, row) => row.Record.room.name\n    },\n    {\n      title: 'Trạng thái',\n      key: 'status',\n      render: (_, row) => <div className=\"flex items-center\">\n        <Circle color={row.Record.completed_at !== null ? 'success' : ''} />\n        <span className=\"ml-2\">{row.Record.completed_at !== null ? ' Đã đóng' : ' Chưa đóng'}</span>\n      </div>\n    },\n    {\n      title: 'Hành động',\n      key: 'actions',\n      render: (_, row) => <Space>\n        <Link to={`${url}/${row.Key}`}>\n          <Button icon={<EyeOutlined />}>Xem</Button>\n        </Link>\n        {\n          url.includes('/physician') && row.Record.completed_at === null &&\n            <Link to={`/physician/visit/${row.Record.id}`}>\n              <Button icon={<EditOutlined />}>Cập nhật</Button>\n            </Link>\n        }\n      </Space>\n    }\n  ]\n\n  async function getPatientDetails(patientId) {\n    try {\n      setPatientLoading(true);\n      const patientResponse = await getPatientDetailsAPI(patientId);\n      setPatient(patientResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setPatientLoading(false);\n    }\n  }\n\n  async function getPatientEMRs(patientId) {\n    try {\n      setEMRLoading(true);\n      const EMRResponse = await listEMRAPI({ patient_id: patientId });\n      setEMRs(EMRResponse.data.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setEMRLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    await Promise.all([\n      getPatientDetails(patientId),\n      getPatientEMRs(patientId)\n    ])\n  }\n\n  useEffect(() => {\n    getInitialData();\n  }, []);\n\n  return (\n    <>\n      <PageHeader onBack={goBack} title={patient ? patient.first_name + \" \" + patient.last_name : \"Chi tiết bệnh nhân\"} />\n\n      <Spin spinning={patientLoading}>\n        <Descriptions title=\"Thông tin cá nhân\" colon>\n          <Item label=\"Họ và tên\">{patient ? patient.first_name + \" \" + patient.last_name : NullPlaceholder}</Item>\n          <Item label=\"Giới tính\">{patient?.gender || \"Đang tải\"}</Item>\n          <Item label=\"Ngày sinh\">{patient ? moment(patient.DOB).format(\"DD/MM/YYYY\") : NullPlaceholder}</Item>\n          <Item label=\"Điện thoại\">{patient?.phone || NullPlaceholder}</Item>\n          <Item label=\"Địa chỉ\">{patient?.address || NullPlaceholder}</Item>\n        </Descriptions>\n      </Spin>\n\n      <div className=\"ant-descriptions-title mb-3\">Lịch sử khám bệnh</div>\n      <Table rowKey=\"Key\" dataSource={EMRs} loading={EMRLoading} columns={tableColumns} />\n\n    </>\n  )\n}\n\nexport default PatientDetails;","const EmptyPlaceholder = <span className=\"text-gray-600 font-serif italic\">Trống</span>\n\nexport default EmptyPlaceholder;","import { Descriptions, Modal } from 'antd';\nimport EmptyPlaceholder from 'components/EmptyPlaceholder/EmptyPlaceholder';\nimport NullPlaceholder from 'components/NullPlaceholder/NullPlaceholder';\nimport React, { useState } from 'react';\n\nconst { Item } = Descriptions;\n\nconst EmrDesc = props => {\n  const { emr, role } = props;\n  const {\n    medical_record: {\n      administrative: {\n        fullname,\n        dayOfBirth,\n        gender,\n        job,\n        ethnicity,\n        expatriate,\n        address,\n        workplace,\n        object,\n        insurance_expirity,\n        insurance_number,\n        family_member_name,\n        family_member_address,\n        phone,\n        checkin_at,\n        previous_diagnose,\n        come_from\n      },\n      present_complaint,\n      ask: {\n        pathological_process,\n        self_medical_history,\n        family_medical_history\n      },\n      examination: {\n        heartbeat,\n        temperature,\n        blood_pressure,\n        breathing,\n        weight,\n        body,\n        partials,\n        subclinical_summary,\n        initial_diagnose,\n        drugs,\n        processed,\n        diagnose,\n        from_date,\n        to_date\n      },\n      summary: {\n        pathological_process_and_clinical_course,\n        valuable_subclinical_summary,\n        primary_disease,\n        sub_disease,\n        treatment_method,\n        patient_status,\n        direction_of_treatment,\n        services,\n        attachments\n      }\n    }\n  } = emr;\n  const [selectedImage, setSelectedImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  function handleCloseModal() {\n    setSelectedImage('');\n    setShowModal(false);\n  }\n\n  function handleImageClick(url) {\n    setSelectedImage(url);\n    setShowModal(true);\n  }\n\n  return (\n    <div>\n      <div className=\"mb-2\">Phòng khám: {emr.room.name}</div>\n      <div className=\"mb-2\">Cập nhật bởi: bác sĩ <strong>{emr.physician.first_name} {emr.physician.last_name}</strong></div>\n      <Descriptions title=\"I. Hành chính\" size=\"middle\" bordered column={2} className=\"mb-5\">\n        <Item label=\"1. Họ và tên\">{fullname || NullPlaceholder}</Item>\n        <Item label=\"2. Ngày sinh\">{dayOfBirth || NullPlaceholder}</Item>\n        <Item label=\"3. Giới tính\">{gender || NullPlaceholder}</Item>\n        <Item label=\"4. Nghề nghiệp\">{job || NullPlaceholder}</Item>\n        <Item label=\"5. Dân tộc\">{ethnicity || NullPlaceholder}</Item>\n        <Item label=\"6. Ngoại kiều\">{expatriate || NullPlaceholder}</Item>\n        <Item label=\"7. Địa chỉ\" span={2}>{address || NullPlaceholder}</Item>\n        <Item label=\"8. Nơi làm việc\">{workplace || NullPlaceholder}</Item>\n        <Item label=\"9. Đối tượng\">{object || NullPlaceholder}</Item>\n        <Item label=\"10. BHYT giá trị đến ngày\">{insurance_expirity || NullPlaceholder}</Item>\n        <Item label=\"Số thẻ BHYT\">{insurance_number || NullPlaceholder}</Item>\n        <Item label=\"11. Họ tên, địa chỉ người nhà khi cần báo tin\" span={2}>{family_member_name && family_member_address ? `${family_member_name}, ${family_member_address}` : NullPlaceholder}</Item>\n        <Item label=\"Số điện thoại\">{phone || NullPlaceholder}</Item>\n        <Item label=\"12. Đến khám bệnh lúc\">{checkin_at || NullPlaceholder}</Item>\n        <Item label=\"13. Chẩn đoán của nơi giới thiệu\">{previous_diagnose && come_from ? `${previous_diagnose} (${come_from})` : NullPlaceholder}</Item>\n      </Descriptions>\n      {\n        role !== \"patient\" &&\n        <>\n          <Descriptions title=\"II. Lý do vào viện\" bordered size=\"middle\" className=\"mb-5\">\n            <Item label=\"Lý do vào viện\">{present_complaint || EmptyPlaceholder}</Item>\n          </Descriptions>\n\n          <Descriptions title=\"III. Hỏi bệnh\" bordered layout=\"vertical\" column={2} className=\"mb-5\">\n            <Item label=\"1. Quá trình bệnh lý\" span={2}>\n              <div dangerouslySetInnerHTML={{ __html: pathological_process || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n            </Item>\n            <Item label=\"2. Tiền sử bệnh bản thân\">{self_medical_history || \"Chưa cập nhật\"}</Item>\n            <Item label=\"Gia đình\">{family_medical_history || \"Chưa cập nhật\"}</Item>\n          </Descriptions>\n\n          <Descriptions title=\"IV. Khám bệnh\" bordered column={2} layout=\"vertical\" className=\"mb-5\">\n            <Item label=\"1. Toàn thân\" className=\"align-baseline\">\n              <div dangerouslySetInnerHTML={{ __html: body || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n            </Item>\n            <Item label=\"Dấu hiệu sinh tồn\">\n              <div>Mạch: {heartbeat || EmptyPlaceholder} <i className=\"ml-auto\">lần/ph</i></div>\n              <div>Nhiệt độ: {temperature || EmptyPlaceholder} <i className=\"ml-auto\">°C</i></div>\n              <div>Huyết áp: {blood_pressure || EmptyPlaceholder} <i className=\"ml-auto\">mmHg</i></div>\n              <div>Nhịp thở: {breathing || EmptyPlaceholder} <i className=\"ml-auto\">lần/ph</i></div>\n              <div>Cân nặng: {weight || EmptyPlaceholder} <i className=\"ml-auto\">kg</i></div>\n            </Item>\n            <Item label=\"2. Các bộ phận\" span={2} className=\"align-baseline\">\n              <div dangerouslySetInnerHTML={{ __html: partials || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n            </Item>\n            <Item label=\"3. Tóm tắt kết quả cận lâm sàng\" span={2}>\n              <div dangerouslySetInnerHTML={{ __html: subclinical_summary || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n            </Item>\n            <Item label=\"4. Chẩn đoán ban đầu\" span={2}>{initial_diagnose?.disease || NullPlaceholder}</Item>\n            <Item label=\"5. Thuốc\">\n              {\n                drugs?.map((d, index) => {\n                  return <div key={index}>{d.drug} x {d.total} ({d.drugInstruction})</div>\n                }) || NullPlaceholder\n              }\n            </Item>\n            <Item label=\"Đã xử lý\">\n              <div dangerouslySetInnerHTML={{ __html: processed || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n            </Item>\n            <Item label=\"6. Chẩn đoán khi ra viện\" span={2}>{diagnose?.disease || NullPlaceholder}</Item>\n            <Item label=\"7. Điều trị ngoại trú\">{from_date && to_date ? `Từ ngày ${from_date} đến ngày ${to_date}` : NullPlaceholder}</Item>\n          </Descriptions>\n        </>\n      }\n\n      <Descriptions title=\"Tổng kết bệnh án\" bordered layout=\"vertical\" column={2}>\n        <Item label=\"1. Quá trình bệnh lý và diễn biến lâm sàng\" span={2}>\n          <div dangerouslySetInnerHTML={{ __html: pathological_process_and_clinical_course || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n        </Item>\n        <Item label=\"2. Tóm tắt kết quả xét nghiệm cận lâm sàng có giá trị chẩn đoán\" span={2}>\n          <div dangerouslySetInnerHTML={{ __html: valuable_subclinical_summary || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n        </Item>\n        <Item label=\"3. Chẩn đoán ra viện\" span={2}>\n          <div>Bệnh chính: {primary_disease?.disease || \"Không\"}</div>\n          <div>Bệnh kèm theo (nếu có): {sub_disease?.disease || \"Không\"}</div>\n        </Item>\n        <Item label=\"4. Phương pháp điều trị\" span={2}>\n          <div dangerouslySetInnerHTML={{ __html: treatment_method || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n        </Item>\n        <Item label=\"5. Tình trạng người bệnh ra viện\">\n          <div dangerouslySetInnerHTML={{ __html: patient_status || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n        </Item>\n        <Item label=\"6. Hướng điều trị và các chế độ tiếp theo\">\n          <div dangerouslySetInnerHTML={{ __html: direction_of_treatment || \"Chưa cập nhật\" }} className=\"whitespace-pre-line\"></div>\n        </Item>\n        {\n          role !== \"patient\" &&\n          <Item label=\"Dịch vụ\" className=\"align-baseline\">\n            {\n              services?.map((s, i) => (\n                <div key={i}>{i + 1}. {s.name || s.id}</div>\n              )) || EmptyPlaceholder\n            }\n          </Item>\n        }\n        {\n          role !== \"patient\" &&\n          <Item label=\"Tệp đính kèm\">\n            {\n              attachments && attachments.length > 0 && attachments.map((a, i) => (\n                <img src={a.url} key={i} style={{ width: 200 }} onClick={() => handleImageClick(a.url)} />\n              )) || EmptyPlaceholder\n            }\n          </Item>\n        }\n      </Descriptions>\n\n      <Modal\n        visible={showModal}\n        title=\"Hình ảnh\"\n        onOk={handleCloseModal}\n        onCancel={handleCloseModal}>\n        <img src={selectedImage} style={{ width: '100%' }} />\n      </Modal>\n    </div>\n  )\n}\n\nexport default EmrDesc;","import { Empty, PageHeader, Spin, Tabs } from 'antd';\nimport EmrDesc from 'components/EmrDesc/EmrDesc';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { getEMRHistoryAPI } from 'services/user/emr.service';\n\nconst EmrDetailsPage = props => {\n\n  const { goBack } = useHistory();\n  const { params } = useRouteMatch();\n\n  const [emrHistory, setEmrHistory] = useState([]);\n  const [emrLoading, setEmrLoading] = useState(false);\n  const [selectedTab, setSelectedTab] = useState(\"\");\n\n  async function getEmrHistory(emrId) {\n    try {\n      setEmrLoading(true);\n      const res = await getEMRHistoryAPI(emrId);\n      const data = res.data.data;\n      setEmrHistory(data);\n      setSelectedTab(data.completed_at || data.updated_at || data.created_at);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setEmrLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    const emrId = params.emrId;\n    return await Promise.all([\n      getEmrHistory(emrId)\n    ])\n  }\n\n  useEffect(() => {\n    getInitialData();\n  }, []);\n\n  return (\n    <div className=\"bg-white p-3\">\n      <PageHeader onBack={goBack} title=\"Chi tiết bệnh án\" />\n      {\n        emrLoading ?\n          <div className=\"text-center p-5\">\n            <Spin spinning={true} size=\"default\" tip=\"Đang tải chi tiết bệnh án...\" />\n          </div> :\n          emrHistory.length > 0 ?\n            <Tabs defaultActiveKey={selectedTab} onChange={(val) => setSelectedTab(val)}>\n              {\n                emrHistory.map(h => {\n                  return <Tabs.TabPane key={h.completed_at || h.updated_at || h.created_at} tab={h.completed_at || h.updated_at || h.created_at}>\n                    <EmrDesc emr={h} />\n                  </Tabs.TabPane>\n                })\n              }\n            </Tabs>\n            :\n            <Empty />\n      }\n    </div>\n  )\n}\n\nexport default EmrDetailsPage;","import React from 'react';\nimport { Link, Redirect, Switch, Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport {\n  IdcardOutlined,\n  CalendarOutlined,\n  ContainerOutlined,\n  ProfileOutlined,\n  NotificationOutlined} from '@ant-design/icons';\nimport NotificationPage from 'pages/common/notification/notification';\nimport VisitPage from 'pages/common/visit/visit';\nimport PatientPage from 'pages/common/patient/patient';\nimport AppointmentPage from 'pages/common/appointment/apointment';\nimport withPrivateRoute from 'HOCs/withPrivateRoute';\nimport CustomHeader from 'components/Header';\nimport ExaminationPage from 'pages/common/examination/examination';\nimport ProfilePage from 'pages/common/profile/profile';\nimport PatientDetails from 'pages/common/patient/patient-details';\nimport EmrDetailsPage from 'pages/common/patient/emr-details';\n\nconst { Sider, Content } = Layout;\n\nconst PhysicianLayout = () => {\n  const match = useRouteMatch();\n  const location = useLocation();\n  const path = match.path;\n\n  return (\n    <Layout>\n      <CustomHeader />\n      <Layout>\n        <Sider width={200} className=\"site-layout-background\">\n          <Menu\n            mode=\"inline\"\n            style={{ height: '100%', borderRight: 0 }}\n            selectedKeys={[location.pathname]}\n          >\n            <Menu.Item key=\"/physician/visit\" icon={<ContainerOutlined />}>\n              <Link to=\"/physician/visit\">Khám bệnh</Link>\n            </Menu.Item>\n            <Menu.Item className={location.pathname.includes(\"/physician/patient\") && \"ant-menu-item-selected\"} key=\"/physician/patient\" icon={<IdcardOutlined />}>\n              <Link to=\"/physician/patient\">Bệnh nhân</Link>\n            </Menu.Item>\n            {/* <Menu.Item key=\"/physician/appointment\" icon={<CalendarOutlined />}>\n              <Link to=\"/physician/appointment\">Lịch hẹn</Link>\n            </Menu.Item> */}\n            <Menu.Item key=\"/physician/profile\" icon={<ProfileOutlined />}>\n              <Link to=\"/physician/profile\">Hồ sơ</Link>\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Layout style={{ padding: '0 24px 24px' }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              padding: 24,\n              margin: 0,\n              minHeight: 280,\n            }}\n          >\n            <Switch>\n\n              {/* Visit */}\n              <Route path={`${path}/visit`} exact>\n                <VisitPage />\n              </Route>\n\n              <Route path={`${path}/visit/:emr`}>\n                <ExaminationPage />\n              </Route>\n\n              {/* Patient */}\n              <Route path={`${path}/patient`} exact>\n                <PatientPage />\n              </Route>\n              \n              <Route path={`${path}/patient/:patientId`} exact>\n                <PatientDetails />\n              </Route>\n\n              <Route path={`${path}/patient/:patientId/:emrId`}>\n                <EmrDetailsPage />\n              </Route>\n\n              {/* Appointment */}\n              {/* <Route path={`${path}/appointment`}>\n                <AppointmentPage />\n              </Route> */}\n\n              <Route path={`${path}/profile`}>\n                <ProfilePage />\n              </Route>\n\n              {/* Fallback */}\n              <Redirect to={`/physician/visit`} />\n            </Switch>\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default withPrivateRoute(PhysicianLayout, ['physician']);","import React from 'react';\nimport { Form, Input, Row, Col, DatePicker, Radio } from 'antd';\nimport { requiredRule } from 'constant/formRules';\n\nconst PatientForm = props => {\n  const { form, onFinish } = props;\n\n  return (\n    <Form\n      layout=\"vertical\"\n      onFinish={onFinish}\n      form={form}>\n      <Row>\n        <Col flex={1}>\n          <Form.Item label=\"Họ\" name=\"first_name\" rules={[requiredRule()]}>\n            <Input autoFocus />\n          </Form.Item>\n        </Col>\n        <Col flex=\"0 0 15px\"></Col>\n        <Col flex={1}>\n          <Form.Item label=\"Tên\" name=\"last_name\" rules={[requiredRule()]}>\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Form.Item name=\"phone\" label=\"Số điện thoại\" rules={[requiredRule()]}>\n        <Input />\n      </Form.Item>\n      <Row>\n        <Col>\n          <Form.Item name=\"DOB\" label=\"Ngày sinh\" rules={[requiredRule()]}>\n            <DatePicker placeholder=\"Chọn ngày\" />\n          </Form.Item>\n\n        </Col>\n        <Col flex=\"0 0 15px\"></Col>\n        <Col flex={1}>\n          <Form.Item name=\"gender\" label=\"Giới tính\" rules={[requiredRule()]}>\n            <Radio.Group>\n              <Radio value=\"Nam\">Nam</Radio>\n              <Radio value=\"Nữ\">Nữ</Radio>\n              <Radio value=\"Khác\">Khác</Radio>\n            </Radio.Group>\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Row gutter={15}>\n        <Col flex=\"0 0 50%\">\n          <Form.Item name=\"job\" label=\"Nghề nghiệp\">\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col flex=\"0 0 50%\">\n          <Form.Item name=\"workplace\" label=\"Nơi làm việc\">\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Row gutter={15}>\n        <Col flex=\"0 0 50%\">\n          <Form.Item name=\"ethnicity\" label=\"Dân tộc\">\n            <Input />\n          </Form.Item>\n        </Col>\n        <Col flex=\"0 0 50%\">\n          <Form.Item name=\"expatriate\" label=\"Ngoại kiều\">\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Form.Item label=\"Họ và tên người nhà\" name=\"family_member_name\">\n        <Input />\n      </Form.Item>\n\n      <Form.Item label=\"Địa chỉ\" name=\"address\">\n        <Input.TextArea autoSize={{ minRows: 2 }} />\n      </Form.Item>\n\n      <Form.Item label=\"Địa chỉ người nhà\" name=\"family_member_address\">\n        <Input.TextArea autoSize={{ minRows: 2 }} />\n      </Form.Item>\n\n    </Form>\n  )\n}\n\nexport default PatientForm;","import React, { useState, useEffect } from 'react';\nimport { Input, Table, Form, PageHeader, Button, Modal, Menu, Dropdown, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport PatientForm from 'forms/PatientForm/PatientForm';\n\n// APIs\nimport { getRoomAPI } from 'services/user/room.service';\nimport { createVisitAPI } from 'services/user/visit.service';\nimport { listAllPatientsAPI, createPatientAPI } from 'services/user/patient.service';\nimport { addBlockChainUserAPI } from 'services/user/user.service';\n\nconst ReceivePage = props => {\n\n  const [patientData, setPatientData] = useState(null);\n  const [patientLoading, setPatientLoading] = useState(false);\n  const [rooms, setRooms] = useState(null);\n  const [roomLoading, setRoomLoading] = useState(false);\n  const [roomModalVisible, setRoomModalVisible] = useState(false);\n  const [isCreatingPatient, setCreatingPatient] = useState(false);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [isCreatingVisit, setCreatingVisit] = useState(false);\n  const [patientForm] = Form.useForm();\n\n  function renderMenu(patient) {\n    return (\n      <Menu>\n        {\n          rooms?.map(room => (\n            <Menu.Item key={room.id} onClick={() => handleCreateVisit(patient, room)}>Phòng {room.name}</Menu.Item>\n          ))\n        }\n      </Menu>\n    )\n  }\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: 'index',\n      render: (text, record, index) => index + 1\n    },\n    {\n      title: 'Họ và tên',\n      key: 'fullname',\n      render: (text, { first_name, last_name }) => first_name + ' ' + last_name\n    },\n    {\n      title: 'Giới tính',\n      key: 'gender',\n      dataIndex: 'gender'\n    },\n    {\n      title: 'Ngày sinh',\n      key: 'DOB',\n      dataIndex: 'DOB'\n    },\n    {\n      title: 'Điện thoại',\n      key: 'phone',\n      dataIndex: 'phone'\n    },\n    {\n      title: 'Hành động',\n      key: 'action',\n      render: (text, record) => (\n        <Dropdown overlay={renderMenu(record)} overlayStyle={{ minWidth: 200 }} trigger=\"click\">\n          <Button>Tiếp nhận</Button>\n        </Dropdown>\n      )\n    }\n  ]\n\n\n  //\n  // Load initial data\n  //\n  async function listAllPatients(search) {\n    try {\n      setPatientLoading(true);\n      const patientResponse = await listAllPatientsAPI(search);\n      setPatientData(patientResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setPatientLoading(false);\n    }\n  }\n\n  async function getRooms() {\n    try {\n      setRoomLoading(true);\n      const roomResponse = await getRoomAPI();\n      setRooms(roomResponse.data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setRoomLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    await Promise.all([\n      listAllPatients(),\n      getRooms()\n    ])\n  }\n\n  useEffect(() => {\n    getInitialData();\n  }, []);\n\n  //\n  // Component functions\n  //\n  function handleAddClick() {\n    setModalVisible(true);\n  }\n\n  function handleCloseModal() {\n    setModalVisible(false);\n  }\n\n  function handleSearch(values) {\n    listAllPatients(values.search);\n  }\n\n  async function handleSubmit() {\n    try {\n      setCreatingPatient(true);\n      const values = await patientForm.validateFields();\n      values.DOB = values.DOB.format('YYYY-MM-DD');\n      const createResponse = await createPatientAPI(values);\n      const userId = createResponse.data.id;\n      await addBlockChainUserAPI(userId, \"patient\");\n      message.success(\"Tạo bệnh nhân thành công\");\n      setModalVisible(false);\n      await listAllPatients();\n      // await addBlockChainUserAPI(\"4f31587e-40cc-43a9-a3bf-a7e5fa731955\", \"patient\");\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setCreatingPatient(false);\n    }\n  }\n\n  async function handleCreateVisit(patient, room) {\n    try {\n      setCreatingVisit(true);\n      await createVisitAPI({ patientId: patient.id, roomId: room.id });\n      message.success(`Đã tiếp nhận bệnh nhân ${patient.first_name} ${patient.last_name} vào ${room.name}`);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setCreatingVisit(false);\n    }\n  }\n\n  return (\n    <>\n      <PageHeader\n        title=\"Tiếp nhận bệnh nhân\"\n        className=\"pl-0\"\n        extra={<Button type=\"primary\" onClick={handleAddClick} icon={<PlusOutlined />}>Bệnh nhân mới</Button>} />\n\n      <Form onFinish={handleSearch}>\n        <Form.Item name=\"search\">\n          <Input.Search size=\"large\" placeholder=\"Tìm kiếm bệnh nhân theo tên/SĐT\" />\n        </Form.Item>\n      </Form>\n      <Table\n        rowKey=\"id\"\n        dataSource={patientData?.results}\n        loading={patientLoading || isCreatingVisit}\n        columns={tableColumns} />\n      <Modal\n        visible={modalVisible}\n        confirmLoading={isCreatingPatient}\n        onCancel={handleCloseModal}\n        onOk={handleSubmit}\n        destroyOnClose={true}\n        title=\"Bệnh nhân mới\">\n        <PatientForm form={patientForm} onFinish={handleSubmit} />\n      </Modal>\n    </>\n  )\n}\n\nexport default ReceivePage;","import React from 'react';\nimport { Link, Redirect, Switch, Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport {\n  UserOutlined,\n  DashboardOutlined,\n  CalendarOutlined,\n} from '@ant-design/icons';\nimport AppointmentPage from 'pages/common/appointment/apointment';\nimport withPrivateRoute from 'HOCs/withPrivateRoute';\nimport CustomHeader from 'components/Header';\nimport ReceivePage from 'pages/receptionist/receive';\nimport ProfilePage from 'pages/common/profile/profile';\n\nconst { Sider, Content } = Layout;\n\nconst ReceptionistLayout = () => {\n  const match = useRouteMatch();\n  const location = useLocation();\n  const path = match.path;\n\n  return (\n    <Layout>\n      <CustomHeader />\n      <Layout>\n        <Sider width={200} className=\"site-layout-background\">\n          <Menu\n            mode=\"inline\"\n            style={{ height: '100%', borderRight: 0 }}\n            selectedKeys={[location.pathname]}\n          >\n            <Menu.Item key=\"/receptionist/receive\" icon={<DashboardOutlined />}>\n              <Link to=\"/receptionist/receive\">Tiếp nhận bệnh</Link>\n            </Menu.Item>\n            {/* <Menu.Item key=\"/receptionist/appointment\" icon={<CalendarOutlined />}>\n              <Link to=\"/receptionist/appointment\">Lịch hẹn</Link>\n            </Menu.Item> */}\n\n            <Menu.Item key=\"/receptionist/profile\" icon={<UserOutlined />}>\n              <Link to=\"/receptionist/profile\">Hồ sơ</Link>\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Layout style={{ padding: '0 24px 24px' }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              padding: 24,\n              margin: 0,\n              minHeight: 280,\n            }}\n          >\n            <Switch>\n              {/* Dashboard */}\n              <Route path={`${path}/receive`}>\n                <ReceivePage />\n              </Route>\n\n              {/* Appointment */}\n              {/* <Route path={`${path}/appointment`}>\n                <AppointmentPage />\n              </Route> */}\n\n              <Route path={`${path}/profile`}>\n                <ProfilePage />\n              </Route>\n\n              {/* Fallback */}\n              <Redirect to={`/receptionist/receive`} />\n            </Switch>\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default withPrivateRoute(ReceptionistLayout, ['receptionist']);","import React from 'react';\n\nconst EmailIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" id=\"Capa_1\" enableBackground=\"new 0 0 512 512\" height=\"50\" viewBox=\"0 0 512 512\" width=\"50\"><g><g><path d=\"m497 15.243h-482c-8.284 0-15 6.716-15 15v330c0 8.284 6.716 15 15 15h121.019c-.006.505-.019 1.008-.019 1.515 0 66.168 53.832 120 120 120s120-53.832 120-120c0-.506-.013-1.01-.019-1.515h121.019c8.284 0 15-6.716 15-15v-330c0-8.285-6.716-15-15-15zm-43.122 30-197.878 147.792-197.878-147.792zm-197.878 421.514c-49.626 0-90-40.374-90-90s40.374-90 90-90 90 40.374 90 90-40.374 90-90 90zm226-121.514h-110.208c-13.876-50.929-60.527-88.485-115.792-88.485-55.266 0-101.916 37.557-115.792 88.485h-110.208v-283.56l217.024 162.092c2.662 1.988 5.819 2.982 8.976 2.982s6.314-.994 8.976-2.982l217.024-162.092zm-191.606 5.908-49.394 49.393-19.394-19.393c-5.857-5.858-15.355-5.858-21.213 0s-5.858 15.355 0 21.213l30 30c2.929 2.929 6.768 4.394 10.606 4.394s7.678-1.464 10.606-4.394l60-60c5.858-5.858 5.858-15.355 0-21.213-5.856-5.859-15.354-5.859-21.211 0z\" fill=\"currentColor\" /></g></g></svg>\n)\n\nexport default EmailIcon;","import React, { useState, useEffect } from 'react';\nimport EmailIcon from 'components/Icons/EmailIcon';\nimport Icon from '@ant-design/icons';\nimport { Alert, Button, Space, Spin } from 'antd';\nimport { Link, useLocation } from 'react-router-dom';\nimport { verifyEmailAPI } from 'services/auth/auth.service';\n\nconst VerifyPage = (props) => {\n\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n  const { search } = useLocation();\n  const urlSearchParams = new URLSearchParams(search);\n  const token = urlSearchParams.get('token');\n\n  function isValidToken(token = \"\") {\n    const isValid = /[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*/.test(token);\n    console.log(isValid);\n    return isValid;\n  }\n\n  async function verifyEmail(token) {\n    try {\n      setLoading(true);\n      await verifyEmailAPI(token);\n      setSuccess(true);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if (token && token.length > 0 && isValidToken(token)) {\n      verifyEmail(token);\n    }\n  }, [search, token]);\n\n  return (\n    <main className=\"login-page\">\n      <div className=\"auth\">\n        <div className=\"auth__header text-center\">\n          <Icon component={EmailIcon} />\n          <h1 className=\"text-3xl\">Xác thực email</h1>\n        </div>\n\n        {\n          loading &&\n          <Space align=\"center\" className=\"flex text-center justify-center\">\n            <Spin />\n            <span>Vui lòng đợi</span>\n          </Space>\n        }\n\n        {\n          success &&\n          <Alert\n            showIcon\n            type=\"success\"\n            message=\"Xác thực địa chỉ email thành công\"\n          />\n        }\n\n        {\n          !isValidToken(token) &&\n          <Alert\n            showIcon\n            type=\"error\"\n            message=\"URL không hợp lệ\"\n          />\n        }\n\n        {\n          !!error &&\n          <Alert\n            showIcon\n            type=\"error\"\n            message={error?.response?.data.message || \"Có lỗi khi xác thực email, vui lòng thử lại\"}\n          />\n        }\n\n        <div className=\"text-center mt-5\">\n          <Button type=\"link\">\n            <Link to=\"/\">Về trang chủ</Link>\n          </Button>\n        </div>\n      </div>\n    </main>\n  )\n}\n\nexport default VerifyPage;","import { NODE_URL } from \"constant/apiUrl\";\nimport axios from 'axios';\n\n\nconst endpointPrefix = `${NODE_URL}/patient/emrs`;\n\nexport function listAllEmrs() {\n  const url = `${endpointPrefix}/`;\n  return axios.get(url);\n}\n\nexport function getEMRHistoryAPI(emrId) {\n  const url = `${endpointPrefix}/${emrId}`;\n  return axios.get(url);\n}","import { Button, Space, Table } from 'antd';\nimport React, { useState, useEffect } from 'react';\nimport { listAllEmrs } from 'services/patient/emr.service';\nimport moment from 'moment';\nimport Circle from 'components/Circle/Circle';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { EyeOutlined } from '@ant-design/icons';\n\nconst PatientEmrPage = props => {\n\n  const { url } = useRouteMatch();\n  const [emrs, setEmrs] = useState(null);\n  const [emrLoading, setEmrLoading] = useState(false);\n\n  const tableColumns = [\n    {\n      title: '#',\n      key: '#',\n      render: (_, __, index) => index + 1\n    },\n    {\n      title: 'Ngày khám bệnh',\n      key: 'date',\n      render: (_, row) => moment(row.Record.created_at).format(\"DD/MM/YYYY\")\n    },\n    {\n      title: 'Bác sĩ khám bệnh',\n      key: 'physician',\n      render: (_, row) => row.Record.physician.first_name + \" \" + row.Record.physician.last_name\n    },\n    {\n      title: 'Phòng khám',\n      key: 'room',\n      render: (_, row) => row.Record.room.name\n    },\n    {\n      title: 'Trạng thái',\n      key: 'status',\n      render: (_, row) => <div className=\"flex items-center\">\n        <Circle color={row.Record.completed_at !== null ? 'success' : ''} />\n        <span className=\"ml-2\">{row.Record.completed_at !== null ? ' Đã đóng' : ' Chưa đóng'}</span>\n      </div>\n    },\n    {\n      title: 'Hành động',\n      key: 'actions',\n      render: (_, row) => <Space>\n        <Link to={`${url}/${row.Key}`}>\n          <Button icon={<EyeOutlined />}>Xem</Button>\n        </Link>\n      </Space>\n    }\n  ]\n\n  async function getEmrs() {\n    try {\n      setEmrLoading(true);\n      const res = await listAllEmrs();\n      const data = res.data.data;\n      setEmrs(data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setEmrLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    return await Promise.all([\n      getEmrs()\n    ])\n  }\n\n  useEffect(() => {\n    getInitialData();\n  }, [])\n\n  return (\n    <>\n      <h1 className=\"text-xl\">Lịch sử khám bệnh</h1>\n      <Table rowKey=\"Key\" dataSource={emrs} loading={emrLoading} columns={tableColumns} />\n    </>\n  )\n}\n\nexport default PatientEmrPage;","import { Empty, PageHeader, Spin, Tabs } from 'antd';\nimport EmrDesc from 'components/EmrDesc/EmrDesc';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { getEMRHistoryAPI } from 'services/patient/emr.service';\n\nconst PatientEmrDetailsPage = props => {\n\n  const { goBack } = useHistory();\n  const { params } = useRouteMatch();\n\n  const [emrHistory, setEmrHistory] = useState([]);\n  const [emrLoading, setEmrLoading] = useState(false);\n  const [selectedTab, setSelectedTab] = useState(\"\");\n\n  async function getEmrHistory(emrId) {\n    try {\n      setEmrLoading(true);\n      const res = await getEMRHistoryAPI(emrId);\n      const data = res.data.data;\n      setEmrHistory(data);\n      setSelectedTab(data.completed_at || data.updated_at || data.created_at);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setEmrLoading(false);\n    }\n  }\n\n  async function getInitialData() {\n    const emrId = params.emrId;\n    return await Promise.all([\n      getEmrHistory(emrId)\n    ])\n  }\n\n  useEffect(() => {\n    getInitialData();\n  }, []);\n\n  return (\n    <div className=\"bg-white p-3\">\n      <PageHeader onBack={goBack} title=\"Tóm tắt bệnh án\" />\n      {\n        emrLoading ? <Spin spinning={true} /> :\n          emrHistory.length > 0 ?\n            <Tabs defaultActiveKey={selectedTab} onChange={(val) => setSelectedTab(val)}>\n              {\n                emrHistory.map(h => {\n                  return <Tabs.TabPane key={h.completed_at || h.updated_at || h.created_at} tab={h.completed_at || h.updated_at || h.created_at}>\n                    <EmrDesc role=\"patient\" emr={h} />\n                  </Tabs.TabPane>\n                })\n              }\n            </Tabs>\n            :\n            <Empty />\n      }\n    </div>\n  )\n}\n\nexport default PatientEmrDetailsPage;","import React from 'react';\nimport { Link, Redirect, Switch, Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport {\n  UserOutlined,\n  DashboardOutlined,\n  CalendarOutlined,\n} from '@ant-design/icons';\nimport withPrivateRoute from 'HOCs/withPrivateRoute';\nimport CustomHeader from 'components/Header';\nimport ProfilePage from 'pages/common/profile/profile';\nimport PatientEmrPage from 'pages/patient/emr';\nimport PatientEmrDetailsPage from 'pages/patient/patient-emr-details';\n\nconst { Sider, Content } = Layout;\n\nconst PatientLayout = () => {\n  const match = useRouteMatch();\n  const location = useLocation();\n  const path = match.path;\n\n  return (\n    <Layout>\n      <CustomHeader />\n      <Layout>\n        <Sider width={200} className=\"site-layout-background\">\n          <Menu\n            mode=\"inline\"\n            style={{ height: '100%', borderRight: 0 }}\n            selectedKeys={[location.pathname]}\n          >\n            <Menu.Item key=\"/patient/emr\" icon={<DashboardOutlined />}>\n              <Link to=\"/patient/emr\">Bệnh án</Link>\n            </Menu.Item>\n\n            <Menu.Item key=\"/patient/profile\" icon={<UserOutlined />}>\n              <Link to=\"/patient/profile\">Hồ sơ</Link>\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Layout style={{ padding: '0 24px 24px' }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              padding: 24,\n              margin: 0,\n              minHeight: 280,\n            }}\n          >\n            <Switch>\n              {/* Dashboard */}\n              <Route path={`${path}/emr`} exact>\n                <PatientEmrPage />\n              </Route>\n\n              <Route path={`${path}/emr/:emrId`}>\n                <PatientEmrDetailsPage />\n              </Route>\n\n              <Route path={`${path}/profile`}>\n                <ProfilePage />\n              </Route>\n\n              {/* Fallback */}\n              <Redirect to={`/patient/emr`} />\n            </Switch>\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default withPrivateRoute(PatientLayout, ['patient']);","import React from 'react';\nimport MDSpinner from 'react-md-spinner';\n\nconst Spinner = props => {\n  return (\n    <MDSpinner singleColor=\"#1890ff\" />\n  )\n}\n\nexport default Spinner;","import React, { useEffect } from 'react';\nimport { Route, HashRouter as Router, Switch, Redirect  } from 'react-router-dom';\nimport LoginPage from 'pages/login';\nimport Cookie from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\nimport AdminLayout from 'layouts/AdminLayout/AdminLayout';\nimport PhysicianLayout from 'layouts/PhysicianLayout/PhysicianLayout';\nimport ReceptionistLayout from 'layouts/ReceptionistLayout/ReceptionistLayout';\nimport setupInterceptor from 'utils/interceptor';\nimport { useDispatch } from 'react-redux';\nimport { getProfileAction } from 'store/actions/user.action';\nimport { refreshToken } from 'services/auth/auth.service';\nimport moment from 'moment';\nimport 'moment/locale/vi';\n\n// import \"normalize.css/normalize.css\";\n// import \"@blueprintjs/core/lib/css/blueprint.css\";\n// import \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\nimport 'antd/dist/antd.css';\nimport 'react-quill/dist/quill.snow.css';\n// import 'react-quill/dist/quill.bubble.css';\n// import 'react-quill/dist/quill.core.css';\nimport 'styles/main.scss';\nimport VerifyPage from 'pages/verify-email';\nimport PatientLayout from 'layouts/PatientLayout/PatientLayout';\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport Spinner from 'components/Spinner/Spinner';\n\nmoment.locale('vi');\n\nconst loadingIcon = <LoadingOutlined style={{fontSize: 24}} />\nSpin.setDefaultIndicator(<Spinner />);\n\n\nfunction App() {\n\n  setupInterceptor();\n\n  const dispatch = useDispatch();\n\n  function fetchProfile() {\n    try {\n      const token = Cookie.get('EMR_token');\n      if (token && jwtDecode(token)) {\n        dispatch(getProfileAction());\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function checkRefresh() {\n    try {\n      const token = Cookie.get('EMR_token');\n      const refresh = Cookie.get('EMR_refresh');\n      if (!token && refresh) {\n        const newTokenReponse = await refreshToken(refresh);\n        const newToken = newTokenReponse.data;\n        Cookie.set('EMR_token', newToken.access_token, { expires: 3/24 });\n      }\n      fetchProfile();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  useEffect(() => {\n    checkRefresh();\n  });\n  \n  return (\n    <div className=\"app\">\n      <Router>\n        <Switch>\n          <Route path=\"/login\" component={LoginPage} />\n          <Route path=\"/verify-email\" component={VerifyPage} />\n\n          <Route path=\"/admin\" component={AdminLayout} />\n          <Route path=\"/physician\" component={PhysicianLayout} />\n          <Route path=\"/receptionist\" component={ReceptionistLayout} />\n          <Route path=\"/patient\" component={PatientLayout} />\n\n          <Redirect to=\"/login\" />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import axios from 'axios';\nimport { message } from 'antd';\nimport Cookie from 'js-cookie';\nimport * as AuthService from 'services/auth/auth.service';\nimport jwtDecode from 'jwt-decode';\nimport { API_URL } from 'constant/apiUrl';\n\nexport default function setupInterceptor() {\n  axios.interceptors.request.use((config) => {\n\n    try {\n      const token = Cookie.get('EMR_token');\n      if (token && jwtDecode(token)) {\n        config.headers['Authorization'] = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.log({ error });\n    }\n    return config;\n  }, (error) => Promise.reject(error));\n\n  axios.interceptors.response.use(((res) => {\n    return res;\n  }), async (error) => {\n    const originalRequest = error.config;\n\n    if (error.response.status === 401 && !originalRequest._retry && originalRequest.url !== `${API_URL}/auth/refresh-token/`) {\n      Cookie.remove(\"EMR_token\");\n\n      originalRequest._retry = true;\n\n      let refreshToken = Cookie.get('EMR_refresh');\n\n      if (refreshToken && refreshToken.length > 0) {\n        try {\n          const refreshResponse = await AuthService.refreshToken(refreshToken);\n          const newToken = refreshResponse.data.access_token;\n          Cookie.set('EMR_token', newToken);\n\n          const config = error.config;\n          config.headers['Authorization'] = `Bearer ${newToken}`;\n\n          return new Promise((resolve, reject) => {\n            return axios.request(config)\n              .then(res => resolve(res))\n              .catch(error => reject(error))\n          })\n        } catch (error) {\n          Cookie.remove(\"EMR_refresh\");\n          return Promise.reject(error);\n        }\n      }\n    } else {\n      // Do not show error alert on veirfy email page because it already have its own error messages\n      if (!originalRequest.url.includes('/api/auth/verify-email')) {\n        const errorMessage = error.response?.data.message || \"Unexpected error occurred\";\n        message.error(errorMessage);\n      }\n\n    }\n\n    return Promise.reject(error);\n  })\n}","import * as actionTypes from '../actionTypes';\n\nconst initialState = {\n  loginLoading: false\n}\n\nexport default function authReducer (state = initialState, action) {\n  switch(action.type) {\n    case actionTypes.LOGIN_PENDING:\n      return {\n        ...state,\n        loginLoading: true\n      }\n\n    case actionTypes.LOGIN_SUCCESS:\n      return {\n        ...state,\n        loginLoading: false\n      }\n\n    case actionTypes.LOGIN_FAILURE:\n      return {\n        ...state,\n        loginLoading: false\n      }\n\n    default:\n      return {\n        ...state\n      }\n  }\n}","import * as actionTypes from '../actionTypes';\n\nconst initialState = {\n  statistic: null,\n  fetchLoading: false\n}\n\nexport default function dashboardReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.FETCH_DASHBOARD_PENDING:\n      return {\n        ...state,\n        fetchLoading: true\n      }\n    case actionTypes.FETCH_DASHBOARD_SUCCESS:\n      return {\n        ...state,\n        fetchLoading: false,\n        statistic: action.payload\n      }\n    case actionTypes.FETCH_DASHBOARD_FAILURE:\n      return {\n        ...state,\n        fetchLoading: false\n      }\n    default:\n      return {\n        ...state\n      }\n  }\n}","import * as actionTypes from '../actionTypes';\n\nconst initialState = {\n  diseaseCategories: [],\n  createLoading: false,\n  fetchLoading: false,\n  detailsLoading: false,\n  updateLoading: false,\n  deleteLoading: false\n}\n\nexport default function diseaseCategoryReducer(state = initialState, action) {\n  switch (action.type) {\n    // fetch all\n    case actionTypes.FETCH_DISEASE_CATEGORIES_PENDING:\n      return {\n        ...state,\n        fetchLoading: true\n      }\n    case actionTypes.FETCH_DISEASE_CATEGORIES_SUCCESS:\n      return {\n        ...state,\n        fetchLoading: false,\n        diseaseCategories: action.payload\n      }\n    case actionTypes.FETCH_DISEASE_CATEGORIES_FAILURE:\n      return {\n        ...state,\n        fetchLoading: false,\n      }\n    // Default\n    default:\n      return {\n        ...state\n      }\n  }\n}","import * as actionTypes from '../actionTypes';\n\nconst initialState = {\n  diseases: null,\n  createLoading: false,\n  fetchLoading: false,\n  detailsLoading: false,\n  updateLoading: false,\n  deleteLoading: false\n}\n\nexport default function diseaseReducer(state = initialState, action) {\n  switch (action.type) {\n    // fetch all\n    case actionTypes.FETCH_DISEASES_PENDING:\n      return {\n        ...state,\n        fetchLoading: true\n      }\n    case actionTypes.FETCH_DISEASES_SUCCESS:\n      return {\n        ...state,\n        fetchLoading: false,\n        diseases: action.payload\n      }\n    case actionTypes.FETCH_DISEASES_FAILURE:\n      return {\n        ...state,\n        fetchLoading: false,\n      }\n    // Default\n    default:\n      return {\n        ...state\n      }\n  }\n}","import * as actionTypes from '../actionTypes';\n\nconst initialState = {\n  drugCategories: null,\n  drugCategoryDetails: null,\n  createLoading: false,\n  fetchLoading: false,\n  detailsLoading: false,\n  updateLoading: false,\n  deleteLoading: false\n}\n\nexport default function drugCategoryReducer(state = initialState, action) {\n  switch (action.type) {\n    // Create drug category\n    case actionTypes.CREATE_DRUG_CATEGORY_PENDING:\n      return {\n        ...state,\n        createLoading: true\n      }\n    case actionTypes.CREATE_DRUG_CATEGORY_SUCCESS:\n    case actionTypes.CREATE_DRUG_CATEGORY_FAILURE:\n      return {\n        ...state,\n        createLoading: false\n      }\n    // Drug categories\n    case actionTypes.FETCH_DRUG_CATEGORIES_PENDING:\n      return {\n        ...state,\n        fetchLoading: true,\n      }\n    case actionTypes.FETCH_DRUG_CATEGORIES_SUCCESS:\n      return {\n        ...state,\n        fetchLoading: false,\n        drugCategories: action.payload\n      }\n    case actionTypes.FETCH_DRUG_CATEGORIES_FAILURE:\n      return {\n        ...state,\n        fetchLoading: false,\n      }\n\n    // Drug category details\n    case actionTypes.FETCH_DRUG_CATEGORY_DETAILS_PENDING:\n      return {\n        ...state,\n        detailsLoading: true,\n      }\n    case actionTypes.FETCH_DRUG_CATEGORY_DETAILS_SUCCESS:\n      return {\n        ...state,\n        drugCategoryDetails: action.payload,\n        detailsLoading: false,\n      }\n    case actionTypes.FETCH_DRUG_CATEGORY_DETAILS_FAILURE:\n      return {\n        ...state,\n        detailsLoading: false,\n      }\n    // Update drug category\n    case actionTypes.UPDATE_DRUG_CATEGORY_PENDING:\n      return {\n        ...state,\n        updateLoading: true\n      }\n    case actionTypes.UPDATE_DRUG_CATEGORY_SUCCESS:\n    case actionTypes.UPDATE_DRUG_CATEGORY_FAILURE:\n      return {\n        ...state,\n        updateLoading: false\n      }\n    // Delete drug category\n    case actionTypes.DELETE_DRUG_CATEGORY_PENDING:\n      return {\n        ...state,\n        deleteLoading: true\n      }\n    case actionTypes.DELETE_DRUG_CATEGORY_SUCCESS:\n    case actionTypes.DELETE_DRUG_CATEGORY_FAILURE:\n      return {\n        ...state,\n        deleteLoading: false\n      }\n    default:\n      return {\n        ...state\n      }\n  }\n}","import * as actionTypes from '../actionTypes';\n\nconst initialState = {\n  user: null,\n  getProfileLoading: false,\n}\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.GET_PROFILE_PENDING:\n      return {\n        ...state,\n        user: null,\n        getProfileLoading: true\n      }\n    case actionTypes.GET_PROFILE_SUCCESS:\n      return {\n        ...state,\n        user: action.payload,\n        getProfileLoading: false\n      }\n    case actionTypes.GET_PROFILE_FAILURE:\n      return {\n        ...state,\n        user: null,\n        getProfileLoading: false\n      }\n    \n    case actionTypes.LOGOUT:\n      return {\n        ...state,\n        user: null,\n        getProfileLoading: false\n      }\n    default:\n      return { ...state }\n  }\n}","import { combineReducers } from 'redux';\nimport authReducer from './reducers/auth.reducer';\nimport dashboardReducer from './reducers/dashboard.reducer';\nimport diseaseCategoryReducer from './reducers/disease-category.reducer';\nimport diseaseReducer from './reducers/disease.reducer';\nimport drugCategoryReducer from './reducers/drug-category.reducer';\nimport userReducer from './reducers/user.reducer';\n\nconst rootReducer = combineReducers({\n  dashboardState: dashboardReducer,\n  userState: userReducer,\n  authState: authReducer,\n  drugCategoryState: drugCategoryReducer,\n  diseaseCategoryState: diseaseCategoryReducer,\n  diseaseState: diseaseReducer\n})\n\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from 'redux';\nimport rootReducer from './rootReducer';\nimport thunk from 'redux-thunk';\n\nconst middlewares = [thunk]\n\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(...middlewares)));\n\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from 'store/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport { ConfigProvider } from 'antd';\nimport viVN from 'antd/lib/locale/vi_VN';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConfigProvider locale={viVN}>\n      <App />\n    </ConfigProvider>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}